{
  doAttach();
  if (metadata == null)   throw new FileNotFolderException(getName());
  ListContainerOptions options=new ListContainerOptions();
  String name=getNameTrimLeadingSlashes();
  if (!name.equals("") && !name.equals("/")) {
    options.inDirectory(name + "/");
    logger.info(String.format(">> list: %s[%s]",getContainer(),name));
  }
 else {
    logger.info(String.format(">> list: %s",getContainer()));
  }
  Iterable<? extends StorageMetadata> list=lister.execute(getContainer(),options);
  Set<BlobStoreFileObject> children=Sets.newHashSet();
  loop:   for (  StorageMetadata md : list) {
    if (!md.getName().equals("")) {
      if (name.equals(md.getName()) && md.getType() != StorageType.BLOB) {
        continue loop;
      }
      String childName=Utils.replaceAll(md.getName(),UNDESCRIBED,"");
      BlobStoreFileObject fo=(BlobStoreFileObject)FileObjectUtils.getAbstractFileObject(getFileSystem().resolveFile(getFileSystem().getFileSystemManager().resolveName(getName(),childName,NameScope.CHILD)));
      children.add(fo);
    }
  }
  logger.info(String.format("<< list: %s",children));
  return children.toArray(new BlobStoreFileObject[]{});
}
