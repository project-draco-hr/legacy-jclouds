{
  String expect="Man is distinguished, not only by his reason, but by this singular passion from " + "other animals, which is a lust of the mind, that by a perseverance of delight " + "in the continued and indefatigable generation of knowledge, exceeds the short "+ "vehemence of any carnal pleasure.";
  String encoded="TWFuIGlzIGRpc3Rpbmd1aXNoZWQsIG5vdCBvbmx5IGJ5IGhpcyByZWFzb24sIGJ1dCBieSB0aGlz\r\n" + "IHNpbmd1bGFyIHBhc3Npb24gZnJvbSBvdGhlciBhbmltYWxzLCB3aGljaCBpcyBhIGx1c3Qgb2Yg\r\n" + "dGhlIG1pbmQsIHRoYXQgYnkgYSBwZXJzZXZlcmFuY2Ugb2YgZGVsaWdodCBpbiB0aGUgY29udGlu\r\n"+ "dWVkIGFuZCBpbmRlZmF0aWdhYmxlIGdlbmVyYXRpb24gb2Yga25vd2xlZGdlLCBleGNlZWRzIHRo\r\n"+ "ZSBzaG9ydCB2ZWhlbWVuY2Ugb2YgYW55IGNhcm5hbCBwbGVhc3VyZS4=\r\n";
  ByteBuffer buffer=FlexBase64.decode(encoded);
  Assert.assertEquals(expect,new String(buffer.array(),buffer.arrayOffset(),buffer.limit(),"US-ASCII"));
  buffer=FlexBase64.decode(ByteBuffer.wrap(encoded.getBytes("US-ASCII")));
  Assert.assertEquals(expect,new String(buffer.array(),buffer.arrayOffset(),buffer.limit(),"US-ASCII"));
  buffer=FlexBase64.decode(encoded.getBytes("US-ASCII"),0,encoded.length());
  Assert.assertEquals(expect,new String(buffer.array(),buffer.arrayOffset(),buffer.limit(),"US-ASCII"));
  byte[] output=new byte[expect.length()];
  FlexBase64.createDecoder().decode(encoded,output);
  Assert.assertEquals(expect,new String(output,0,output.length,"US-ASCII"));
}
