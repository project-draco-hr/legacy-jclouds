{
  Blob blob=checkNotNull(blobStore,"blobStore").blobBuilder(checkNotNull(blobMeta,"blobMeta").getName()).userMetadata(blobMeta.getUserMetadata()).build();
  if (blobMeta instanceof BlobMetadata) {
    HttpUtils.copy(((BlobMetadata)blobMeta).getContentMetadata(),blob.getMetadata().getContentMetadata());
  }
  blob.getMetadata().setETag(blobMeta.getETag());
  blob.getMetadata().setId(blobMeta.getProviderId());
  blob.getMetadata().setLastModified(blobMeta.getLastModified());
  blob.getMetadata().setLocation(blobMeta.getLocation());
  blob.getMetadata().setUri(blobMeta.getUri());
  return blob;
}
