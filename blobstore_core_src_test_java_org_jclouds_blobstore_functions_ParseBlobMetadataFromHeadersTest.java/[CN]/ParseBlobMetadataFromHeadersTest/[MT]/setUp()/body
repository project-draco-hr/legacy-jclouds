{
  parser=new ParseSystemAndUserMetadataFromHeaders<BlobMetadata>(new DateService(),"prefix",blobMetadataProvider);
  GeneratedHttpRequest<?> request=createMock(GeneratedHttpRequest.class);
  expect(request.getEndpoint()).andReturn(URI.create("http://localhost/key")).anyTimes();
  replay(request);
  parser.setContext(request);
}
