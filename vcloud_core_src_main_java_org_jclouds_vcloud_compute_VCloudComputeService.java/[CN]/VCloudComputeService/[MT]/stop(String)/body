{
  VApp vApp=client.getVApp(id);
  if (vApp.getStatus() != VAppStatus.OFF) {
    logger.debug(">> powering off vApp(%s), current status: %s",vApp.getId(),vApp.getStatus());
    Task task=client.powerOffVApp(vApp.getId());
    if (!taskTester.apply(task.getId())) {
      throw new TaskException("powerOff",vApp,task);
    }
    logger.debug("<< off vApp(%s)",vApp.getId());
  }
  logger.debug(">> deleting vApp(%s)",vApp.getId());
  client.deleteVApp(id);
  boolean successful=notFoundTester.apply(vApp);
  logger.debug("<< deleted vApp(%s) completed(%s)",vApp.getId(),successful);
}
