{
  ReferenceType reference1=new ReferenceTypeImpl("travis tritt",null,null);
  ReferenceType reference2=new ReferenceTypeImpl("hail mary",null,null);
  assertEquals(new OnlyReferenceTypeFirstWithNameMatchingConfigurationKeyOrDefault(new ValueOfConfigurationKeyOrNull(Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bindConstant().annotatedWith(Names.named("foo")).to(".*mary.*");
    }
  }
)),"foo",Predicates.<ReferenceType>alwaysTrue()).apply(ImmutableList.<ReferenceType>of(reference1,reference2)),reference2);
}
