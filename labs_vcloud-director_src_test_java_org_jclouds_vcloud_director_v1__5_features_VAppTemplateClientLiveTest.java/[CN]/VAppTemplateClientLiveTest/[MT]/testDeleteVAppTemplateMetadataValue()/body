{
  String key="mykey-" + random.nextInt();
  MetadataValue metadataValue=MetadataValue.builder().value("myval").build();
  final Task task=vAppTemplateClient.editVAppTemplateMetadataValue(vAppTemplateURI,key,metadataValue);
  retryTaskSuccess.apply(task);
  final Task deletionTask=vAppTemplateClient.deleteVAppTemplateMetadataValue(vAppTemplateURI,key);
  retryTaskSuccess.apply(deletionTask);
  Metadata newMetadata=vAppTemplateClient.getVAppTemplateMetadata(vAppTemplateURI);
  checkMetadataKeyAbsentFor("vAppTemplate",newMetadata,key);
}
