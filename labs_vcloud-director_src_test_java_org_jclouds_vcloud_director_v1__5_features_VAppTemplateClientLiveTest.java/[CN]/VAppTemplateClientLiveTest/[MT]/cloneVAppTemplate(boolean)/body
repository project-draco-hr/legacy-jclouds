{
  CloneVAppTemplateParams cloneVAppTemplateParams=CloneVAppTemplateParams.builder().source(Reference.builder().href(vAppTemplateURI).build()).build();
  VAppTemplate clonedVappTemplate=vdcClient.cloneVAppTemplate(vdcURI,cloneVAppTemplateParams);
  if (waitForTask) {
    Task cloneTask=Iterables.getFirst(clonedVappTemplate.getTasks(),null);
    assertNotNull(cloneTask,"vdcClient.cloneVAppTemplate returned VAppTemplate that did not contain any tasks");
    retryTaskSuccess.apply(cloneTask);
  }
  return clonedVappTemplate;
}
