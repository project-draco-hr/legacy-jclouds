{
  HttpRequest create=HttpRequest.builder().method("POST").endpoint(URI.create("https://api.joyentcloud.com/my/keys")).headers(ImmutableMultimap.<String,String>builder().put("X-Api-Version","~6.5").put("Accept","application/json").put("Authorization","Basic aWRlbnRpdHk6Y3JlZGVudGlhbA==").build()).payload(payloadFromStringWithContentType("{\"name\":\"rsa\",\"key\":\"ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEA0A5Pf5Cq...\"}","application/json")).build();
  HttpResponse createResponse=HttpResponse.builder().statusCode(202).message("HTTP/1.1 202 Accepted").payload(payloadFromResourceWithContentType("/key.json","application/json; charset=UTF-8")).build();
  JoyentCloudClient clientWithNewKey=requestsSendResponses(getDatacenters,getDatacentersResponse,create,createResponse);
  assertEquals(clientWithNewKey.getKeyClient().create(new ParseKeyTest().expected()).toString(),new ParseKeyTest().expected().toString());
}
