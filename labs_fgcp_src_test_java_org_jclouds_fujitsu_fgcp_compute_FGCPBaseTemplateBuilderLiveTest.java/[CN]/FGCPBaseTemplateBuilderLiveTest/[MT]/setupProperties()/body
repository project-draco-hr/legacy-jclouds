{
  Properties overrides=super.setupProperties();
  String proxy=System.getenv("http_proxy");
  if (proxy != null) {
    String[] parts=proxy.split("http://|:|@");
    overrides.setProperty(Constants.PROPERTY_PROXY_HOST,parts[parts.length - 2]);
    overrides.setProperty(Constants.PROPERTY_PROXY_PORT,parts[parts.length - 1]);
    if (parts.length >= 4) {
      overrides.setProperty(Constants.PROPERTY_PROXY_USER,parts[parts.length - 4]);
      overrides.setProperty(Constants.PROPERTY_PROXY_PASSWORD,parts[parts.length - 3]);
    }
  }
  overrides.setProperty(Constants.PROPERTY_TRUST_ALL_CERTS,"false");
  return overrides;
}
