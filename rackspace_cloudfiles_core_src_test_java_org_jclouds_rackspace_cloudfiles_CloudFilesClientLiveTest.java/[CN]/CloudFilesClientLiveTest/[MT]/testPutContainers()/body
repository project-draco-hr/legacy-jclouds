{
  String containerName=getContainerName();
  try {
    String containerName1=containerName + ".hello";
    assertTrue(context.getApi().createContainer(containerName1).get(10,TimeUnit.SECONDS));
    SortedSet<ContainerMetadata> response=context.getApi().listContainers(ListContainerOptions.Builder.afterMarker(containerName1.substring(0,containerName1.length() - 1)).maxResults(1)).get(10,TimeUnit.SECONDS);
    assertNotNull(response);
    assertEquals(response.size(),1);
    assertEquals(response.first().getName(),containerName + ".hello");
    String containerName2=containerName + "?should-be-illegal-question-char";
    try {
      context.getApi().createContainer(containerName2).get(10,TimeUnit.MILLISECONDS);
      fail("Should not be able to create container with illegal '?' character");
    }
 catch (    Exception e) {
    }
    try {
      context.getApi().createContainer(containerName + "/illegal-slash-char").get(10,TimeUnit.MILLISECONDS);
      fail("Should not be able to create container with illegal '/' character");
    }
 catch (    Exception e) {
    }
    assertTrue(context.getApi().deleteContainerIfEmpty(containerName1).get(10,TimeUnit.SECONDS));
    assertTrue(context.getApi().deleteContainerIfEmpty(containerName2).get(10,TimeUnit.SECONDS));
  }
  finally {
    returnContainer(containerName);
  }
}
