{
  PagedIterable<Firewall> firewalls=api().list(new ListOptions.Builder().filter("name eq " + FIREWALL_NAME));
  List<Firewall> firewallsAsList=Lists.newArrayList(firewalls.concat());
  assertEquals(firewallsAsList.size(),1);
  assertFirewallEquals(getOnlyElement(firewallsAsList),firewall.toBuilder().addAllowed(Firewall.Rule.builder().IPProtocol(IPProtocol.TCP).addPort(23).build()).build());
}
