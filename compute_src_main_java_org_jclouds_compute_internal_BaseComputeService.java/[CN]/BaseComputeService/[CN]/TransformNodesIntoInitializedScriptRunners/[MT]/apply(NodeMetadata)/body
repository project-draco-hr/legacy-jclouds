{
  checkNotNull(node,"node");
  if (options.getOverridingCredentials() != null) {
    Builder<? extends Credentials> builder=node.getCredentials() != null ? node.getCredentials().toBuilder() : new Credentials.Builder<Credentials>();
    if (options.getOverridingCredentials().identity != null)     builder.identity(options.getOverridingCredentials().identity);
    if (options.getOverridingCredentials().credential != null)     builder.credential(options.getOverridingCredentials().credential);
    node=NodeMetadataBuilder.fromNodeMetadata(node).credentials(builder.build()).build();
  }
  return executor.submit(initScriptRunnerFactory.create(node,script,options,badNodes));
}
