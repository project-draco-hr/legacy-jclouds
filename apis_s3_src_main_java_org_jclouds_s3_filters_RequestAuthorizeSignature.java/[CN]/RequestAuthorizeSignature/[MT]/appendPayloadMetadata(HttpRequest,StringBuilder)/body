{
  buffer.append(request.getPayload() == null ? utils.valueOrEmpty(request.getFirstHeaderOrNull("Content-MD5")) : utils.valueOrEmpty(request.getPayload() == null ? null : request.getPayload().getContentMetadata().getContentMD5())).append("\n");
  buffer.append(utils.valueOrEmpty(request.getPayload() == null ? request.getFirstHeaderOrNull(HttpHeaders.CONTENT_TYPE) : request.getPayload().getContentMetadata().getContentType())).append("\n");
  for (  String header : FIRST_HEADERS_TO_SIGN)   buffer.append(valueOrEmpty(request.getHeaders().get(header))).append("\n");
}
