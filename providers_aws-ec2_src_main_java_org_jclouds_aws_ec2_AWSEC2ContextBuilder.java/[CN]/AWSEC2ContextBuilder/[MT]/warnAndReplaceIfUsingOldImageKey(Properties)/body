{
  if (props.containsKey(PROPERTY_EC2_AMI_OWNERS)) {
    StringBuilder query=new StringBuilder();
    String owners=props.remove(PROPERTY_EC2_AMI_OWNERS).toString();
    if ("*".equals(owners))     query.append("state=available;image-type=machine");
 else     if (!"".equals(owners))     query.append("owner-id=").append(owners).append(";state=available;image-type=machine");
 else     if ("".equals(owners))     query=new StringBuilder();
    props.setProperty(PROPERTY_EC2_AMI_QUERY,query.toString());
    Logger.getAnonymousLogger().warning(String.format("Property %s is deprecated, please use new syntax: %s=%s",PROPERTY_EC2_AMI_OWNERS,PROPERTY_EC2_AMI_QUERY,query.toString()));
  }
  return props;
}
