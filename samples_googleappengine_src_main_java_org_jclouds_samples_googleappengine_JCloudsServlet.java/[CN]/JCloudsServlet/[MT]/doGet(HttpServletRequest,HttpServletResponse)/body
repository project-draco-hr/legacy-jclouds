{
  httpServletResponse.setContentType("text/plain");
  Writer writer=httpServletResponse.getWriter();
  try {
    List<S3Bucket.Metadata> myBuckets=context.getConnection().getOwnedBuckets().get(10,TimeUnit.SECONDS);
    writer.write("List:\n");
    for (    S3Bucket.Metadata bucket : myBuckets) {
      writer.write(String.format("  %1s: %2s entries%n",bucket.getName(),context.createInputStreamMap(bucket.getName()).size()));
    }
  }
 catch (  Exception e) {
    throw new ServletException(e);
  }
  writer.flush();
  writer.close();
}
