{
  final String bucketName=getScratchBucketName();
  try {
    deleteBucket(bucketName);
    client.putBucketIfNotExists(bucketName,createIn(LocationConstraint.EU).withBucketAcl(CannedAccessPolicy.PUBLIC_READ)).get(30,TimeUnit.SECONDS);
    assertEventually(new Runnable(){
      public void run(){
        try {
          AccessControlList acl=client.getBucketACL(bucketName).get(10,TimeUnit.SECONDS);
          assertTrue(acl.hasPermission(GroupGranteeURI.ALL_USERS,Permission.READ),acl.toString());
        }
 catch (        Exception e) {
          Utils.<RuntimeException>rethrowIfRuntimeOrSameType(e);
        }
      }
    }
);
  }
  finally {
    returnScratchBucket(bucketName);
  }
}
