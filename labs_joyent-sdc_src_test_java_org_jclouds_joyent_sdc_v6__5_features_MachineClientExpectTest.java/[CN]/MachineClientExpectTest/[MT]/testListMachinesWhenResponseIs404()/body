{
  HttpResponse listMachinesResponse=HttpResponse.builder().statusCode(404).build();
  SDCClient listMachinesWhenNone=requestsSendResponses(getDatacenters,getDatacentersResponse,listMachines,listMachinesResponse);
  assertEquals(listMachinesWhenNone.getMachineClientForDatacenter("us-sw-1").listMachines(),ImmutableSet.of());
}
