{
  HttpRequest catalogRequest=HttpRequest.builder().method("GET").endpoint(endpoint + "/catalog/7212e451-76e1-4631-b2de-ba1dfd8080e4/metadata").addHeader("Accept","*/*").addHeader("x-vcloud-authorization",token).build();
  HttpResponse catalogResponse=HttpResponse.builder().statusCode(200).payload(payloadFromResourceWithContentType("/catalog/catalogMetadata.xml",VCloudDirectorMediaType.METADATA)).build();
  VCloudDirectorApi api=requestsSendResponses(loginRequest,sessionResponse,catalogRequest,catalogResponse);
  URI catalogURI=URI.create(endpoint + "/catalog/7212e451-76e1-4631-b2de-ba1dfd8080e4");
  Metadata expected=Metadata.builder().type("application/vnd.vmware.vcloud.metadata+xml").href(URI.create("https://vcloudbeta.bluelock.com/api/catalog/7212e451-76e1-4631-b2de-ba1dfd8080e4/metadata")).link(Link.builder().rel("up").type("application/vnd.vmware.vcloud.catalog+xml").href(URI.create("https://vcloudbeta.bluelock.com/api/catalog/7212e451-76e1-4631-b2de-ba1dfd8080e4")).build()).entries(ImmutableSet.of(metadataEntry())).build();
  assertEquals(api.getCatalogApi().getMetadataApi().getMetadata(catalogURI),expected);
}
