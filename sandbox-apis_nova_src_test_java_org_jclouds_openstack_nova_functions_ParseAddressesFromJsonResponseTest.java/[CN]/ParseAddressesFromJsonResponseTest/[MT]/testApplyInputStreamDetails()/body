{
  InputStream is=getClass().getResourceAsStream("/test_list_addresses.json");
  UnwrapOnlyJsonValue<Addresses> parser=i.getInstance(Key.get(new TypeLiteral<UnwrapOnlyJsonValue<Addresses>>(){
  }
));
  Addresses response=parser.apply(new HttpResponse(200,"ok",Payloads.newInputStreamPayload(is)));
  ImmutableSet<Address> publicAddresses=ImmutableSet.of(new Address("67.23.10.132",4),new Address("::babe:67.23.10.132",6),new Address("67.23.10.131",4),new Address("::babe:4317:0A83",6));
  ImmutableSet<Address> privateAddresses=ImmutableSet.of(new Address("10.176.42.16",4),new Address("::babe:10.176.42.16",6));
  assertEqualsNoOrder(response.getPublicAddresses().toArray(),publicAddresses.toArray());
  assertEqualsNoOrder(response.getPrivateAddresses().toArray(),privateAddresses.toArray());
}
