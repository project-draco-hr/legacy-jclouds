{
  for (  String zoneId : novaContext.getApi().getConfiguredZones()) {
    Optional<SimpleTenantUsageClient> optClient=novaContext.getApi().getSimpleTenantUsageExtensionForZone(zoneId);
    if (optClient.isPresent() && identity.endsWith(":admin")) {
      SimpleTenantUsageClient client=optClient.get();
      Set<SimpleTenantUsage> usages=client.listTenantUsages();
      assertNotNull(usages);
      for (      SimpleTenantUsage usage : usages) {
        SimpleTenantUsage details=client.getTenantUsage(usage.getTenantId());
        assertNotNull(details);
      }
    }
  }
}
