{
  setupCredentials();
  Properties overrides=setupProperties();
  context=new ComputeServiceContextFactory().createContext(provider,identity,credential,ImmutableSet.<Module>of(new Log4JLoggingModule(),new SshjSshClientModule()),overrides);
  Function<String,String> configProperties=context.utils().injector().getInstance(ValueOfConfigurationKeyOrNull.class);
  imageId=configProperties.apply(ComputeServiceConstants.PROPERTY_IMAGE_ID);
  workingDir=configProperties.apply(VirtualBoxConstants.VIRTUALBOX_WORKINGDIR);
  jetty=new StartJettyIfNotAlreadyRunning(port).apply(basebaseResource);
  startVboxIfNotAlreadyRunning();
  hostVersion=Iterables.get(Splitter.on('r').split(context.getProviderSpecificContext().getBuildVersion()),0);
  adminDisk=workingDir + "/testadmin.vdi";
  operatingSystemIso=String.format("%s/%s.iso",workingDir,imageId);
  guestAdditionsIso=String.format("%s/VBoxGuestAdditions_%s.iso",workingDir,hostVersion);
}
