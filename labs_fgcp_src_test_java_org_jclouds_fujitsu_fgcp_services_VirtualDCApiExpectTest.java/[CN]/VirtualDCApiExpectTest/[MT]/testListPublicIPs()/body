{
  HttpRequest request=buildGETWithQuery("Action=ListPublicIP");
  HttpResponse response=HttpResponse.builder().statusCode(200).payload(payloadFromResource("/ListPublicIP-response.xml")).build();
  VirtualDCApi api=requestSendsResponse(request,response).getVirtualDCApi();
  Map<PublicIP,String> ips=api.listPublicIPs();
  assertNotNull(ips,"ips");
  assertEquals(ips.size(),2,"Unexpected number of ips: " + ips.size());
  assertEquals(ips.keySet().size(),2,"Unexpected number of ips: " + ips.size());
  assertTrue(ips.containsValue("ABCDEFGH-A123B456CE"),"missing system id");
  assertEquals(ips.keySet().iterator().next().getVersion(),PublicIP.Version.IPv4);
}
