{
  byte[] iso=new byte[]{0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15};
  Vdc vdc=lazyGetVdc();
  Link addMedia=find(vdc.getLinks(),and(relEquals("add"),typeEquals(VCloudDirectorMediaType.MEDIA)));
  Media sourceMedia=Media.builder().type(VCloudDirectorMediaType.MEDIA).name(name("TestMedia-")).size(iso.length).imageType(Media.ImageType.ISO).description("Test media generated by testAddMedia()").build();
  media=context.getApi().getMediaApi().add(addMedia.getHref(),sourceMedia);
  Checks.checkMediaFor(VCloudDirectorMediaType.MEDIA,media);
  CatalogItem editedCatalogItem=CatalogItem.builder().name("newitem").description("New Item").type(VCloudDirectorMediaType.CATALOG_ITEM).entity(Reference.builder().href(media.getHref()).build()).build();
  catalogItem=catalogApi.addItem(catalogUrn,editedCatalogItem);
  checkCatalogItem(catalogItem);
  assertEquals(catalogItem.getName(),"newitem");
  assertEquals(catalogItem.getDescription(),"New Item");
}
