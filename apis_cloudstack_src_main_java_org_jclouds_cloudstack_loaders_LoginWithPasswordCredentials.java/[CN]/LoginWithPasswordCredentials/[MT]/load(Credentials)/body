{
  String username=input.identity;
  String domain="";
  if (username.indexOf('/') != -1) {
    File domainUsername=new File(username);
    username=domainUsername.getName();
    domain=domainUsername.getParent();
  }
  String hashedPassword=base16().lowerCase().encode(md5().hashString(input.credential,UTF_8).asBytes());
  return client.loginUserInDomainWithHashOfPassword(username,domain,hashedPassword);
}
