{
  HttpRequest taskRequest=HttpRequest.builder().method("GET").endpoint(URI.create(endpoint + "/tasksList/6f312e42-cd2b-488d-a2bb-97519cd57ed0")).headers(ImmutableMultimap.<String,String>builder().put("Accept","*/*").put("x-vcloud-authorization",token).build()).build();
  HttpResponse taskResponse=HttpResponse.builder().statusCode(200).payload(payloadFromResourceWithContentType("/task/taskslist.xml",VCloudDirectorMediaType.TASKS_LIST + ";version=1.5")).build();
  HttpRequest orgRequest=HttpRequest.builder().method("GET").endpoint(URI.create(endpoint + "/org/6f312e42-cd2b-488d-a2bb-97519cd57ed0")).headers(ImmutableMultimap.<String,String>builder().put("Accept","*/*").put("x-vcloud-authorization",token).build()).build();
  HttpResponse orgResponse=HttpResponse.builder().statusCode(200).payload(payloadFromResourceWithContentType("/org/org.xml",VCloudDirectorMediaType.TASKS_LIST + ";version=1.5")).build();
  VCloudDirectorClient client=requestsSendResponses(loginRequest,sessionResponse,taskRequest,taskResponse,orgRequest,orgResponse);
  TasksList expected=TasksList.builder().name("Tasks Lists").type("application/vnd.vmware.vcloud.tasksList+xml").href(URI.create("https://vcloudbeta.bluelock.com/api/tasksList/6f312e42-cd2b-488d-a2bb-97519cd57ed0")).task(taskOne()).task(taskTwo()).build();
  Reference orgRef=Reference.builder().href(URI.create("https://vcloudbeta.bluelock.com/api/org/6f312e42-cd2b-488d-a2bb-97519cd57ed0")).build();
  assertEquals(client.getTaskClient().getTaskList(orgRef),expected);
}
