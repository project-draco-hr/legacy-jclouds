{
  String name=System.getProperty("user.name").replace('.','-') + ".bulk.route53test.jclouds.org.";
  clearAndDeleteZonesNamed(name);
  ImmutableList<RecordSet> records=ImmutableList.<RecordSet>builder().add(RecordSet.builder().name("dom1." + name).type(TXT).add("\"somehow\" \" somewhere\"").build()).add(RecordSet.builder().name("dom2." + name).type(TXT).add("\"goodies\"").build()).build();
  String nonce=name + " @ " + new Date();
  String comment=name + " for " + JcloudsVersion.get();
  NewZone newZone=context.getApi().getZoneApi().createWithReferenceAndComment(name,nonce,comment);
  String zoneId=newZone.getZone().getId();
  getAnonymousLogger().info("created zone: " + newZone);
  try {
    assertTrue(inSync.apply(newZone.getChange()),"zone didn't sync " + newZone);
    sync(api(zoneId).apply(createAll(records)));
    checkAllRRs(zoneId);
    sync(api(zoneId).apply(deleteAll(records)));
    PagedIterable<RecordSet> refreshed=refresh(zoneId);
    assertTrue(refreshed.concat().filter(not(requiredRRTypes)).isEmpty(),"zone still has optional records: " + refreshed);
  }
  finally {
    clearAndDeleteZonesNamed(name);
  }
}
