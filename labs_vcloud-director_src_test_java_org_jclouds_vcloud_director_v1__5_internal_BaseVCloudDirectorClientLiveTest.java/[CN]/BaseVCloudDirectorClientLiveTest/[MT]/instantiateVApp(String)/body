{
  InstantiateVAppTemplateParams instantiate=InstantiateVAppTemplateParams.builder().name(name).notDeploy().notPowerOn().description("Test VApp").instantiationParams(instantiationParams()).source(Reference.builder().href(vAppTemplateURI).build()).build();
  VdcClient vdcClient=context.getApi().getVdcClient();
  VApp vAppInstantiated=vdcClient.instantiateVApp(vdcURI,instantiate);
  assertNotNull(vAppInstantiated,String.format(ENTITY_NON_NULL,VAPP));
  Task instantiationTask=Iterables.getFirst(vAppInstantiated.getTasks(),null);
  if (instantiationTask != null)   assertTaskSucceedsLong(instantiationTask);
  vAppNames.add(name);
  return vAppInstantiated;
}
