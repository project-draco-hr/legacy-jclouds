{
  Method method=ResourceAsyncClient.class.getMethod("getComputePoolCpuUsage",URI.class);
  HttpRequest request=factory(ResourceAsyncClient.class).createRequest(method,new URI("/1"));
  assertResponseParserClassEquals(method,request,ParseXMLWithJAXB.class);
  Function<HttpResponse,ComputePoolCpuUsage> parser=(Function<HttpResponse,ComputePoolCpuUsage>)RestAnnotationProcessor.createResponseParser(parserFactory,injector,method,request);
  InputStream is=getClass().getResourceAsStream("/computePoolCpuUsage.xml");
  ComputePoolCpuUsage cpuUsage=parser.apply(new HttpResponse(200,"ok",newInputStreamPayload(is)));
  assertLinks(cpuUsage.getLinks());
  assertEquals(cpuUsage.getStartTime(),dateService.iso8601DateParse("2011-12-05T09:45:00.0Z"));
  assertEquals(cpuUsage.getEndTime(),dateService.iso8601DateParse("2011-12-06T09:45:00.0Z"));
  assertDetails(cpuUsage.getDetails());
  Set<ComputePoolCpuUsageDetailSummaryEntry> entries=cpuUsage.getDetails().getEntries();
  ComputePoolCpuUsageDetailSummaryEntry first=Iterables.getFirst(entries,null);
  assertEquals(cpuUsage.getStartTime(),first.getTime());
  ComputePoolCpuUsageDetailSummaryEntry last=Iterables.getLast(entries,null);
  assertEquals(cpuUsage.getEndTime(),last.getTime());
}
