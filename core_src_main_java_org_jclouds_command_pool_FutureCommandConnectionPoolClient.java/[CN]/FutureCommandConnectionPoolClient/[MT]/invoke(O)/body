{
  exceptionIfNotActive();
  FutureCommandConnectionHandle<C,O> connectionHandle=null;
  try {
    connectionHandle=futureCommandConnectionPool.getHandle(command);
  }
 catch (  InterruptedException e) {
    logger.warn(e,"Interrupted getting a connection for command %1$s; retrying",command);
    commandQueue.add(command);
    return;
  }
catch (  TimeoutException e) {
    logger.warn(e,"Timeout getting a connection for command %1$s; retrying",command);
    commandQueue.add(command);
    return;
  }
  if (connectionHandle == null) {
    logger.error("Failed to obtain connection for command %1$s; retrying",command);
    commandQueue.add(command);
    return;
  }
  connectionHandle.startConnection();
}
