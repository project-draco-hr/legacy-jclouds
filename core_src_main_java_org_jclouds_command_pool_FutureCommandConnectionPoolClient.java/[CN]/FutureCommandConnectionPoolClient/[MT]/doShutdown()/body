{
  if (exception == null && futureCommandConnectionPool.getException() != null)   exception=futureCommandConnectionPool.getException();
  while (!commandQueue.isEmpty()) {
    FutureCommand command=commandQueue.remove();
    if (command != null) {
      if (exception != null)       command.setException(exception);
 else       command.cancel(true);
    }
  }
}
