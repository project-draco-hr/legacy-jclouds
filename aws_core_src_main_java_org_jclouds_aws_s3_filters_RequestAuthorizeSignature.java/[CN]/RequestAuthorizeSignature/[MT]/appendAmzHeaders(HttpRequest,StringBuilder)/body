{
  Set<String> headers=new TreeSet<String>(request.getHeaders().keySet());
  for (  String header : headers) {
    if (header.startsWith("x-amz-")) {
      toSign.append(header.toLowerCase()).append(":");
      for (      String value : request.getHeaders().get(header)) {
        toSign.append(Utils.replaceAll(value,NEWLINE_PATTERN,"")).append(",");
      }
      toSign.deleteCharAt(toSign.lastIndexOf(","));
      toSign.append("\n");
    }
  }
}
