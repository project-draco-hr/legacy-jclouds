{
  Set<S3Object> objects=new HashSet<S3Object>();
  Set<Future<S3Object>> futureObjects=new HashSet<Future<S3Object>>();
  for (  String key : keySet()) {
    futureObjects.add(connection.getObject(bucket,key));
  }
  for (  Future<S3Object> futureObject : futureObjects) {
    S3Object object=null;
    try {
      object=futureObject.get(requestTimeoutMilliseconds,TimeUnit.MILLISECONDS);
    }
 catch (    Exception e) {
      Utils.<S3RuntimeException>rethrowIfRuntimeOrSameType(e);
      throw new S3RuntimeException(String.format("Error getting value from bucket %1s:%2s",bucket,object != null ? object.getKey() : "unknown"),e);
    }
    if (object != S3Object.NOT_FOUND)     objects.add(object);
  }
  return objects;
}
