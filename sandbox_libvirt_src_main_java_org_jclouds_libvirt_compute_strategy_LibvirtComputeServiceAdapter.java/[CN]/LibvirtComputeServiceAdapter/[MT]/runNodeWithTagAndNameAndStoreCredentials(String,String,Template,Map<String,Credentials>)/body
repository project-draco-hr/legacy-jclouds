{
  try {
    String xmlDesc="";
    Domain domain=null;
    String domainName=tag;
    domain=client.domainLookupByName(domainName);
    System.out.println("domain name " + domain.getName());
    XMLBuilder builder=XMLBuilder.parse(new InputSource(new StringReader(domain.getXMLDesc(0))));
    Document doc=builder.getDocument();
    XPathExpression expr=null;
    NodeList nodes=null;
    String xpathString="//devices/disk[@device='disk']/source/@file";
    expr=XPathFactory.newInstance().newXPath().compile(xpathString);
    nodes=(NodeList)expr.evaluate(doc,XPathConstants.NODESET);
    String diskFileName=nodes.item(0).getNodeValue();
    StorageVol storageVol=client.storageVolLookupByPath(diskFileName);
    String poolName="default";
    StoragePool storagePool=client.storagePoolLookupByName(poolName);
    StorageVol clonedVol=cloneVolume(storagePool,storageVol);
    System.out.println(clonedVol.getXMLDesc(0));
    String xmlFinal=generateClonedDomainXML(domain.getXMLDesc(0));
    domain=client.domainDefineXML(xmlFinal);
    return domain;
  }
 catch (  LibvirtException e) {
    return propogate(e);
  }
catch (  Exception e) {
    return propogate(e);
  }
}
