{
  Properties outputProperties=new Properties();
  outputProperties.put(javax.xml.transform.OutputKeys.METHOD,"xml");
  outputProperties.put(javax.xml.transform.OutputKeys.INDENT,"yes");
  outputProperties.put("{http://xml.apache.org/xslt}indent-amount","2");
  XMLBuilder builder=XMLBuilder.parse(new InputSource(new StringReader(fromXML)));
  String cloneAppend="-clone";
  builder.xpathFind("//domain/name").t(cloneAppend);
  Element oldChild=builder.xpathFind("//domain/uuid").getElement();
  Node newNode=oldChild.cloneNode(true);
  newNode.getFirstChild().setNodeValue(UUID.randomUUID().toString());
  builder.getDocument().getDocumentElement().replaceChild(newNode,oldChild);
  String fromVolPath=builder.xpathFind("//domain/devices/disk/source").getElement().getAttribute("file");
  builder.xpathFind("//domain/devices/disk/source").a("file",fromVolPath + cloneAppend);
  String fromMACaddress=builder.xpathFind("//domain/devices/interface/mac").getElement().getAttribute("address");
  builder.xpathFind("//domain/devices/interface/mac").a("address","52:54:00:5c:dd:eb");
  return builder.asString(outputProperties);
}
