{
  String[] domains;
  try {
    domains=client.listDefinedDomains();
    Domain domain=null;
    String xmlDesc="";
    for (    String domainName : domains) {
      domain=client.domainLookupByName(domainName);
      if (domainName.equals("ttylinux")) {
        domain=client.domainLookupByName(domainName);
        xmlDesc=domain.getXMLDesc(0);
        System.out.println("domain: " + domain.getUUIDString());
        XMLBuilder builder=XMLBuilder.parse(new InputSource(new StringReader(xmlDesc)));
        Document doc=builder.getDocument();
        XPathExpression expr=null;
        NodeList nodes=null;
        String xpathString="//devices/disk[@device='disk']/source/@file";
        expr=XPathFactory.newInstance().newXPath().compile(xpathString);
        nodes=(NodeList)expr.evaluate(doc,XPathConstants.NODESET);
        String diskFileName=nodes.item(0).getNodeValue();
        System.out.println("\n *** diskFileName " + diskFileName);
        StorageVol storageVol=client.storageVolLookupByPath(diskFileName);
        System.out.println(storageVol.getXMLDesc(0));
        String poolName="default";
        StoragePool storagePool=client.storagePoolLookupByName(poolName);
        StorageVol clonedVol=cloneVolume(storagePool,storageVol);
        domain=client.domainDefineXML(generateClonedDomainXML(xmlDesc));
      }
    }
    return domain;
  }
 catch (  LibvirtException e) {
    return propogate(e);
  }
catch (  Exception e) {
    return propogate(e);
  }
}
