{
  Set<Field> fields=new HashSet<Field>();
  Class<?> type=declaredType;
  while (type != null) {
    fields.addAll(Arrays.asList(type.getDeclaredFields()));
    type=type.getSuperclass();
  }
  return filter(fields,new LoggerFieldsAnnotatedWithResource());
}
