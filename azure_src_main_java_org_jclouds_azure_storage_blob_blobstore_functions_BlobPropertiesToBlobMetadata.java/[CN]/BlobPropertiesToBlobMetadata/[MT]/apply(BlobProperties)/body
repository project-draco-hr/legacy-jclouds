{
  if (from == null)   return null;
  MutableBlobMetadata to=new MutableBlobMetadataImpl();
  if (from.getContentMD5() != null)   to.setContentMD5(from.getContentMD5());
  if (from.getContentType() != null)   to.setContentType(from.getContentType());
  to.setUserMetadata(from.getMetadata());
  to.setETag(from.getETag());
  to.setLastModified(from.getLastModified());
  to.setName(from.getName());
  to.setSize(from.getContentLength());
  to.setType(StorageType.BLOB);
  if (isDirectoryStrategy.execute(to)) {
    to.setType(StorageType.RELATIVE_PATH);
  }
  return to;
}
