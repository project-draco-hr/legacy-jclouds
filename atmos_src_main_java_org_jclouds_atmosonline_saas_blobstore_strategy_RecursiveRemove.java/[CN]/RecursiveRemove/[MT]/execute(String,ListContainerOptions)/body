{
  String path=containerName;
  if (options.getDir() != null)   path+="/" + options.getDir();
  Set<Future<Void>> deletes=Sets.newHashSet();
  try {
    for (    DirectoryEntry md : async.listDirectory(path).get(requestTimeoutMilliseconds,TimeUnit.MILLISECONDS)) {
      deletes.add(rm(path + "/" + md.getObjectName(),md.getType(),options.isRecursive()));
    }
    for (    Future<Void> isdeleted : deletes) {
      isdeleted.get(requestTimeoutMilliseconds,TimeUnit.MILLISECONDS);
    }
  }
 catch (  Exception e) {
    Throwables.propagateIfPossible(e,BlobRuntimeException.class);
    throw new BlobRuntimeException("Error deleting path: " + path,e);
  }
}
