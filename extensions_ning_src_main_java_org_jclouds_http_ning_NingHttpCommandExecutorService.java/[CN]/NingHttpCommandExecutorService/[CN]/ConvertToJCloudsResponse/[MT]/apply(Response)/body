{
  HttpResponse response=new HttpResponse();
  response.setStatusCode(nativeResponse.getStatusCode());
  for (  Pair<String,String> header : nativeResponse.getHeaders()) {
    response.getHeaders().put(header.getFirst(),header.getSecond());
  }
  try {
    String responseBody=nativeResponse.getResponseBody();
    if (responseBody != null) {
      response.setContent(Utils.toInputStream(responseBody));
    }
  }
 catch (  IOException e) {
    throw Throwables.propagate(e);
  }
  return response;
}
