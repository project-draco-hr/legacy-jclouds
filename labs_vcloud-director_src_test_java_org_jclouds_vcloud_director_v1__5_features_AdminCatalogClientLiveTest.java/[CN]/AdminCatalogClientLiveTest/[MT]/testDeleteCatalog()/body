{
  AdminCatalog deleteCatalog=AdminCatalog.builder().name("Test Catalog " + random.nextInt()).description("created by testCreateCatalog()").build();
  deleteCatalog=catalogClient.createCatalog(orgRef.getHref(),deleteCatalog);
  catalogClient.deleteCatalog(deleteCatalog.getHref());
  Error expected=Error.builder().message("No access to entity \"(com.vmware.vcloud.entity.catalog:" + deleteCatalog.getId().substring("urn:vcloud:catalog:".length()) + ")\".").majorErrorCode(403).minorErrorCode("ACCESS_TO_RESOURCE_IS_FORBIDDEN").build();
  try {
    deleteCatalog=catalogClient.getCatalog(deleteCatalog.getHref());
    fail("Should give HTTP 403 error");
  }
 catch (  VCloudDirectorException vde) {
    assertEquals(vde.getError(),expected);
    deleteCatalog=null;
  }
catch (  Exception e) {
    fail("Should have thrown a VCloudDirectorException");
  }
  if (deleteCatalog != null) {
    assertNull(deleteCatalog,String.format(OBJ_DEL,CATALOG,deleteCatalog.toString()));
  }
}
