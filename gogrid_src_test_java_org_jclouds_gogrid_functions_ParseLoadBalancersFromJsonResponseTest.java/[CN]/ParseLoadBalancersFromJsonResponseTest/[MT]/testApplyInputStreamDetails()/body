{
  InputStream is=getClass().getResourceAsStream("/test_get_load_balancer_list.json");
  ParseLoadBalancerListFromJsonResponse parser=new ParseLoadBalancerListFromJsonResponse(i.getInstance(Gson.class));
  SortedSet<LoadBalancer> response=parser.apply(is);
  Option dc=new Option(1l,"US-West-1","US West 1 Datacenter");
  LoadBalancer loadBalancer=new LoadBalancer(6372L,"Balancer",null,new IpPortPair(new Ip(1313082L,"204.51.240.181","204.51.240.176/255.255.255.240",true,IpState.ASSIGNED,dc),80),ImmutableSortedSet.of(new IpPortPair(new Ip(1313086L,"204.51.240.185","204.51.240.176/255.255.255.240",true,IpState.ASSIGNED,dc),80),new IpPortPair(new Ip(1313089L,"204.51.240.188","204.51.240.176/255.255.255.240",true,IpState.ASSIGNED,dc),80)),LoadBalancerType.ROUND_ROBIN,LoadBalancerPersistenceType.NONE,LoadBalancerOs.F5,LoadBalancerState.ON,dc);
  assertEquals(Iterables.getOnlyElement(response),loadBalancer);
}
