{
  String keyPairName=prefix + "-windows-keypair";
  client.getSSHKeyPairClient().deleteSSHKeyPair(keyPairName);
  SshKeyPair keyPair=client.getSSHKeyPairClient().createSSHKeyPair(keyPairName);
  String group=prefix + "-windows-test";
  Template template=computeContext.getComputeService().templateBuilder().imageId("290").locationId("1").options(new CloudStackTemplateOptions().setupStaticNat(false).keyPair(keyPairName)).build();
  NodeMetadata node=null;
  try {
    node=getOnlyElement(computeContext.getComputeService().createNodesInGroup(group,1,template));
    EncryptedPassword password=client.getVirtualMachineClient().getEncryptedPasswordForVirtualMachine(Long.parseLong(node.getId()));
    Assert.fail("Private key:" + keyPair.getPrivateKey() + "\nPassword: "+ password.getEncryptedPassword());
  }
  finally {
    if (node != null) {
      computeContext.getComputeService().destroyNode(node.getId());
    }
  }
}
