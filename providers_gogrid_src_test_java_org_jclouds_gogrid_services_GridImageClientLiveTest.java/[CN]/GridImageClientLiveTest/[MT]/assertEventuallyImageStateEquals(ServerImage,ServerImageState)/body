{
  assertTrue(new RetryablePredicate<ServerImage>(new Predicate<ServerImage>(){
    @Override public boolean apply(    ServerImage input){
      return Iterables.getOnlyElement(restContext.getApi().getImageServices().getImagesById(input.getId())).getState() == state;
    }
  }
,300,1,TimeUnit.SECONDS).apply(image));
}
