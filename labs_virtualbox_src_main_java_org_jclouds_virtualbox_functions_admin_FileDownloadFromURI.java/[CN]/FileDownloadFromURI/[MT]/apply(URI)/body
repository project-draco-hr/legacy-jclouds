{
  final File file=new File(isosDir,new File(input.getPath()).getName());
  try {
    if (!file.exists()) {
      final InputStream inputStream=client.get(input).get();
      checkNotNull(inputStream,"%s not found",input);
      try {
        copy(inputStream,new FileOutputStream(file));
        return file;
      }
 catch (      FileNotFoundException e) {
        logger.error(e,"File %s could not be found",file.getPath());
      }
catch (      IOException e) {
        logger.error(e,"Error when downloading file %s",input.toString());
      }
 finally {
        closeQuietly(inputStream);
      }
      return null;
    }
 else {
      logger.debug("File %s already exists. Skipping download",file.getPath());
      return file;
    }
  }
 catch (  Exception e) {
    throw Throwables.propagate(e);
  }
}
