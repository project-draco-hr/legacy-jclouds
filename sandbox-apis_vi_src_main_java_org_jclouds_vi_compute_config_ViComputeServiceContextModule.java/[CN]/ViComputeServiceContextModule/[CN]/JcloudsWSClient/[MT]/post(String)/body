{
  Builder<String,String> headers=ImmutableMultimap.<String,String>builder();
  headers.put("SOAPAction","urn:vim25/4.0");
  if (getCookie() != null)   headers.put(HttpHeaders.COOKIE,getCookie());
  HttpRequest request;
  try {
    request=HttpRequest.builder().endpoint(getBaseUrl().toURI()).method("POST").headers(headers.build()).payload(Payloads.newStringPayload(soapMsg)).build();
  }
 catch (  URISyntaxException e) {
    Throwables.propagate(e);
    return null;
  }
  HttpResponse response=client.invoke(request);
  if (getCookie() != null && response.getFirstHeaderOrNull(HttpHeaders.SET_COOKIE) != null) {
    setCookie(response.getFirstHeaderOrNull(HttpHeaders.SET_COOKIE));
  }
  return response.getPayload().getInput();
}
