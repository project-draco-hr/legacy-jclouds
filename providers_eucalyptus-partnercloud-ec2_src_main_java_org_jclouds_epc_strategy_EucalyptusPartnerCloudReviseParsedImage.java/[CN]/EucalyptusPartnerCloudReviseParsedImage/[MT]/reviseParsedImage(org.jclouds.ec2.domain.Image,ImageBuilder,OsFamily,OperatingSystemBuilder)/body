{
  try {
    if (from.getImageLocation().startsWith("windows")) {
      family=OsFamily.WINDOWS;
      osBuilder.family(family);
      Matcher matcher=WINDOWS.matcher(from.getImageLocation());
      if (matcher.find()) {
        osBuilder.version(ComputeServiceUtils.parseVersionOrReturnEmptyString(family,matcher.group(1).replace('-',' ').replace('s','S'),osVersionMap));
      }
    }
 else {
      Matcher matcher=PATTERN.matcher(from.getImageLocation());
      if (matcher.find()) {
        family=OsFamily.fromValue(matcher.group(1));
        osBuilder.family(family);
        osBuilder.version(ComputeServiceUtils.parseVersionOrReturnEmptyString(family,matcher.group(2),osVersionMap));
      }
    }
  }
 catch (  IllegalArgumentException e) {
    logger.debug("<< didn't match os(%s)",from.getImageLocation());
  }
catch (  NoSuchElementException e) {
    logger.debug("<< didn't match at all(%s)",from.getImageLocation());
  }
}
