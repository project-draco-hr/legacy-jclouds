{
  NovaTemplateOptions templateOptions=NovaTemplateOptions.class.cast(template.getOptions());
  String zone=template.getLocation().getId();
  if (templateOptions.shouldAutoAssignFloatingIp()) {
    checkArgument(novaClient.getFloatingIPExtensionForZone(zone).isPresent(),"Floating IPs are required by options, but the extension is not available! options: %s",templateOptions);
  }
  if (templateOptions.getSecurityGroupNames().size() > 0) {
    checkArgument(novaClient.getSecurityGroupExtensionForZone(zone).isPresent(),"Security groups are required by options, but the extension is not available! options: %s",templateOptions);
  }
  return super.execute(group,count,template,goodNodes,badNodes,customizationResponses);
}
