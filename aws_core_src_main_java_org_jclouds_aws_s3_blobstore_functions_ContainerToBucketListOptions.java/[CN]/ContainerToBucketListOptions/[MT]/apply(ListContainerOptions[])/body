{
  ListBucketOptions httpOptions=new ListBucketOptions();
  if (optionsList.length != 0) {
    if (!optionsList[0].isRecursive()) {
      httpOptions.delimiter("/");
    }
    if (optionsList[0].getDir() != null) {
      String path=optionsList[0].getDir();
      if (!path.endsWith("/"))       path=path + "/";
      httpOptions.withPrefix(path);
    }
    if (optionsList[0].getMarker() != null) {
      httpOptions.afterMarker(optionsList[0].getMarker());
    }
    if (optionsList[0].getMaxResults() != null) {
      httpOptions.maxResults(optionsList[0].getMaxResults());
    }
  }
  return httpOptions;
}
