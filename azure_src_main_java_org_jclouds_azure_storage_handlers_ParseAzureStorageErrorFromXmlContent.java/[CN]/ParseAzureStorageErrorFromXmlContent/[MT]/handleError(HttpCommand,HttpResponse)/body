{
  String content;
  try {
    content=response.getContent() != null ? Utils.toStringAndClose(response.getContent()) : null;
    if (content != null) {
      try {
        if (content.indexOf('<') >= 0) {
          AzureStorageError error=utils.parseAzureStorageErrorFromContent(command,response,content);
          AzureStorageResponseException ex=new AzureStorageResponseException(command,response,error);
          if (error.getCode().equals("ContainerNotFound")) {
            command.setException(new ContainerNotFoundException(ex));
          }
 else {
            command.setException(ex);
          }
        }
 else {
          command.setException(new HttpResponseException(command,response,content));
        }
      }
 catch (      Exception he) {
        command.setException(new HttpResponseException(command,response,content));
        Throwables.propagateIfPossible(he);
      }
    }
 else {
      command.setException(new HttpResponseException(command,response));
    }
  }
 catch (  Exception e) {
    command.setException(new HttpResponseException(command,response));
    Throwables.propagateIfPossible(e);
  }
}
