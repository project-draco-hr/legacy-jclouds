{
  Multimap<String,String> matrixMap=LinkedListMultimap.create();
  if (declaring.isAnnotationPresent(MatrixParams.class)) {
    MatrixParams matrix=declaring.getAnnotation(MatrixParams.class);
    addMatrix(matrixMap,matrix,tokenValues);
  }
  if (method.isAnnotationPresent(MatrixParams.class)) {
    MatrixParams matrix=method.getAnnotation(MatrixParams.class);
    addMatrix(matrixMap,matrix,tokenValues);
  }
  for (  Entry<String,String> matrix : getMatrixParamKeyValues(method,args).entries()) {
    matrixMap.put(matrix.getKey(),Strings2.replaceTokens(matrix.getValue(),tokenValues));
  }
  return matrixMap;
}
