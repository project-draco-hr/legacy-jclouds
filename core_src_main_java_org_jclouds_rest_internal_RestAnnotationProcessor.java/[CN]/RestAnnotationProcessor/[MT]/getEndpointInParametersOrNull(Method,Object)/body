{
  Map<Integer,Set<Annotation>> map=indexWithOnlyOneAnnotation(method,"@EndpointParam",methodToIndexOfParamToEndpointParamAnnotations);
  if (map.size() == 1 && args.length > 0) {
    EndpointParam annotation=(EndpointParam)map.values().iterator().next().iterator().next();
    int index=map.keySet().iterator().next();
    Function<Object,URI> parser=injector.getInstance(annotation.parser());
    try {
      URI returnVal=parser.apply(args[index]);
      checkArgument(returnVal != null,String.format("endpoint for [%s] not configured for %s",args[index],method));
      return returnVal;
    }
 catch (    NullPointerException e) {
      logger.error("argument at index %d on method %s",index,method);
      throw e;
    }
  }
  return null;
}
