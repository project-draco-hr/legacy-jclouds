{
  if (declaring.isAnnotationPresent(RequestFilters.class)) {
    for (    Class<? extends HttpRequestFilter> clazz : declaring.getAnnotation(RequestFilters.class).value()) {
      HttpRequestFilter instance=injector.getInstance(clazz);
      request.getFilters().add(instance);
      logger.trace("%s - adding filter  %s from annotation on %s",request,instance,declaring.getName());
    }
  }
  if (method.isAnnotationPresent(RequestFilters.class)) {
    if (method.isAnnotationPresent(OverrideRequestFilters.class))     request.getFilters().clear();
    for (    Class<? extends HttpRequestFilter> clazz : method.getAnnotation(RequestFilters.class).value()) {
      HttpRequestFilter instance=injector.getInstance(clazz);
      request.getFilters().add(instance);
      logger.trace("%s - adding filter  %s from annotation on %s",request,instance,method.getName());
    }
  }
}
