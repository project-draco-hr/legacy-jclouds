{
  Optional<Type> configuredReturnVal=Optional.absent();
  if (method.isAnnotationPresent(JAXBResponseParser.class)) {
    Type configuredClass=method.getAnnotation(JAXBResponseParser.class).value();
    configuredReturnVal=configuredClass.equals(NullType.class) ? Optional.<Type>absent() : Optional.<Type>of(configuredClass);
  }
  Type returnVal=configuredReturnVal.or(getReturnTypeForMethod(method));
  Type parserType=Types.newParameterizedType(ParseXMLWithJAXB.class,returnVal);
  return (Key<? extends Function<HttpResponse,?>>)Key.get(parserType);
}
