{
  Multimap<String,String> headers=LinkedHashMultimap.create();
  addHeaderIfAnnotationPresentOnMethod(headers,method,tokenValues);
  Cache<Integer,Set<Annotation>> indexToHeaderParam=methodToIndexOfParamToHeaderParamAnnotations.get(method);
  for (  Entry<Integer,Set<Annotation>> entry : indexToHeaderParam.asMap().entrySet()) {
    for (    Annotation key : entry.getValue()) {
      String value=args[entry.getKey()].toString();
      value=Strings2.replaceTokens(value,tokenValues);
      headers.put(((HeaderParam)key).value(),value);
    }
  }
  addProducesIfPresentOnTypeOrMethod(headers,method);
  addConsumesIfPresentOnTypeOrMethod(headers,method);
  return headers;
}
