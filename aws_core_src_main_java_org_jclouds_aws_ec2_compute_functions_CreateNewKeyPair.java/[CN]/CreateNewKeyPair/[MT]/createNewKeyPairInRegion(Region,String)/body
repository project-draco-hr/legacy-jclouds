{
  logger.debug(">> creating keyPair region(%s) tag(%s)",region,tag);
  KeyPair keyPair=null;
  while (keyPair == null) {
    try {
      keyPair=ec2Client.getKeyPairServices().createKeyPairInRegion(region,tag + "-" + new SecureRandom().nextInt(100));
      logger.debug("<< created keyPair(%s)",keyPair.getKeyName());
    }
 catch (    AWSResponseException e) {
      if (!e.getError().getCode().equals("InvalidKeyPair.Duplicate")) {
        throw e;
      }
    }
  }
  return keyPair;
}
