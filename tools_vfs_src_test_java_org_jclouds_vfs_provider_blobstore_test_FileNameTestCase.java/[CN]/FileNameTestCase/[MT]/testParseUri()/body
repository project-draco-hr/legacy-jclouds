{
  BlobStoreFileName name=(BlobStoreFileName)BlobStoreFileNameParser.getInstance().parseUri(null,null,"blobstore://service/container/file");
  assertEquals("blobstore",name.getScheme());
  assertNull(name.getUserName());
  assertNull(name.getPassword());
  assertEquals("service",name.getHostName());
  assertEquals(443,name.getPort());
  assertEquals(name.getDefaultPort(),name.getPort());
  assertEquals("container",name.getContainer());
  assertEquals("/file",name.getPath());
  assertEquals("blobstore://service/container/",name.getRootURI());
  assertEquals("blobstore://service/container/file",name.getURI());
  name=(BlobStoreFileName)BlobStoreFileNameParser.getInstance().parseUri(null,null,"blobstore://service/container");
  assertEquals("blobstore",name.getScheme());
  assertNull(name.getUserName());
  assertNull(name.getPassword());
  assertEquals("service",name.getHostName());
  assertEquals(443,name.getPort());
  assertEquals("container",name.getContainer());
  assertEquals("/",name.getPath());
  assertEquals("blobstore://service/container/",name.getRootURI());
  assertEquals("blobstore://service/container/",name.getURI());
  name=(BlobStoreFileName)BlobStoreFileNameParser.getInstance().parseUri(null,null,"blobstore://user@service/container/file");
  assertEquals("blobstore",name.getScheme());
  assertEquals("user",name.getUserName());
  assertNull(name.getPassword());
  assertEquals("service",name.getHostName());
  assertEquals(443,name.getPort());
  assertEquals("container",name.getContainer());
  assertEquals("/file",name.getPath());
  assertEquals("blobstore://user@service/container/",name.getRootURI());
  assertEquals("blobstore://user@service/container/file",name.getURI());
  name=(BlobStoreFileName)BlobStoreFileNameParser.getInstance().parseUri(null,null,"blobstore://user@service/container/file.txt");
  assertEquals("blobstore",name.getScheme());
  assertEquals("user",name.getUserName());
  assertNull(name.getPassword());
  assertEquals("service",name.getHostName());
  assertEquals(443,name.getPort());
  assertEquals("container",name.getContainer());
  assertEquals("/file.txt",name.getPath());
  assertEquals("file.txt",name.getBaseName());
  assertEquals("txt",name.getExtension());
  assertEquals("blobstore://user@service/container/",name.getRootURI());
  assertEquals("blobstore://user@service/container/file.txt",name.getURI());
  name=(BlobStoreFileName)BlobStoreFileNameParser.getInstance().parseUri(null,null,"blobstore://user@service/container/.bashrc");
  assertEquals("blobstore",name.getScheme());
  assertEquals("user",name.getUserName());
  assertNull(name.getPassword());
  assertEquals("service",name.getHostName());
  assertEquals(443,name.getPort());
  assertEquals("container",name.getContainer());
  assertEquals("/.bashrc",name.getPath());
  assertEquals(".bashrc",name.getBaseName());
  assertEquals("",name.getExtension());
  assertEquals("blobstore://user@service/container/",name.getRootURI());
  assertEquals("blobstore://user@service/container/.bashrc",name.getURI());
}
