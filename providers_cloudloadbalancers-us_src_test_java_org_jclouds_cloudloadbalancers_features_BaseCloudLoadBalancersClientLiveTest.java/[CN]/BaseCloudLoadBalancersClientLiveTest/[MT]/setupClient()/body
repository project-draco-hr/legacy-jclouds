{
  setupCredentials();
  Properties overrides=setupProperties();
  context=new LoadBalancerServiceContextFactory().createContext(provider,ImmutableSet.<Module>of(new Log4JLoggingModule()),overrides).getProviderSpecificContext();
  client=context.getApi();
  injector=Guice.createInjector(new Log4JLoggingModule());
  loadBalancerActive=new RetryablePredicate<LoadBalancer>(new LoadBalancerActive(client),30,1,1,TimeUnit.SECONDS);
  injector.injectMembers(loadBalancerActive);
  loadBalancerDeleted=new RetryablePredicate<LoadBalancer>(new LoadBalancerDeleted(client),30,1,1,TimeUnit.SECONDS);
  injector.injectMembers(loadBalancerDeleted);
}
