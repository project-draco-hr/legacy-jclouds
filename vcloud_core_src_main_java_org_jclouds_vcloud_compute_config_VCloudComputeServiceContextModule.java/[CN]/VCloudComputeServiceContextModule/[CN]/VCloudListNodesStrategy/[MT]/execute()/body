{
  Set<ComputeMetadata> nodes=Sets.newHashSet();
  for (  NamedResource vdc : client.getDefaultOrganization().getVDCs().values()) {
    for (    NamedResource resource : client.getVDC(vdc.getId()).getResourceEntities().values()) {
      if (resource.getType().equals(VCloudMediaType.VAPP_XML)) {
        addVAppToSetRetryingIfNotYetPresent(nodes,vdc,resource);
      }
    }
  }
  return nodes;
}
