{
  if (args.length < PARAMETERS)   throw new IllegalArgumentException(INVALID_SYNTAX);
  String accesskeyid=args[0];
  String secretkey=args[1];
  String containerName=args[2];
  BlobStoreContext context=new BlobStoreContextFactory().createContext("s3",accesskeyid,secretkey);
  try {
    BlobStore blobStore=context.getBlobStore();
    blobStore.createContainerInLocation(null,containerName);
    Blob blob=blobStore.newBlob("test");
    blob.setPayload("testdata");
    blobStore.putBlob(containerName,blob);
    for (    StorageMetadata resourceMd : blobStore.list()) {
      if (resourceMd.getType() == StorageType.CONTAINER || resourceMd.getType() == StorageType.FOLDER) {
        Map<String,InputStream> containerMap=context.createInputStreamMap(resourceMd.getName());
        System.out.printf("  %s: %s entries%n",resourceMd.getName(),containerMap.size());
      }
    }
    RestContext<S3Client,S3AsyncClient> providerContext=context.getProviderSpecificContext();
    providerContext.getApi().getBucketLogging(containerName);
  }
  finally {
    context.close();
    System.exit(0);
  }
}
