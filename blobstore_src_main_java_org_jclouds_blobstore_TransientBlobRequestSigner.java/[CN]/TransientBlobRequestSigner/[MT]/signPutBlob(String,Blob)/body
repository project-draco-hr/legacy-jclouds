{
  HttpRequest request=new HttpRequest("PUT",URI.create(String.format("http://localhost/%s/%s",container,blob.getMetadata().getName())));
  if (blob.getPayload().getContentLength() != null)   request.getHeaders().put(HttpHeaders.CONTENT_LENGTH,blob.getPayload().getContentLength().toString());
  if (blob.getPayload().getContentType() != null)   request.getHeaders().put(HttpHeaders.CONTENT_TYPE,blob.getPayload().getContentType());
  if (blob.getPayload().getContentMD5() != null)   request.getHeaders().put("Content-MD5",CryptoStreams.base64(blob.getPayload().getContentMD5()));
  request.setPayload(blob.getPayload());
  basicAuth.filter(request);
  return request;
}
