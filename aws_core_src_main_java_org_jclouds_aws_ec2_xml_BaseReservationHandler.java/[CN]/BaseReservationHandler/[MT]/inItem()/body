{
  if (inBlockDeviceMapping) {
    ebsBlockDevices.put(deviceName,new RunningInstance.EbsBlockDevice(volumeId,attachmentStatus,attachTime,deleteOnTermination));
    this.deviceName=null;
    this.volumeId=null;
    this.attachmentStatus=null;
    this.attachTime=null;
    this.deleteOnTermination=true;
  }
 else   if (inInstances && !inProductCodes && !inBlockDeviceMapping) {
    String region=EC2Utils.findRegionInArgsOrNull(getRequest());
    if (ipAddress == null && dnsName != null && dnsName.matches(".*[0-9]$")) {
      ipAddress=dnsName;
      dnsName=null;
    }
    if (privateIpAddress == null && privateDnsName != null && privateDnsName.matches(".*[0-9]$")) {
      privateIpAddress=privateDnsName;
      privateDnsName=null;
    }
    if (region == null)     region=defaultRegion;
    instances.add(new RunningInstance(region,groupIds,amiLaunchIndex,dnsName,imageId,instanceId,instanceState,instanceType,ipAddress,kernelId,keyName,launchTime,monitoringState,availabilityZone,placementGroup,virtualizationType,platform,privateDnsName,privateIpAddress,productCodes,ramdiskId,reason,subnetId,spotInstanceRequestId,vpcId,rootDeviceType,rootDeviceName,ebsBlockDevices));
    this.amiLaunchIndex=null;
    this.dnsName=null;
    this.imageId=null;
    this.instanceId=null;
    this.instanceState=null;
    this.instanceType=null;
    this.ipAddress=null;
    this.kernelId=null;
    this.keyName=null;
    this.launchTime=null;
    this.monitoringState=null;
    this.availabilityZone=null;
    this.placementGroup=null;
    this.virtualizationType="paravirtual";
    this.platform=null;
    this.privateDnsName=null;
    this.privateIpAddress=null;
    this.productCodes=Sets.newHashSet();
    this.ramdiskId=null;
    this.reason=null;
    this.subnetId=null;
    this.spotInstanceRequestId=null;
    this.vpcId=null;
    this.rootDeviceType=RootDeviceType.INSTANCE_STORE;
    this.rootDeviceName=null;
    this.ebsBlockDevices=Maps.newHashMap();
  }
}
