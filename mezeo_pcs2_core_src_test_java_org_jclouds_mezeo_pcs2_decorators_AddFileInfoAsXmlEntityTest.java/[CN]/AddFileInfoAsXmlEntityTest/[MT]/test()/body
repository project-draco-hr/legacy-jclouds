{
  AddFileInfoAsXmlEntity binder=new AddFileInfoAsXmlEntity();
  HttpRequest request=new HttpRequest("GET",URI.create("http://localhost"));
  PCSFile file=new PCSFile("foo");
  binder.decorateRequest(request,file);
  assertEquals(request.getEntity(),"<file><name>foo</name><mime_type>application/octet-stream</mime_type><public>false</public></file>");
  assertEquals(request.getFirstHeaderOrNull(HttpHeaders.CONTENT_LENGTH),"<file><name>foo</name><mime_type>application/octet-stream</mime_type><public>false</public></file>".getBytes().length + "");
  assertEquals(request.getFirstHeaderOrNull(HttpHeaders.CONTENT_TYPE),"application/vnd.csp.file-info+xml");
}
