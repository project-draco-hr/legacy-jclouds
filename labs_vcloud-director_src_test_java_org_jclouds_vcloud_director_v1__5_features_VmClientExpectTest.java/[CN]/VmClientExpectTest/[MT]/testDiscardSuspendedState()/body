{
  VCloudDirectorClient client=requestsSendResponses(loginRequest,sessionResponse,new VcloudHttpRequestPrimer().apiCommand("POST",vmId + "/action/discardSuspendedState").acceptAnyMedia().httpRequestBuilder().build(),new VcloudHttpResponsePrimer().xmlFilePayload("/vApp/discardSuspendedStateTask.xml",VCloudDirectorMediaType.TASK).httpResponseBuilder().build());
  Task expected=discardSuspendedStateTask();
  assertEquals(client.getVmClient().discardSuspendedState(vmURI),expected);
}
