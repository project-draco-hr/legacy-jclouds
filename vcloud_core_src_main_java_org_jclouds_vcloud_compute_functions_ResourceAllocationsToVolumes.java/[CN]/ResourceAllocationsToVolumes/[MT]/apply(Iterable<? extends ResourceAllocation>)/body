{
  Iterable<Volume> volumes=transform(filter(resourceAllocations,resourceType(ResourceType.DISK_DRIVE)),new Function<ResourceAllocation,Volume>(){
    @Override public Volume apply(    ResourceAllocation from){
      if (from instanceof VCloudHardDisk) {
        VCloudHardDisk vDisk=VCloudHardDisk.class.cast(from);
        return new VolumeImpl(from.getAddressOnParent() + "",Volume.Type.LOCAL,vDisk.getCapacity() / 1024f,null,from.getAddressOnParent() == 0,true);
      }
 else {
        return new VolumeImpl(from.getAddressOnParent() + "",Volume.Type.LOCAL,from.getVirtualQuantity() / 1024 / 1024f,null,from.getAddressOnParent() == 0,true);
      }
    }
  }
);
  return volumes;
}
