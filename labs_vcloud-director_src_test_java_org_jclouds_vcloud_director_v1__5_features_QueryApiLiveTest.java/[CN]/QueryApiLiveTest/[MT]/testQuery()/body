{
  VAppTemplate vAppTemplate=lazyGetVAppTemplate();
  QueryResultRecords queryResult=queryApi.query("vAppTemplate",String.format("name==%s",vAppTemplate.getName()));
  Set<URI> hrefs=toHrefs(queryResult);
  assertRecordTypes(queryResult,Arrays.asList(VCloudDirectorMediaType.VAPP_TEMPLATE,null),QueryResultVAppTemplateRecord.class);
  assertTrue(hrefs.contains(vAppTemplate.getHref()),"VAppTemplates query result should include vAppTemplate " + vAppTemplate.getHref() + "; but only has "+ hrefs);
}
