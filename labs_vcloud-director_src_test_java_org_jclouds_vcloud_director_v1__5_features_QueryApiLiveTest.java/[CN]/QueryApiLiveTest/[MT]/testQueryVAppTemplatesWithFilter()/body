{
  VAppTemplate vAppTemplate=lazyGetVAppTemplate();
  QueryResultRecords queryResult=queryApi.vAppTemplatesQuery(String.format("name==%s",vAppTemplate.getName()));
  Set<URI> hrefs=toHrefs(queryResult);
  assertRecordTypes(queryResult,Arrays.asList(VCloudDirectorMediaType.VAPP_TEMPLATE,null),QueryResultVAppTemplateRecord.class);
  assertTrue(hrefs.contains(vAppTemplate.getHref()),"VAppTemplates query result should have found vAppTemplate " + vAppTemplate.getHref());
}
