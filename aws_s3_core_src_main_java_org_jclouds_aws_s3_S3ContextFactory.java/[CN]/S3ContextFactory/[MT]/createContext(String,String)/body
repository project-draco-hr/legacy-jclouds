{
  Properties properties=new Properties();
  properties.setProperty(PROPERTY_AWS_ACCESSKEYID,checkNotNull(awsAccessKeyId,"awsAccessKeyId"));
  properties.setProperty(PROPERTY_AWS_SECRETACCESSKEY,checkNotNull(awsSecretAccessKey,"awsSecretAccessKey"));
  properties.setProperty(PROPERTY_HTTP_ADDRESS,"s3.amazonaws.com");
  properties.setProperty(PROPERTY_HTTP_SECURE,"true");
  properties.setProperty(PROPERTY_HTTP_MAX_RETRIES,"5");
  properties.setProperty(PROPERTY_POOL_MAX_CONNECTION_REUSE,"75");
  properties.setProperty(PROPERTY_POOL_MAX_SESSION_FAILURES,"2");
  properties.setProperty(PROPERTY_POOL_REQUEST_INVOKER_THREADS,"1");
  properties.setProperty(PROPERTY_POOL_IO_WORKER_THREADS,"2");
  properties.setProperty(PROPERTY_POOL_MAX_CONNECTIONS,"12");
  return new S3ContextFactory(properties);
}
