{
  Set<S3Object> objects=new HashSet<S3Object>();
  Set<Future<S3Object>> futureObjects=new HashSet<Future<S3Object>>();
  for (  String key : keySet()) {
    futureObjects.add(connection.getObject(bucket,key));
  }
  for (  Future<S3Object> futureObject : futureObjects) {
    try {
      ifNotFoundRetryOtherwiseAddToSet(futureObject,objects);
    }
 catch (    Exception e) {
      Utils.<S3RuntimeException>rethrowIfRuntimeOrSameType(e);
      throw new S3RuntimeException(String.format("Error getting value from bucket %1$s",bucket),e);
    }
  }
  return objects;
}
