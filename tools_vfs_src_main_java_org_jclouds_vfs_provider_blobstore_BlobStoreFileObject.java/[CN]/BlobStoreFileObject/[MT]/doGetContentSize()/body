{
  if (metadata == null && metadata.getType() == StorageType.BLOB)   getMetadataAtPath(getNameTrimLeadingSlashes());
  if (metadata != null && metadata.getType() == StorageType.BLOB) {
    BlobMetadata blobMd=BlobMetadata.class.cast(metadata);
    return blobMd.getContentMetadata().getContentLength() != null ? blobMd.getContentMetadata().getContentLength() : 0;
  }
  return 0;
}
