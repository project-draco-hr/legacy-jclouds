{
  if (metadata == null)   return FileType.IMAGINARY;
  if (getNameTrimLeadingSlashes().equals("") || getName().getParent() == null)   return FileType.FOLDER;
  return (metadata.getType() == ResourceType.BLOB) ? FileType.FILE : FileType.FOLDER;
}
