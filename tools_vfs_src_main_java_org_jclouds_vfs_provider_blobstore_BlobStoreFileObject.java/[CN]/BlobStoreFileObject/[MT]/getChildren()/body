{
  if (metadata != null && metadata.getType() == StorageType.BLOB)   throw new FileNotFolderException(getName());
  if (metadata == null) {
    try {
      FileType type=doGetType();
      if (type == FileType.FILE) {
        throw new FileNotFolderException(getName());
      }
    }
 catch (    Exception ex) {
      Throwables.propagateIfPossible(ex,FileNotFolderException.class);
      throw new FileNotFolderException(getName(),ex);
    }
  }
  return super.getChildren();
}
