{
  return Guice.createInjector(new S3RestClientModule(),new RestModule(){
    @Override protected void configure(){
      bind(TransformingHttpCommandExecutorService.class).toInstance(createMock(TransformingHttpCommandExecutorService.class));
      super.configure();
    }
  }
,new ExecutorServiceModule(sameThreadExecutor(),sameThreadExecutor()),new AbstractModule(){
    @Override protected void configure(){
      Names.bindProperties(binder(),checkNotNull(new S3PropertiesBuilder("user","key").build(),"properties"));
    }
  }
);
}
