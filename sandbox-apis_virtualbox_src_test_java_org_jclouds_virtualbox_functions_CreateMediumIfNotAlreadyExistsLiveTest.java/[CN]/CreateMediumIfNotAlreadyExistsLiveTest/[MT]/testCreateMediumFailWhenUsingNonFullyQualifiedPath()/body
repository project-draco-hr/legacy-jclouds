{
  String path="test-medium-2.vdi";
  HardDisk hardDisk=HardDisk.builder().diskpath(path).controllerPort(0).deviceSlot(0).build();
  try {
    new CreateMediumIfNotAlreadyExists(manager,true).apply(hardDisk);
    fail();
  }
 catch (  VBoxException e) {
    ErrorCode errorCode=ErrorCode.valueOf(e);
    assertEquals(errorCode,ErrorCode.VBOX_E_FILE_ERROR);
  }
}
