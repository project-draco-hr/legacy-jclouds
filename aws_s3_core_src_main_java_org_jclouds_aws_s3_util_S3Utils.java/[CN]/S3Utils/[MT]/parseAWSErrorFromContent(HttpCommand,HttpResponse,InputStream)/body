{
  AWSError error=(AWSError)factory.create(errorHandlerProvider.get()).parse(content);
  if (error.getRequestId() == null)   error.setRequestId(response.getFirstHeaderOrNull(S3Headers.REQUEST_ID));
  error.setRequestToken(response.getFirstHeaderOrNull(S3Headers.REQUEST_TOKEN));
  if ("SignatureDoesNotMatch".equals(error.getCode())) {
    error.setStringSigned(signer.createStringToSign(command.getRequest()));
    error.setSignature(signer.signString(error.getStringSigned()));
  }
  return error;
}
