{
  Metadata newMetadata=Metadata.builder().entry(MetadataEntry.builder().entry("KEY","MARMALADE").build()).entry(MetadataEntry.builder().entry("VEGIMITE","VALUE").build()).build();
  Metadata before=catalogClient.getCatalogItemMetadataClient().getMetadata(catalogItem.getHref());
  Task mergeCatalogItemMetadata=catalogClient.getCatalogItemMetadataClient().mergeMetadata(catalogItem.getHref(),newMetadata);
  checkTask(mergeCatalogItemMetadata);
  assertTrue(retryTaskSuccess.apply(mergeCatalogItemMetadata),String.format(TASK_COMPLETE_TIMELY,"mergeCatalogItemMetadata"));
  Metadata mergedCatalogItemMetadata=catalogClient.getCatalogItemMetadataClient().getMetadata(catalogItem.getHref());
  assertTrue(mergedCatalogItemMetadata.getMetadataEntries().size() > before.getMetadataEntries().size(),"Should have added at least one other MetadataEntry to the CatalogItem");
  MetadataValue keyMetadataValue=catalogClient.getCatalogItemMetadataClient().getMetadataValue(catalogItem.getHref(),"KEY");
  assertEquals(keyMetadataValue.getValue(),"MARMALADE","The Value of the MetadataValue for KEY should have changed");
  checkMetadataValue(keyMetadataValue);
  MetadataValue newKeyMetadataValue=catalogClient.getCatalogItemMetadataClient().getMetadataValue(catalogItem.getHref(),"VEGIMITE");
  assertEquals(newKeyMetadataValue.getValue(),"VALUE","The Value of the MetadataValue for NEW_KEY should have been set");
  checkMetadataValue(newKeyMetadataValue);
}
