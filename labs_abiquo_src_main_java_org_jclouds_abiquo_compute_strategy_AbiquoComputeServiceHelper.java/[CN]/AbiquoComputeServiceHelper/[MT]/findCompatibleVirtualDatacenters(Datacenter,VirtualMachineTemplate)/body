{
  Iterable<VirtualDatacenter> vdcs=cloudService.listVirtualDatacenters(VirtualDatacenterPredicates.datacenter(datacenter));
  return filter(vdcs,new Predicate<VirtualDatacenter>(){
    @Override public boolean apply(    final VirtualDatacenter vdc){
      return isTemplateCompatibleWithHypervisor(template,vdc.getHypervisorType());
    }
  }
);
}
