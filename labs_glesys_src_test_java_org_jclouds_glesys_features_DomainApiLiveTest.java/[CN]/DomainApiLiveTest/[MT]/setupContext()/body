{
  super.setupContext();
  testDomain=identity.toLowerCase() + "-domain.jclouds.org";
  api=gleContext.getApi().getDomainApi();
  domainCounter=new RetryablePredicate<Integer>(new Predicate<Integer>(){
    public boolean apply(    Integer value){
      return api.listDomains().size() == value;
    }
  }
,30,1,TimeUnit.SECONDS);
  recordCounter=new RetryablePredicate<Integer>(new Predicate<Integer>(){
    public boolean apply(    Integer value){
      return api.listRecords(testDomain).size() == value;
    }
  }
,30,1,TimeUnit.SECONDS);
  try {
    api.deleteDomain(testDomain);
  }
 catch (  Exception ex) {
  }
  createDomain(testDomain);
}
