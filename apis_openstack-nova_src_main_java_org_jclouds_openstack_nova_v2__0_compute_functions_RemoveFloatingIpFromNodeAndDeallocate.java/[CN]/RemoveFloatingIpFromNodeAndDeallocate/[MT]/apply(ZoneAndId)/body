{
  FloatingIPClient floatingIpClient=novaClient.getFloatingIPExtensionForZone(id.getZone()).get();
  for (  String ip : floatingIpCache.getUnchecked(id)) {
    logger.debug(">> removing floatingIp(%s) from node(%s)",ip,id);
    floatingIpClient.removeFloatingIPFromServer(ip,id.getId());
    logger.debug(">> deallocating floatingIp(%s)",ip);
    floatingIpClient.deallocate(ip);
  }
  floatingIpCache.invalidate(id);
  return id;
}
