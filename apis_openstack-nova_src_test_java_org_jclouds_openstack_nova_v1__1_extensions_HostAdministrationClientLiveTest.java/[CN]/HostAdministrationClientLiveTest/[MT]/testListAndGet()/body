{
  for (  String zoneId : novaContext.getApi().getConfiguredZones()) {
    Optional<HostAdministrationClient> optClient=novaContext.getApi().getHostAdministrationExtensionForZone(zoneId);
    if (optClient.isPresent() && identity.endsWith(":admin")) {
      HostAdministrationClient client=optClient.get();
      Set<Host> hosts=client.listHosts();
      assertNotNull(hosts);
      for (      Host host : hosts) {
        for (        HostResourceUsage usage : client.getHostResourceUsage(host.getName())) {
          assertEquals(usage.getHost(),host.getName());
          assertNotNull(usage);
        }
      }
    }
  }
}
