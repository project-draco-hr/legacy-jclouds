{
  HttpRequest createWithDataset=HttpRequest.builder().method("POST").endpoint("https://us-sw-1.api.joyentcloud.com/my/machines?dataset=sdc%3Asdc%3Acentos-5.7%3A1.2.1&name=sample-e92&package=Small%201GB").addHeader("X-Api-Version","~6.5").addHeader("Accept","application/json").addHeader("Authorization","Basic aWRlbnRpdHk6Y3JlZGVudGlhbA==").build();
  HttpResponse createWithDatasetResponse=HttpResponse.builder().statusCode(202).message("HTTP/1.1 202 Accepted").payload(payloadFromResourceWithContentType("/new_machine.json","application/json; charset=UTF-8")).build();
  JoyentCloudClient clientWithNewMachine=requestsSendResponses(getDatacenters,getDatacentersResponse,createWithDataset,createWithDatasetResponse);
  assertEquals(clientWithNewMachine.getMachineClientForDatacenter("us-sw-1").createWithDataset("sdc:sdc:centos-5.7:1.2.1",CreateMachineOptions.Builder.name("sample-e92").packageName("Small 1GB")).toString(),new ParseCreatedMachineTest().expected().toString());
}
