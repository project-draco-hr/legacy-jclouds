{
  setupCredentials();
  Properties overrides=setupProperties();
  context=new RestContextFactory().createContext(provider,ImmutableSet.<Module>of(new Log4JLoggingModule()),overrides);
  client=context.getApi();
  serverLatestJobCompleted=new RetryablePredicate<Server>(new ServerLatestJobCompleted(client.getJobServices()),800,20,TimeUnit.SECONDS);
  loadBalancerLatestJobCompleted=new RetryablePredicate<LoadBalancer>(new LoadBalancerLatestJobCompleted(client.getJobServices()),800,20,TimeUnit.SECONDS);
}
