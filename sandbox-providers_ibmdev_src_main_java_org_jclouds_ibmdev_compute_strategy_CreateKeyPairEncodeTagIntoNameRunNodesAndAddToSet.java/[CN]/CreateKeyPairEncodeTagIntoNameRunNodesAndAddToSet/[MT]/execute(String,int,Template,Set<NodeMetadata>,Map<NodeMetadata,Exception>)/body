{
  String keyAsText=template.getOptions().getPublicKey();
  if (keyAsText != null) {
    template.getOptions().dontAuthorizePublicKey();
    try {
      client.addPublicKey(tag,keyAsText);
    }
 catch (    IllegalStateException e) {
      client.updatePublicKey(tag,keyAsText);
    }
  }
 else {
    credentialsMap.put(tag,client.generateKeyPair(tag).getKeyMaterial());
  }
  return super.execute(tag,count,template,nodes,badNodes);
}
