{
  HttpRequest create=HttpRequest.builder().method("POST").endpoint("https://management.core.windows.net/" + subscriptionId + "/services/hostedservices").addHeader("x-ms-version","2012-03-01").payload(payloadFromResourceWithContentType("/create_hostedservice_location_options.xml","application/xml")).build();
  HttpResponse createResponse=HttpResponse.builder().addHeader("x-ms-request-id","171f77920784404db208200702e59227").statusCode(201).build();
  AzureManagementApi apiWhenExist=requestSendsResponse(create,createResponse);
  assertEquals(apiWhenExist.getHostedServiceApi().createServiceWithLabelInLocation(SERVICE_NAME,"service mine","West US",description("my description").extendedProperties(ImmutableMap.of("Role","Production"))),"171f77920784404db208200702e59227");
}
