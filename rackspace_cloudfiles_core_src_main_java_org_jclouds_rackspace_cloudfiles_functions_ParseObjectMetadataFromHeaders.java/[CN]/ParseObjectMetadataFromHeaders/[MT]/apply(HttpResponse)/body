{
  String[] pathElements=from.getRequestURL().getPath().split("/");
  String objectKey=from.getRequestURL().getPath().substring((pathElements[1] + pathElements[2] + pathElements[3]).length() + 4);
  CFObject.Metadata to=new CFObject.Metadata(objectKey);
  addAllHeadersTo(from,to);
  addUserMetadataTo(from,to);
  addETagTo(from,to);
  parseLastModifiedOrThrowException(from,to);
  setContentTypeOrThrowException(from,to);
  setContentLengthOrThrowException(from,to);
  to.setCacheControl(from.getFirstHeaderOrNull(HttpHeaders.CACHE_CONTROL));
  to.setContentDisposition(from.getFirstHeaderOrNull("Content-Disposition"));
  to.setContentEncoding(from.getFirstHeaderOrNull(HttpHeaders.CONTENT_ENCODING));
  return to;
}
