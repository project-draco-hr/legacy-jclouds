{
  checkState(!shutdown,"shutdown!");
  checkArgument(tasks.size() > 0,"no tasks");
  long timeUp=System.nanoTime() + unit.toNanos(timeout);
  Exception exception=null;
  for (  Callable<T> task : tasks) {
    checkNotNull(task,"task");
    try {
      return task.call();
    }
 catch (    InterruptedException e) {
      throw e;
    }
catch (    Exception e) {
      exception=e;
    }
    if (System.nanoTime() > timeUp)     throw new TimeoutException("Time up before we could run a task successfully");
  }
  throw new ExecutionException("no tasks completed successfully",exception);
}
