{
  Blob blob=blobFactory.get().name("name").forSigning().contentLength(2l).contentMD5(new byte[]{0,2,4,8}).contentType("text/plain").build();
  assertEquals(blob.getPayload().getContentMetadata().getContentMD5(),new byte[]{0,2,4,8});
  HttpRequest request=signer.signPutBlob("container",blob);
  assertRequestLineEquals(request,"PUT http://localhost/container/name HTTP/1.1");
  assertNonPayloadHeadersEqual(request,"Authorization: Basic aWRlbnRpdHk6Y3JlZGVudGlhbA==\nContent-Length: 2\nContent-MD5: AAIECA==\nContent-Type: text/plain\n");
  assertContentHeadersEqual(request,"text/plain",null,null,null,(long)2l,new byte[]{0,2,4,8});
  assertEquals(request.getFilters().size(),0);
}
