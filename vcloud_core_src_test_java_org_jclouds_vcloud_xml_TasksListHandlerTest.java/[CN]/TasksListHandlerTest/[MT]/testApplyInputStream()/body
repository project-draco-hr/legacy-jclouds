{
  InputStream is=getClass().getResourceAsStream("/taskslist.xml");
  TasksList result=factory.create(injector.getInstance(TasksListHandler.class)).parse(is);
  assertEquals(result.getLocation(),URI.create("https://services.vcloudexpress.terremark.com/api/v0.8/tasksList/1"));
  Task task1=new TaskImpl("3300",URI.create("https://services.vcloudexpress.terremark.com/api/v0.8/task/3300"),TaskStatus.SUCCESS,dateService.iso8601DateParse("2009-08-24T21:30:19.587Z"),dateService.iso8601DateParse("2009-08-24T21:30:32.63Z"),new NamedResourceImpl("1","VDC Name",VCloudMediaType.VDC_XML,URI.create("https://services.vcloudexpress.terremark.com/api/v0.8/vdc/1")),new NamedResourceImpl("4012","Server1",VCloudMediaType.VAPP_XML,URI.create("https://services.vcloudexpress.terremark.com/api/v0.8/vapp/4012")),null);
  Task task2=new TaskImpl("3299",URI.create("https://services.vcloudexpress.terremark.com/api/v0.8/task/3299"),TaskStatus.SUCCESS,dateService.iso8601DateParse("2009-08-24T21:29:32.983Z"),dateService.iso8601DateParse("2009-08-24T21:29:44.65Z"),new NamedResourceImpl("1","VDC Name",VCloudMediaType.VDC_XML,URI.create("https://services.vcloudexpress.terremark.com/api/v0.8/vdc/1")),new NamedResourceImpl("4012","Server1",VCloudMediaType.VAPP_XML,URI.create("https://services.vcloudexpress.terremark.com/api/v0.8/vapp/4012")),null);
  assertEquals(result.getTasks(),ImmutableSortedSet.of(task1,task2));
  assertEquals(result.getTasksByResult(),ImmutableListMultimap.of(URI.create("https://services.vcloudexpress.terremark.com/api/v0.8/vapp/4012"),task2,URI.create("https://services.vcloudexpress.terremark.com/api/v0.8/vapp/4012"),task1));
  assertEquals(result.getTasksByOwner(),ImmutableListMultimap.of(URI.create("https://services.vcloudexpress.terremark.com/api/v0.8/vdc/1"),task2,URI.create("https://services.vcloudexpress.terremark.com/api/v0.8/vdc/1"),task1));
}
