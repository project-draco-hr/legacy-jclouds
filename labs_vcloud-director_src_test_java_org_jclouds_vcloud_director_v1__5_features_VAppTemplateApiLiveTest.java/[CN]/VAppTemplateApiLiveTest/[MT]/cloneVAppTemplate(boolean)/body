{
  CloneVAppTemplateParams cloneVAppTemplateParams=CloneVAppTemplateParams.builder().source(Reference.builder().href(lazyGetVAppTemplate().getHref()).build()).isSourceDelete(false).name("clone").build();
  VAppTemplate clonedVappTemplate=vdcApi.cloneVAppTemplate(vdcUrn,cloneVAppTemplateParams);
  if (waitForTask) {
    Task cloneTask=Iterables.getFirst(clonedVappTemplate.getTasks(),null);
    assertNotNull(cloneTask,"vdcApi.cloneVAppTemplate returned VAppTemplate that did not contain any tasks");
    assertTaskSucceeds(cloneTask);
  }
  return clonedVappTemplate;
}
