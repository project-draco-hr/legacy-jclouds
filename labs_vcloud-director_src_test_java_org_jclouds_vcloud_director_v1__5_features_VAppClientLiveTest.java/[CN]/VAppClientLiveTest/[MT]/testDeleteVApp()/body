{
  VApp temp=instantiateVApp();
  Task deleteVApp=vAppClient.deleteVApp(temp.getHref());
  assertTrue(retryTaskSuccess.apply(deleteVApp),String.format(TASK_COMPLETE_TIMELY,"deleteVApp"));
  try {
    vAppClient.getVApp(temp.getHref());
    fail("The VApp " + temp + " should have been deleted");
  }
 catch (  VCloudDirectorException vcde) {
    assertEquals(vcde.getError().getMajorErrorCode(),Integer.valueOf(403),"The error code for deleted vApp should have been 'Forbidden' (403)");
  }
}
