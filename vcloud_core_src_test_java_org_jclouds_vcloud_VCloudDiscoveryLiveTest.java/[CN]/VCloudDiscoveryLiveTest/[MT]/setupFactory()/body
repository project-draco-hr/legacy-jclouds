{
  context=new RestContextBuilder<VCloudDiscovery,VCloudDiscovery>(new TypeLiteral<VCloudDiscovery>(){
  }
,new TypeLiteral<VCloudDiscovery>(){
  }
,new Properties()){
    public void addContextModule(    List<Module> modules){
      modules.add(new VCloudDiscoveryContextModule());
    }
    @Override protected void addClientModule(    List<Module> modules){
      properties.setProperty(VCloudConstants.PROPERTY_VCLOUD_ENDPOINT,checkNotNull(endpoint,"endpoint").toString());
      properties.setProperty(PROPERTY_VCLOUD_VERSION,"0.8");
      properties.setProperty(PROPERTY_VCLOUD_USER,checkNotNull(account,"user"));
      properties.setProperty(PROPERTY_VCLOUD_KEY,checkNotNull(key,"key"));
      properties.setProperty(PROPERTY_VCLOUD_SESSIONINTERVAL,"4");
      modules.add(new VCloudDiscoveryRestClientModule());
    }
  }
.withModules(new Log4JLoggingModule(),new ExecutorServiceModule(new WithinThreadExecutorService())).buildContext();
}
