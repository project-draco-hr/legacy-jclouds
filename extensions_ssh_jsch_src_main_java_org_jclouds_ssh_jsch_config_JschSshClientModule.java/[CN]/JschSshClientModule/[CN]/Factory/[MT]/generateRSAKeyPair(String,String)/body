{
  KeyPair pair=null;
  try {
    pair=KeyPair.genKeyPair(new JSch(),KeyPair.RSA);
  }
 catch (  JSchException e) {
    Throwables.propagate(e);
  }
  if (passphrase != null)   pair.setPassphrase(passphrase);
  ByteArrayOutputStream privateKey=new ByteArrayOutputStream();
  pair.writePrivateKey(privateKey);
  ByteArrayOutputStream publicKey=new ByteArrayOutputStream();
  pair.writePublicKey(publicKey,comment);
  return ImmutableMap.of("comment",comment,"passphrase",passphrase,"private",new String(privateKey.toByteArray()),"public",new String(publicKey.toByteArray()));
}
