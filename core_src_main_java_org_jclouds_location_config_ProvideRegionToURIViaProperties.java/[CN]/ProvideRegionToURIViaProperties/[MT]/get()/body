{
  try {
    String regionString=injector.getInstance(Key.get(String.class,Names.named(PROPERTY_REGIONS)));
    Builder<String,URI> regions=ImmutableMap.<String,URI>builder();
    for (    String region : Splitter.on(',').split(regionString)) {
      String regionUri=injector.getInstance(Key.get(String.class,Names.named(PROPERTY_REGION + "." + region+ "."+ ENDPOINT)));
      for (      Entry<String,String> entry : constants.entries()) {
        regionUri=regionUri.replace(new StringBuilder().append('{').append(entry.getKey()).append('}').toString(),entry.getValue());
      }
      regions.put(region,URI.create(regionUri));
    }
    return regions.build();
  }
 catch (  ConfigurationException e) {
    return ImmutableMap.of();
  }
}
