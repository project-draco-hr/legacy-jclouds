{
  MD5Digest md5=new MD5Digest();
  byte[] resBuf=new byte[md5.getDigestSize()];
  byte[] buffer=new byte[1024];
  int numRead=-1;
  do {
    numRead=toEncode.read(buffer);
    if (numRead > 0) {
      md5.update(buffer,0,numRead);
    }
  }
 while (numRead != -1);
  md5.doFinal(resBuf,0);
  return resBuf;
}
