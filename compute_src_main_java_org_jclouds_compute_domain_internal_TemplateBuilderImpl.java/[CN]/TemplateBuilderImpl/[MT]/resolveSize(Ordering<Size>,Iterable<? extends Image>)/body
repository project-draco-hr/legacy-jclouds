{
  Set<? extends Size> sizesl=sizes.get();
  Size size;
  try {
    Iterable<? extends Size> sizesThatAreCompatibleWithOurImages=filter(sizesl,new Predicate<Size>(){
      @Override public boolean apply(      final Size size){
        return Iterables.any(images,new Predicate<Image>(){
          @Override public boolean apply(          Image input){
            return size.supportsImage(input);
          }
        }
);
      }
    }
);
    size=sizeOrdering.max(filter(sizesThatAreCompatibleWithOurImages,sizePredicate));
  }
 catch (  NoSuchElementException exception) {
    throw new NoSuchElementException("sizes don't support any images: " + toString() + "\n"+ sizesl+ "\n"+ images);
  }
  logger.debug("<<   matched size(%s)",size);
  return size;
}
