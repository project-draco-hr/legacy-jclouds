{
  return Guice.createInjector(new RestS3ConnectionModule(),new ExecutorServiceModule(new WithinThreadExecutorService()),new S3ParserModule(),new S3ContextModule(){
    @Override protected void configure(){
      bindConstant().annotatedWith(Names.named(S3Constants.PROPERTY_AWS_ACCESSKEYID)).to("localhost");
      bindConstant().annotatedWith(Names.named(S3Constants.PROPERTY_AWS_SECRETACCESSKEY)).to("localhost");
      bindConstant().annotatedWith(Names.named(S3Constants.PROPERTY_HTTP_ADDRESS)).to("localhost");
      bindConstant().annotatedWith(Names.named(S3Constants.PROPERTY_HTTP_PORT)).to("1000");
      bindConstant().annotatedWith(Names.named(S3Constants.PROPERTY_HTTP_SECURE)).to("false");
      bindConstant().annotatedWith(Names.named(S3Constants.PROPERTY_HTTP_MAX_RETRIES)).to("5");
      bindConstant().annotatedWith(Names.named(S3Constants.PROPERTY_HTTP_MAX_REDIRECTS)).to("5");
      super.configure();
    }
  }
,new JavaUrlHttpCommandExecutorServiceModule());
}
