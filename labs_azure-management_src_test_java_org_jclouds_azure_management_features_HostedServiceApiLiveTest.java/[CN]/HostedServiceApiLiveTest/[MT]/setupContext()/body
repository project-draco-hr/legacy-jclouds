{
  super.setupContext();
  location=Iterables.get(context.getApi().getLocationApi().list(),0).getName();
  operationSucceeded=retry(new Predicate<String>(){
    public boolean apply(    String input){
      return context.getApi().getOperationApi().get(input).getStatus() == Operation.Status.SUCCEEDED;
    }
  }
,600,5,5,SECONDS);
  hostedServiceCreated=retry(new Predicate<HostedServiceWithDetailedProperties>(){
    public boolean apply(    HostedServiceWithDetailedProperties input){
      return api().getDetails(input.getName()).getProperties().getStatus() == Status.CREATED;
    }
  }
,600,5,5,SECONDS);
  hostedServiceGone=retry(new Predicate<HostedService>(){
    public boolean apply(    HostedService input){
      return api().get(input.getName()) == null;
    }
  }
,600,5,5,SECONDS);
}
