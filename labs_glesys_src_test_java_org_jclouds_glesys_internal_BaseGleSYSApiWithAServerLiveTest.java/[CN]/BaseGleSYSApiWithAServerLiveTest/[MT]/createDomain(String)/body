{
  final DomainApi api=gleContext.getApi().getDomainApi();
  int before=api.listDomains().size();
  api.addDomain(domain);
  RetryablePredicate<Integer> result=new RetryablePredicate<Integer>(new Predicate<Integer>(){
    public boolean apply(    Integer value){
      return api.listDomains().size() == value;
    }
  }
,30,1,TimeUnit.SECONDS);
  assertTrue(result.apply(before + 1));
}
