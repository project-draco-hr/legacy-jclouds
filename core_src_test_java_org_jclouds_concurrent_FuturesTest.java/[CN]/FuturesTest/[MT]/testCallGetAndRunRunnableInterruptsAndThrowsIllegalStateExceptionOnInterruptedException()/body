{
  Runnable runnable=createMock(Runnable.class);
  @SuppressWarnings("unchecked") Future<String> future=createMock(Future.class);
  expect(future.get()).andThrow(new InterruptedException());
  replay(runnable);
  replay(future);
  ExecutionList executionList=new ExecutionList();
  executionList.add(runnable,executorService);
  CallGetAndRunExecutionList<String> caller=new CallGetAndRunExecutionList<String>(future,executionList);
  try {
    caller.run();
    fail("Expected IllegalStateException");
  }
 catch (  IllegalStateException e) {
    assertEquals(e.getMessage(),"interrupted calling get() on [EasyMock for interface java.util.concurrent.Future], so could not run listeners");
  }
  verify(runnable);
  verify(future);
}
