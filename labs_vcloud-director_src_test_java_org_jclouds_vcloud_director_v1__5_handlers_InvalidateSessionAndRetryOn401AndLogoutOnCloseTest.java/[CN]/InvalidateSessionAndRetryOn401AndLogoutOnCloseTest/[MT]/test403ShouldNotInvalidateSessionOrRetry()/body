{
  HttpCommand command=createMock(HttpCommand.class);
  SessionClient sessionClient=createMock(SessionClient.class);
  LoadingCache<Credentials,SessionWithToken> cache=createMock(LoadingCache.class);
  replay(cache,command);
  HttpResponse response=HttpResponse.builder().statusCode(403).build();
  InvalidateSessionAndRetryOn401AndLogoutOnClose retry=new InvalidateSessionAndRetryOn401AndLogoutOnClose(cache,sessionClient);
  assertFalse(retry.shouldRetryRequest(command,response));
  verify(cache,command);
}
