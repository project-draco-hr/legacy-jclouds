{
  VirtualGuest guest=new ParseVirtualGuestWithNoPasswordTest().expected();
  Map<String,Credentials> credentialStore=ImmutableMap.<String,Credentials>of();
  Location expectedLocation=DatacenterToLocationTest.function.apply(guest.getDatacenter());
  Supplier<Set<? extends Location>> locationSupplier=Suppliers.<Set<? extends Location>>ofInstance(ImmutableSet.<Location>of(expectedLocation));
  VirtualGuestToNodeMetadata parser=new VirtualGuestToNodeMetadata(credentialStore,new FindLocationForVirtualGuest(locationSupplier));
  NodeMetadata node=parser.apply(guest);
  assertEquals(node,new NodeMetadataBuilder().ids("416788").name("node1000360500").location(expectedLocation).state(NodeState.PENDING).publicAddresses(ImmutableSet.of("173.192.29.186")).privateAddresses(ImmutableSet.of("10.37.102.194")).hardware(new HardwareBuilder().id("TODO").processor(new Processor(1,2.0)).ram(1042).build()).build());
  assertEquals(node.getCredentials(),null);
}
