{
  super.setContext(request);
  region=EC2Utils.findRegionInArgsOrNull(request);
  if (region == null) {
    AvailabilityZone zone=checkNotNull(EC2Utils.findAvailabilityZoneInArgsOrNull(request),"zone not in args: " + Arrays.asList(request.getArgs()));
    region=checkNotNull(availabilityZoneToRegion.get(zone),String.format("zone %s not in %s",zone,availabilityZoneToRegion));
  }
}
