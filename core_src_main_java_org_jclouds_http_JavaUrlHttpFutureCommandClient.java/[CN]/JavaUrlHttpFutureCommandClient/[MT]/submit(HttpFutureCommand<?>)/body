{
  HttpRequest request=(HttpRequest)operation.getRequest();
  HttpURLConnection connection=null;
  try {
    for (    HttpRequestFilter filter : getRequestFilters()) {
      filter.filter(request);
    }
    logger.trace("%1s - converting request %2s",target,request);
    connection=openJavaConnection(request);
    logger.trace("%1s - submitting request %2s",target,connection);
    HttpResponse response=getResponse(connection);
    logger.trace("%1s - received response %2s",target,response);
    operation.getResponseFuture().setResponse(response);
    operation.getResponseFuture().run();
  }
 catch (  FileNotFoundException e) {
    HttpResponse response=new HttpResponse();
    response.setStatusCode(404);
    operation.getResponseFuture().setResponse(response);
    operation.getResponseFuture().run();
  }
catch (  Exception e) {
    if (connection != null) {
      StringBuilder errors=new StringBuilder();
      try {
        for (        InputStream in : new InputStream[]{connection.getErrorStream(),connection.getInputStream()}) {
          if (in != null) {
            errors.append(Utils.toStringAndClose(in)).append("\n");
          }
        }
        logger.error(e,"error encountered during the exception: %1s",errors.toString());
      }
 catch (      IOException e2) {
      }
    }
    operation.setException(e);
  }
 finally {
    if (request.getMethod().equals("HEAD"))     connection.disconnect();
  }
}
