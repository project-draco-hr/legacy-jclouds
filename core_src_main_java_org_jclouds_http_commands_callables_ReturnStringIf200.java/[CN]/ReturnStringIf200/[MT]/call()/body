{
  int code=getResponse().getStatusCode();
  if (code >= 400 && code < 500) {
    throw new HttpException(String.format("Content not found - %1s",getResponse()));
  }
 else   if (code == 200) {
    InputStream entity=getResponse().getContent();
    if (entity == null)     throw new HttpException("no content");
    String toReturn=null;
    try {
      toReturn=Utils.toStringAndClose(entity);
    }
 catch (    IOException e) {
      throw new HttpException(String.format("Couldn't receive response %1s, entity: %2s ",getResponse(),toReturn),e);
    }
    return toReturn;
  }
 else {
    throw new HttpException(String.format("Unhandled status code  - %1s",getResponse()));
  }
}
