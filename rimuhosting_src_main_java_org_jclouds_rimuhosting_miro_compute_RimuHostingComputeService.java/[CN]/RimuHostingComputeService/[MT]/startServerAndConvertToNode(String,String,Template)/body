{
  NewServerResponse serverResponse=client.createServer(name,checkNotNull(template.getImage().getId(),"imageId"),checkNotNull(template.getSize().getId(),"sizeId"));
  NodeMetadata node=new NodeMetadataImpl(serverResponse.getServer().getId().toString(),name,template.getLocation().getId(),null,ImmutableMap.<String,String>of(),tag,NodeState.UNKNOWN,getPublicAddresses(serverResponse.getServer()),ImmutableList.<InetAddress>of(),ImmutableMap.<String,String>of(),new Credentials("root",serverResponse.getNewInstanceRequest().getCreateOptions().getPassword()));
  return node;
}
