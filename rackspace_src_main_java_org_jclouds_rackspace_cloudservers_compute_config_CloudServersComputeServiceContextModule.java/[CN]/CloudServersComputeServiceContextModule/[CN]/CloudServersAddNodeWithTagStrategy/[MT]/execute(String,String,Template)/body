{
  Server server=client.createServer(name,Integer.parseInt(template.getImage().getId()),Integer.parseInt(template.getSize().getId()));
  serverActive.apply(server);
  return new NodeMetadataImpl(server.getId() + "",name,server.getId() + "",new LocationImpl(LocationScope.HOST,server.getHostId(),server.getHostId(),template.getLocation()),null,server.getMetadata(),tag,template.getImage(),NodeState.RUNNING,server.getAddresses().getPublicAddresses(),server.getAddresses().getPrivateAddresses(),ImmutableMap.<String,String>of(),new Credentials("root",server.getAdminPass()));
}
