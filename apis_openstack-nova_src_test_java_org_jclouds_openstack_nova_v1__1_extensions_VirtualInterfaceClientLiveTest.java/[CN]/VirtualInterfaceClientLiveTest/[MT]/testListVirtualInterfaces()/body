{
  if (clientOption.isPresent()) {
    Server testServer=null;
    try {
      testServer=createServerInZone(zone);
      Set<VirtualInterface> results=clientOption.get().listVirtualInterfacesForServer(testServer.getId());
      for (      VirtualInterface vif : results) {
        assertNotNull(vif.getId());
        assertNotNull(vif.getMacAddress());
      }
    }
  finally {
      if (testServer != null) {
        novaContext.getApi().getServerClientForZone(zone).deleteServer(testServer.getId());
      }
    }
  }
}
