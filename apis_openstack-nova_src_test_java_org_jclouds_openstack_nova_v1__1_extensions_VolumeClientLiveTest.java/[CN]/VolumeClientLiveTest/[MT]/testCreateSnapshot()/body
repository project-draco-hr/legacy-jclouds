{
  if (client != null) {
    testSnapshot=client.createSnapshot(testVolume.getId(),CreateVolumeSnapshotOptions.Builder.name("jclouds-live-test").description("jclouds live test snapshot").force());
    assertNotNull(testSnapshot);
    assertNotNull(testSnapshot.getId());
    final String snapshotId=testSnapshot.getId();
    assertNotNull(testSnapshot.getStatus());
    assertTrue(testSnapshot.getSize() > -1);
    assertNotNull(testSnapshot.getCreated());
    assertTrue(new RetryablePredicate<VolumeClient>(new Predicate<VolumeClient>(){
      @Override public boolean apply(      VolumeClient volumeClient){
        return client.getSnapshot(snapshotId).getStatus() == Volume.Status.AVAILABLE;
      }
    }
,30 * 1000L).apply(client));
  }
}
