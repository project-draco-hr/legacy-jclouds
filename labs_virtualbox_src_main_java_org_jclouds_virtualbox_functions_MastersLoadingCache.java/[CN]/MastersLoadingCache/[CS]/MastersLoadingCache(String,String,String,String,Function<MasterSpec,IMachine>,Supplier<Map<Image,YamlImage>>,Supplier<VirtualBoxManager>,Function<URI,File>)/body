{
  checkNotNull(version,"version");
  checkNotNull(installationKeySequence,"installationKeySequence");
  checkNotNull(manager,"vboxmanager");
  this.manager=manager;
  this.masterCreatorAndInstaller=masterLoader;
  this.installationKeySequence=installationKeySequence;
  this.workingDir=workingDir == null ? VIRTUALBOX_DEFAULT_DIR : workingDir;
  this.isosDir=workingDir + File.separator + "isos";
  this.imageMapping=Maps.newLinkedHashMap();
  for (  Entry<Image,YamlImage> entry : yamlMapper.get().entrySet()) {
    this.imageMapping.put(entry.getKey().getId(),entry.getValue());
  }
  this.version=Iterables.get(Splitter.on('r').split(version),0);
  this.isoDownloader=isoDownloader;
  this.preconfigurationUrl=preconfigurationUrl;
}
