{
  final String publicReadObjectKey="public-read-acl";
  final String containerName=getContainerName();
  try {
    context.getApi().putBlob(containerName,new S3Object(publicReadObjectKey,""),new PutObjectOptions().withAcl(CannedAccessPolicy.PUBLIC_READ)).get(10,TimeUnit.SECONDS);
    assertEventually(new Runnable(){
      public void run(){
        try {
          AccessControlList acl=context.getApi().getBlobACL(containerName,publicReadObjectKey).get(10,TimeUnit.SECONDS);
          assertEquals(acl.getGrants().size(),2);
          assertEquals(acl.getPermissions(GroupGranteeURI.ALL_USERS).size(),1);
          assertTrue(acl.getOwner() != null);
          String ownerId=acl.getOwner().getId();
          assertTrue(acl.hasPermission(ownerId,Permission.FULL_CONTROL));
          assertTrue(acl.hasPermission(GroupGranteeURI.ALL_USERS,Permission.READ));
        }
 catch (        Exception e) {
          Utils.<RuntimeException>rethrowIfRuntimeOrSameType(e);
        }
      }
    }
);
  }
  finally {
    returnContainer(containerName);
  }
}
