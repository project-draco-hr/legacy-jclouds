{
  final DomainClient client=gleContext.getApi().getDomainClient();
  int before=client.listDomains().size();
  client.addDomain(domain);
  RetryablePredicate<Integer> result=new RetryablePredicate<Integer>(new Predicate<Integer>(){
    public boolean apply(    Integer value){
      return client.listDomains().size() == value;
    }
  }
,30,1,TimeUnit.SECONDS);
  assertTrue(result.apply(before + 1));
}
