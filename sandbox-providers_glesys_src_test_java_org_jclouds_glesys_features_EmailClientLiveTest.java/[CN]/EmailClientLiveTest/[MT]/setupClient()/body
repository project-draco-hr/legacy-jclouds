{
  super.setupClient();
  client=context.getApi().getEmailClient();
  try {
    client.delete("test@" + testDomain);
    client.delete("test2@" + testDomain);
    context.getApi().getDomainClient().deleteDomain(testDomain);
  }
 catch (  Exception e) {
  }
  serverId=createServer("test-email-jclouds").getServerId();
  createDomain(testDomain);
  emailAccountCounter=new RetryablePredicate<Integer>(new Predicate<Integer>(){
    public boolean apply(    Integer value){
      return client.listAccounts(testDomain).size() == value;
    }
  }
,30,1,TimeUnit.SECONDS);
}
