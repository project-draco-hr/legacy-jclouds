{
  Integer deployedVMQuota=generalSettings.getDeployedVMQuota();
  Integer storedVmQuota=generalSettings.getStoredVmQuota();
  boolean useServerBootSequence=generalSettings.useServerBootSequence();
  Integer delayAfterPowerOnSeconds=generalSettings.getDelayAfterPowerOnSeconds();
  try {
    newGeneralSettings=generalSettings.toBuilder().deployedVMQuota(deployedVMQuota + 1).storedVmQuota(storedVmQuota + 1).useServerBootSequence(!useServerBootSequence).delayAfterPowerOnSeconds(delayAfterPowerOnSeconds + 1).build();
    generalSettings=orgClient.updateGeneralSettings(orgRef.getURI(),newGeneralSettings);
    assertTrue(equal(generalSettings.getDeployedVMQuota(),deployedVMQuota + 1),String.format(OBJ_FIELD_UPDATABLE,"generalSettings","deployedVMQuota"));
    assertTrue(equal(generalSettings.getStoredVmQuota(),storedVmQuota + 1),String.format(OBJ_FIELD_UPDATABLE,"generalSettings","storedVmQuota"));
    assertTrue(equal(generalSettings.useServerBootSequence(),!useServerBootSequence),String.format(OBJ_FIELD_UPDATABLE,"generalSettings","useServerBootSequence"));
    assertTrue(equal(generalSettings.getDelayAfterPowerOnSeconds(),delayAfterPowerOnSeconds + 1),String.format(OBJ_FIELD_UPDATABLE,"generalSettings","delayAfterPowerOnSeconds"));
    Checks.checkGeneralSettings(generalSettings);
  }
  finally {
    generalSettings=generalSettings.toBuilder().deployedVMQuota(deployedVMQuota).storedVmQuota(storedVmQuota).useServerBootSequence(useServerBootSequence).delayAfterPowerOnSeconds(delayAfterPowerOnSeconds).build();
    generalSettings=orgClient.updateGeneralSettings(orgRef.getURI(),generalSettings);
  }
}
