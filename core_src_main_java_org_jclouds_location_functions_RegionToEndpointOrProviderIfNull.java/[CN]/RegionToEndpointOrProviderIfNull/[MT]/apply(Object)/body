{
  if (from == null || from.equals(defaultProvider))   return defaultUri;
  checkState(from.equals(defaultProvider) || regionToEndpoint != null,"requested location " + from + ", but only the default location "+ defaultProvider+ " is configured");
  checkArgument(from.equals(defaultProvider) || (regionToEndpoint != null && regionToEndpoint.containsKey(from)),"requested location %s, which is not in the configured locations: %s",from,regionToEndpoint);
  return regionToEndpoint.get(from);
}
