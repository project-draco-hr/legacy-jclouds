{
  Iterable<VirtualMachinesWithNodeExtendedDto> vms=transformParallel(vapps,new Function<VirtualAppliance,ListenableFuture<? extends VirtualMachinesWithNodeExtendedDto>>(){
    @Override public ListenableFuture<VirtualMachinesWithNodeExtendedDto> apply(    final VirtualAppliance input){
      return context.getAsyncApi().getCloudApi().listVirtualMachines(input.unwrap(),options);
    }
  }
,userExecutor,maxTime,logger,"getting virtual machines");
  return DomainWrapper.join(vms);
}
