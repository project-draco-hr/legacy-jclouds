{
  checkNotNull(virtualMachine,"virtualMachine");
  try {
    VirtualMachineState state=virtualMachine.getState();
    return state == expectedState ? MonitorStatus.DONE : MonitorStatus.CONTINUE;
  }
 catch (  Exception ex) {
    logger.warn(ex,"exception thrown while monitoring %s on %s, returning CONTINUE",virtualMachine,getClass().getName());
    return MonitorStatus.CONTINUE;
  }
}
