{
  VirtualMachineTemplateOptions options=new VirtualMachineTemplateOptions();
  if (persistent != null) {
    options.queryParameters.put("stateful",persistent.name());
  }
  if (hypervisorType != null) {
    options.queryParameters.put("hypervisorTypeName",hypervisorType.name());
  }
  if (category != null) {
    options.queryParameters.put("categoryName",category.getName());
  }
  if (category == null && categoryName != null) {
    options.queryParameters.put("categoryName",categoryName);
  }
  if (idTemplate != null) {
    options.queryParameters.put("idTemplate",String.valueOf(idTemplate));
  }
  return options;
}
