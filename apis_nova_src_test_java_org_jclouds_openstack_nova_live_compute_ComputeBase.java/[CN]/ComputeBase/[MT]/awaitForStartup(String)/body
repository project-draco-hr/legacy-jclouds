{
  while (true) {
    NodeMetadata metadata=computeService.getNodeMetadata(nodeId);
    Set<String> addresses=metadata.getPublicAddresses();
    System.out.println(addresses);
    System.out.println(metadata.getState());
    if (metadata.getState() == NodeState.RUNNING && addresses != null && !addresses.isEmpty())     return addresses.iterator().next();
    Thread.sleep(1000);
  }
}
