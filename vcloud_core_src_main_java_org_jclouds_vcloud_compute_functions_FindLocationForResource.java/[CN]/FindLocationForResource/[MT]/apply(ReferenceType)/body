{
  for (  Location input : locations.get()) {
    do {
      if (VCloudLocation.class.cast(input).getResource().getHref().equals(resource.getHref()))       return input;
      input=input.getParent();
    }
 while (input.getParent() != null);
  }
  throw new NoSuchElementException(String.format("resource: %s not found in locations: %s",resource,locations.get()));
}
