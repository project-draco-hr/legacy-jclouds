{
  try {
    checkNotNull(from,"http response");
    checkNotNull(from.getPayload(),"payload in " + from);
  }
 catch (  NullPointerException e) {
    return addDetailsAndPropagate(from,e);
  }
  if (from.getStatusCode() >= 300)   return convertStreamToStringAndParse(from);
  InputStream is=from.getPayload().getInput();
  try {
    return parse(new InputSource(is));
  }
 catch (  RuntimeException e) {
    return addDetailsAndPropagate(from,e);
  }
 finally {
    closeQuietly(is);
  }
}
