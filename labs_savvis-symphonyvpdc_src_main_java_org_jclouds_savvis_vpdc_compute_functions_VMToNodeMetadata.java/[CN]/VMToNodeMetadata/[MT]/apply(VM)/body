{
  NodeMetadataBuilder builder=new NodeMetadataBuilder();
  builder.ids(from.getHref().toASCIIString());
  builder.name(from.getName());
  String locationId=Iterables.get(from.getNetworkSection().getNetworks(),0).getName();
  builder.location(from(locations.get()).firstMatch(LocationPredicates.idEquals(locationId)).orNull());
  builder.group(nodeNamingConvention.groupInUniqueNameOrNull(from.getName()));
  try {
    builder.operatingSystem(CIMOperatingSystem.toComputeOs(from.getOperatingSystemSection()));
  }
 catch (  NullPointerException e) {
  }
  builder.status(VAPPSTATUS_TO_NODESTATE.get(from.getStatus()));
  Set<String> addresses=Utils.getIpsFromVM(from);
  builder.publicAddresses(filter(addresses,not(IsPrivateIPAddress.INSTANCE)));
  builder.privateAddresses(filter(addresses,IsPrivateIPAddress.INSTANCE));
  return builder.build();
}
