{
  RestContext<AbiquoApi,AbiquoAsyncApi> context=EasyMock.createMock(RestContext.class);
  VirtualMachineTemplateToHardware function=new VirtualMachineTemplateToHardware();
  VirtualMachineTemplateDto dto=new VirtualMachineTemplateDto();
  dto.setId(5);
  dto.setName("Template");
  dto.setDescription("Template description");
  dto.setHdRequired(50L * 1024 * 1024* 1024);
  dto.setRamRequired(2048);
  Hardware hardware=function.apply(wrap(context,VirtualMachineTemplate.class,dto));
  assertEquals(hardware.getProcessors().size(),1);
  assertEquals(hardware.getProcessors().get(0).getCores(),0D);
}
