{
  String chefEndpoint=checkNotNull(System.getProperty("jclouds.chef.endpoint"),"jclouds.chef.endpoint");
  String chefIdentity=checkNotNull(System.getProperty("jclouds.chef.identity"),"jclouds.chef.identity");
  String chefCredentialFile=System.getProperty("jclouds.chef.credential.pem");
  if (chefCredentialFile == null || chefCredentialFile.equals(""))   chefCredentialFile=System.getProperty("user.home") + "/.chef/" + chefIdentity+ ".pem";
  Properties props=new Properties();
  props.setProperty("chef.endpoint",chefEndpoint);
  chefContext=new ChefContextFactory().createContext(chefIdentity,Files.toString(new File(chefCredentialFile),Charsets.UTF_8),ImmutableSet.<Module>of(new Log4JLoggingModule()),props);
}
