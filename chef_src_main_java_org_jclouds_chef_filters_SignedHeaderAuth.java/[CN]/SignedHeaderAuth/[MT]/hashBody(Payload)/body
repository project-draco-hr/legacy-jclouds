{
  if (payload == null)   return emptyStringHash;
  checkArgument(payload != null,"payload was null");
  checkArgument(payload.isRepeatable(),"payload must be repeatable");
  try {
    return encryptionService.sha1Base64(Utils.toStringAndClose(payload.getContent()));
  }
 catch (  Exception e) {
    Throwables.propagateIfPossible(e);
    throw new HttpException("error creating sigature for payload: " + payload,e);
  }
}
