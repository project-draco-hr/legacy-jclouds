{
  Map<String,String> params1=m1.getParameters();
  Map<String,String> params2=m2.getParameters();
  if (params1 == params2)   return true;
  if (params1 == null || params2 == null)   return false;
  if (params1.size() == 0 && params2.size() == 0)   return true;
  int numParams1=params1.size();
  if (params1.containsKey("q"))   numParams1--;
  int numParams2=params2.size();
  if (params2.containsKey("q"))   numParams2--;
  if (numParams1 != numParams2)   return false;
  if (numParams1 == 0)   return true;
  for (  Map.Entry<String,String> entry : params1.entrySet()) {
    String key=entry.getKey();
    if (key.equals("q"))     continue;
    String value=entry.getValue();
    String value2=params2.get(key);
    if (value == value2)     continue;
    if (value == null || value2 == null)     return false;
    if (value.equals(value2) == false)     return false;
  }
  return true;
}
