{
  if (type.getParameters() != null) {
    String val=type.getParameters().get("q");
    try {
      if (val != null) {
        float rtn=Float.valueOf(val);
        if (rtn > 1.0F)         throw new LoggableFailure("MediaType q value cannot be greater than 1.0: " + type.toString(),HttpResponseCodes.SC_BAD_REQUEST);
        return rtn;
      }
    }
 catch (    NumberFormatException e) {
      throw new RuntimeException("MediaType q parameter must be a float: " + type,e);
    }
  }
  return 2.0f;
}
