{
  if (metadata.size() > 0 || generateInstanceNames) {
    for (    String id : transform(iterable,new Function<RunningInstance,String>(){
      @Override public String apply(      RunningInstance arg0){
        return arg0.getId();
      }
    }
))     aclient.getTagServices().createTagsInRegion(region,ImmutableSet.of(id),metadataForId(id,group,metadata));
  }
  return iterable;
}
