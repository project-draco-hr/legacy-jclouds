{
  Type listType=new TypeToken<SortedSet<CloudFilesMetadata>>(){
  }
.getType();
  try {
    SortedSet<CloudFilesMetadata> list=gson.fromJson(new InputStreamReader(stream,"UTF-8"),listType);
    return Sets.newTreeSet(Iterables.transform(list,new Function<CloudFilesMetadata,BlobMetadata>(){
      public BlobMetadata apply(      CloudFilesMetadata from){
        BlobMetadata metadata=new BlobMetadata(from.name);
        metadata.setSize(from.bytes);
        metadata.setLastModified(from.last_modified);
        metadata.setContentType(from.content_type);
        metadata.setETag(HttpUtils.fromHexString(from.hash));
        return metadata;
      }
    }
));
  }
 catch (  UnsupportedEncodingException e) {
    throw new RuntimeException("jclouds requires UTF-8 encoding",e);
  }
}
