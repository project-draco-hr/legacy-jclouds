{
  Constructor constructor=new Constructor(Config.class);
  TypeDescription nodeDesc=new TypeDescription(Node.class);
  nodeDesc.putListPropertyType("tags",String.class);
  constructor.addTypeDescription(nodeDesc);
  TypeDescription configDesc=new TypeDescription(Config.class);
  configDesc.putMapPropertyType("nodes",String.class,Node.class);
  constructor.addTypeDescription(configDesc);
  Yaml yaml=new Yaml(new Loader(constructor));
  Config config=(Config)yaml.load(source);
  checkState(config != null,"missing nodes: collection");
  return config.nodes;
}
