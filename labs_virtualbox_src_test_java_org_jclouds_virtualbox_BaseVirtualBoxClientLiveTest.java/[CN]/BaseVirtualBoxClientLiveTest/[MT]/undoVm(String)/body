{
  IMachine vm=null;
  try {
    vm=manager.get().getVBox().findMachine(vmNameOrId);
    VmSpec vmSpec=new IMachineToVmSpec().apply(vm);
    int attempts=0;
    while (attempts < 10 && !vm.getSessionState().equals(SessionState.Unlocked)) {
      attempts++;
      try {
        Thread.sleep(200l);
      }
 catch (      InterruptedException e) {
      }
    }
    machineUtils.applyForMachine(vmNameOrId,new UnregisterMachineIfExistsAndDeleteItsMedia(vmSpec));
  }
 catch (  VBoxException e) {
    if (e.getMessage().contains("Could not find a registered machine named"))     return;
  }
}
