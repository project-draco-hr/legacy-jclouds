{
  VirtualMachineTemplate template=templateWithZone.getTemplate();
  VirtualDatacenter zone=templateWithZone.getZone();
  HardwareBuilder builder=new HardwareBuilder();
  builder.providerId(template.getId().toString());
  builder.id(template.getId().toString() + "-" + zone.getId());
  builder.uri(template.getURI());
  builder.name(template.getName());
  builder.processor(new Processor(template.getCpuRequired(),DEFAULT_CORE_SPEED));
  builder.ram(template.getRamRequired());
  builder.location(virtualDatacenterToLocation.apply(zone));
  builder.hypervisor(zone.getHypervisorType().name());
  builder.supportsImage(ImagePredicates.idEquals(template.getId().toString()));
  VolumeBuilder volumeBuilder=new VolumeBuilder();
  volumeBuilder.bootDevice(true);
  volumeBuilder.size(toGb(template.getHdRequired()));
  volumeBuilder.type(Volume.Type.LOCAL);
  volumeBuilder.durable(false);
  builder.volume(volumeBuilder.build());
  return builder.build();
}
