{
  final CertificateFactory finalCertFactory=certFactory != null ? certFactory : CertificateFactory.getInstance("X.509");
  try {
    return fromPem(supplier,new PemProcessor<X509Certificate>(ImmutableMap.<String,ResultParser<X509Certificate>>of(PEMReader.CERTIFICATE_X509_MARKER,new ResultParser<X509Certificate>(){
      public X509Certificate parseResult(      byte[] bytes) throws IOException {
        try {
          return (X509Certificate)finalCertFactory.generateCertificate(new ByteArrayInputStream(bytes));
        }
 catch (        CertificateException e) {
          throw new RuntimeException(e);
        }
      }
    }
)));
  }
 catch (  RuntimeException e) {
    if (e.getCause() != null && e.getCause() instanceof CertificateException) {
      throw (CertificateException)e.getCause();
    }
    throw e;
  }
}
