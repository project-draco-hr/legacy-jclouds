{
  return fromPem(supplier,new PemProcessor<KeySpec>(ImmutableMap.<String,ResultParser<KeySpec>>of(PEMReader.PRIVATE_PKCS1_MARKER,new ResultParser<KeySpec>(){
    public KeySpec parseResult(    byte[] bytes) throws IOException {
      return (new PKCS1EncodedKeySpec(bytes)).getKeySpec();
    }
  }
,PEMReader.PRIVATE_PKCS8_MARKER,new ResultParser<KeySpec>(){
    public KeySpec parseResult(    byte[] bytes) throws IOException {
      return new PKCS8EncodedKeySpec(bytes);
    }
  }
)));
}
