{
  URI mediaUri=URI.create(endpoint + "/media/NOTAUUID");
  VCloudDirectorClient client=requestsSendResponses(loginRequest,sessionResponse,getStandardRequest("GET",mediaUri),getStandardPayloadResponse(400,"/media/error400.xml",VCloudDirectorMediaType.ERROR));
  Error expected=Error.builder().message("validation error on field 'id': String value has invalid format or length").majorErrorCode(400).minorErrorCode("BAD_REQUEST").build();
  try {
    client.getMediaClient().getMedia(mediaUri);
    fail("Should give HTTP 400 error");
  }
 catch (  VCloudDirectorException vde) {
    assertEquals(vde.getError(),expected);
  }
catch (  Exception e) {
    fail("Should have thrown a VCloudDirectorException");
  }
}
