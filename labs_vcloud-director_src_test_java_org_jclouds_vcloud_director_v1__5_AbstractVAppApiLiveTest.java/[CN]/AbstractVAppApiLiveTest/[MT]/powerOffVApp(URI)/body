{
  VApp test=vAppApi.getVApp(testVAppURI);
  Status status=test.getStatus();
  if (status != Status.POWERED_OFF) {
    Task powerOff=vAppApi.powerOff(vm.getHref());
    assertTaskSucceedsLong(powerOff);
  }
  test=vAppApi.getVApp(testVAppURI);
  assertStatus(VAPP,test,Status.POWERED_OFF);
  return test;
}
