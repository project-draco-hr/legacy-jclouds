{
  String bucketName=getContainerName();
  try {
    Map<String,Blob> map=createMap(context,bucketName);
    putFiveStrings(map);
    Set<Entry<String,Blob>> entries=map.entrySet();
    assertEquals(entries.size(),5);
    for (    Entry<String,Blob> entry : entries) {
      assertEquals(fiveStrings.get(entry.getKey()),BlobStoreUtils.getContentAsStringOrNullAndClose(entry.getValue()));
      Blob value=entry.getValue();
      value.setPayload("");
      value.generateMD5();
      entry.setValue(value);
    }
    assertConsistencyAwareMapSize(map,5);
    for (    Blob value : map.values()) {
      assertEquals(BlobStoreUtils.getContentAsStringOrNullAndClose(value),null);
    }
  }
  finally {
    returnContainer(bucketName);
  }
}
