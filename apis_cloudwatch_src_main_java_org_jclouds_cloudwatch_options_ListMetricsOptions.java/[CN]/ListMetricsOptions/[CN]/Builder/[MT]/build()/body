{
  ListMetricsOptions lmo=new ListMetricsOptions(namespace,metricName,dimensions,nextToken);
  int dimensionIndex=1;
  if (namespace != null) {
    lmo.formParameters.put("Namespace",namespace);
  }
  if (metricName != null) {
    lmo.formParameters.put("MetricName",metricName);
  }
  if (dimensions != null) {
    for (    Dimension dimension : dimensions) {
      lmo.formParameters.put("Dimensions.member." + dimensionIndex + ".Name",dimension.getName());
      lmo.formParameters.put("Dimensions.member." + dimensionIndex + ".Value",dimension.getValue());
      dimensionIndex++;
    }
  }
  if (nextToken != null) {
    lmo.formParameters.put("NextToken",nextToken);
  }
  return lmo;
}
