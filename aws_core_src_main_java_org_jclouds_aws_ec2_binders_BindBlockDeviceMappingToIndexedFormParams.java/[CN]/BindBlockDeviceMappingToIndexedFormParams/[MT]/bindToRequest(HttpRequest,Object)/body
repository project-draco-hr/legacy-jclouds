{
  checkArgument(checkNotNull(input,"input") instanceof BlockDeviceMapping,"this binder is only valid for BlockDeviceMapping");
  BlockDeviceMapping blockDeviceMapping=(BlockDeviceMapping)input;
  int amazonOneBasedIndex=1;
  for (  String ebsBlockDeviceName : blockDeviceMapping.getEbsBlockDevices().keySet()) {
    for (    RunningInstance.EbsBlockDevice ebsBlockDevice : blockDeviceMapping.getEbsBlockDevices().get(ebsBlockDeviceName)) {
      addFormParamTo(request,format(volumeIdPattern,amazonOneBasedIndex),ebsBlockDevice.getVolumeId());
      if (ebsBlockDeviceName != null) {
        addFormParamTo(request,format(deviceNamePattern,amazonOneBasedIndex),ebsBlockDeviceName);
      }
      addFormParamTo(request,format(deleteOnTerminationPattern,amazonOneBasedIndex),String.valueOf(ebsBlockDevice.isDeleteOnTermination()));
      amazonOneBasedIndex++;
    }
  }
}
