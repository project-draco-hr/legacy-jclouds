{
  Set<org.jclouds.compute.domain.Image> result=convertImages("/eucalyptus_images.xml");
  assertEquals(result.size(),3);
  assertEquals(Iterables.get(result,0).toString(),new ImageBuilder().operatingSystem(OperatingSystem.builder().family(OsFamily.DEBIAN).arch("paravirtual").version("6.0").description("debian-6.0-x86_64/debian.6-0.x86-64.img.manifest.xml").is64Bit(true).build()).description("debian-6.0-x86_64/debian.6-0.x86-64.img.manifest.xml").defaultCredentials(new LoginCredentials("root",false)).id("us-east-1/emi-892C130F").providerId("emi-892C130F").location(defaultLocation).userMetadata(ImmutableMap.of("owner","admin","rootDeviceType","instance-store","virtualizationType","paravirtual","hypervisor","xen")).status(org.jclouds.compute.domain.Image.Status.AVAILABLE).backendStatus("available").build().toString());
  assertEquals(Iterables.get(result,0).getStatus(),org.jclouds.compute.domain.Image.Status.AVAILABLE);
  assertEquals(Iterables.get(result,1).toString(),new ImageBuilder().operatingSystem(OperatingSystem.builder().family(OsFamily.CENTOS).arch("paravirtual").version("5.5").description("centos-5.5-x86_64/centos.5-5.x86-64.img.manifest.xml").is64Bit(true).build()).description("centos-5.5-x86_64/centos.5-5.x86-64.img.manifest.xml").defaultCredentials(new LoginCredentials("root",false)).id("us-east-1/emi-9B751369").providerId("emi-9B751369").location(defaultLocation).userMetadata(ImmutableMap.of("owner","admin","rootDeviceType","instance-store","virtualizationType","paravirtual","hypervisor","xen")).status(org.jclouds.compute.domain.Image.Status.AVAILABLE).backendStatus("available").build().toString());
  assertEquals(Iterables.get(result,1).getStatus(),org.jclouds.compute.domain.Image.Status.AVAILABLE);
  assertEquals(Iterables.get(result,2).toString(),new ImageBuilder().operatingSystem(OperatingSystem.builder().family(OsFamily.UBUNTU).arch("paravirtual").version("10.04").description("ubuntu-10.04-x86_64/ubuntu.10-04.x86-64.img.manifest.xml").is64Bit(true).build()).description("ubuntu-10.04-x86_64/ubuntu.10-04.x86-64.img.manifest.xml").defaultCredentials(new LoginCredentials("root",false)).id("us-east-1/emi-E0641459").providerId("emi-E0641459").location(defaultLocation).userMetadata(ImmutableMap.of("owner","admin","rootDeviceType","instance-store","virtualizationType","paravirtual","hypervisor","xen")).status(org.jclouds.compute.domain.Image.Status.AVAILABLE).backendStatus("available").build().toString());
  assertEquals(Iterables.get(result,2).getStatus(),org.jclouds.compute.domain.Image.Status.AVAILABLE);
}
