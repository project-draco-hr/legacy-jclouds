{
  Blob object;
  if (from instanceof Blob) {
    object=(Blob)from;
  }
 else {
    object=blobFactory.create(null);
    object.setPayload(Payloads.newPayload(from));
  }
  if (object.getMetadata().getContentMD5() == null)   encryptionService.generateMD5BufferingIfNotRepeatable(object);
  return object.getPayload().getContentMD5();
}
