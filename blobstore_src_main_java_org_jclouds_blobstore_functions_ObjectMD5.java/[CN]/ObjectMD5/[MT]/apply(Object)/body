{
  Blob object;
  if (from instanceof Blob) {
    object=(Blob)from;
  }
 else {
    object=blobFactory.create(null);
    object.setPayload(Payloads.newPayload(from));
  }
  if (object.getMetadata().getContentMetadata().getContentMD5() == null)   try {
    Payloads.calculateMD5(object,crypto.md5());
  }
 catch (  IOException e) {
    Throwables.propagate(e);
  }
  return object.getPayload().getContentMetadata().getContentMD5();
}
