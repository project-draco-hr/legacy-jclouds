{
  Blob blob=blobFactory.create(null);
  blob.getMetadata().setName("name");
  blob.setPayload(new PhantomPayload(2l,new byte[]{0,2,4,8}));
  blob.getPayload().setContentType("text/plain");
  HttpRequest request=signer.signPutBlob("container",blob);
  assertRequestLineEquals(request,"PUT https://identity.blob.core.windows.net/container/name HTTP/1.1");
  assertNonPayloadHeadersEqual(request,"Authorization: SharedKeyLite identity:LT+HBNzhbRsZY07kC+/JxeuAURbxTmwJaIe464LO36c=\nDate: Thu, 05 Jun 2008 16:38:19 GMT\nx-ms-blob-type: BlockBlob\nx-ms-version: 2009-09-19\n");
  assertContentHeadersEqual(request,"text/plain",(long)2l,new byte[]{0,2,4,8});
  assertEquals(request.getFilters().size(),0);
}
