{
  for (  NamedResource resource : vdc.getResourceEntities().values()) {
    if (resource.getType().equals(VCloudMediaType.VAPPTEMPLATE_XML)) {
      Location location=findLocationForResourceInVDC.apply(resource,vdc.getId());
      try {
        Matcher matcher=getMatcherAndFind(resource.getName());
        double cores=Double.parseDouble(matcher.group(1));
        int ram=Integer.parseInt(matcher.group(2));
        if (matcher.pattern().equals(GBRAM_PATTERN))         ram*=1024;
        int disk=Integer.parseInt(matcher.group(3));
        String name=resource.getName().split(" ")[1];
        sizes.add(new SizeImpl(resource.getId(),name,resource.getId(),location,null,ImmutableMap.<String,String>of(),cores,ram,disk,ImagePredicates.idEquals(resource.getId())));
      }
 catch (      NoSuchElementException e) {
        logger.debug("<< didn't match at all(%s)",resource);
      }
    }
  }
}
