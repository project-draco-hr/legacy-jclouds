{
  for (  NamedResource resource : vdc.getResourceEntities().values()) {
    if (resource.getType().equals(VCloudMediaType.VAPPTEMPLATE_XML)) {
      Location location=findLocationForResourceInVDC.apply(vdc);
      try {
        Matcher matcher=getMatcherAndFind(resource.getName());
        double cores=Double.parseDouble(matcher.group(1));
        int ram=Integer.parseInt(matcher.group(2));
        if (matcher.pattern().equals(GBRAM_PATTERN))         ram*=1024;
        int disk=Integer.parseInt(matcher.group(3));
        String name=resource.getName().split(" ")[1];
        String id=vdc.getId() + "/" + resource.getId();
        sizes.add(new SizeImpl(resource.getId(),name,id,location,null,ImmutableMap.<String,String>of(),cores,ram,disk,ImagePredicates.idEquals(id)));
      }
 catch (      NoSuchElementException e) {
        logger.debug("<< didn't match at all(%s)",resource);
      }
    }
  }
}
