{
  if (element.isJsonNull()) {
    visitor.visitNull();
  }
 else   if (element.isJsonArray()) {
    JsonArray array=element.getAsJsonArray();
    visitor.startArray(array);
    boolean isFirst=true;
    for (    JsonElement child : array) {
      visitChild(array,child,isFirst);
      if (isFirst) {
        isFirst=false;
      }
    }
    visitor.endArray(array);
  }
 else   if (element.isJsonObject()) {
    JsonObject object=element.getAsJsonObject();
    visitor.startObject(object);
    boolean isFirst=true;
    for (    Map.Entry<String,JsonElement> member : object.entrySet()) {
      boolean visited=visitChild(object,member.getKey(),member.getValue(),isFirst);
      if (visited && isFirst) {
        isFirst=false;
      }
    }
    visitor.endObject(object);
  }
 else   if (element instanceof JsonLiteral) {
    visitor.visitLiteral(JsonLiteral.class.cast(element));
  }
 else {
    visitor.visitPrimitive(element.getAsJsonPrimitive());
  }
}
