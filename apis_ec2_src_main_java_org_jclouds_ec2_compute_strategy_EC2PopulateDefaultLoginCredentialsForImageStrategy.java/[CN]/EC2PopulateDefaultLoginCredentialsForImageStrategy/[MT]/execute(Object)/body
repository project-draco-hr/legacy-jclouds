{
  if (creds != null)   return creds;
  Credentials credentials=new Credentials("root",null);
  if (resourceToAuthenticate != null) {
    String owner=null;
    if (resourceToAuthenticate instanceof Image) {
      owner=Image.class.cast(resourceToAuthenticate).getImageOwnerId();
    }
 else     if (resourceToAuthenticate instanceof org.jclouds.compute.domain.Image) {
      owner=org.jclouds.compute.domain.Image.class.cast(resourceToAuthenticate).getUserMetadata().get("owner");
    }
    checkArgument(owner != null,"Resource must be an image (for EC2)");
    if (owner.matches("063491364108|099720109477")) {
      credentials=new Credentials("ubuntu",null);
    }
 else     if (owner.equals("137112412989")) {
      credentials=new Credentials("ec2-user",null);
    }
  }
  return credentials;
}
