{
  String keyName=PREFIX + "1";
  try {
    client.deleteKeyPairInRegion(Region.DEFAULT,keyName);
  }
 catch (  Exception e) {
  }
  client.deleteKeyPairInRegion(Region.DEFAULT,keyName);
  KeyPair result=client.createKeyPairInRegion(Region.DEFAULT,keyName);
  assertNotNull(result);
  assertNotNull(result.getKeyMaterial());
  assertNotNull(result.getKeyFingerprint());
  assertEquals(result.getKeyName(),keyName);
  SortedSet<KeyPair> twoResults=Sets.newTreeSet(client.describeKeyPairsInRegion(Region.DEFAULT,keyName));
  assertNotNull(twoResults);
  assertEquals(twoResults.size(),1);
  KeyPair listPair=twoResults.iterator().next();
  assertEquals(listPair.getKeyName(),result.getKeyName());
  assertEquals(listPair.getKeyFingerprint(),result.getKeyFingerprint());
}
