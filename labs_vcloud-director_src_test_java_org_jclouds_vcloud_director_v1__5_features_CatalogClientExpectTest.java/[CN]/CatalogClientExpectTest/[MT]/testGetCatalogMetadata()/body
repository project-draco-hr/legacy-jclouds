{
  HttpRequest catalogRequest=HttpRequest.builder().method("GET").endpoint(URI.create(endpoint + "/catalog/7212e451-76e1-4631-b2de-ba1dfd8080e4/metadata")).headers(ImmutableMultimap.<String,String>builder().put("Accept","*/*").put("x-vcloud-authorization",token).build()).build();
  HttpResponse catalogResponse=HttpResponse.builder().statusCode(200).payload(payloadFromResourceWithContentType("/catalog/catalogMetadata.xml",VCloudDirectorMediaType.METADATA)).build();
  VCloudDirectorClient client=requestsSendResponses(loginRequest,sessionResponse,catalogRequest,catalogResponse);
  Reference catalogRef=Reference.builder().type("application/vnd.vmware.vcloud.catalog+xml").name("QunyingTestCatalog").href(URI.create(endpoint + "/catalog/7212e451-76e1-4631-b2de-ba1dfd8080e4")).build();
  Metadata expected=Metadata.builder().type("application/vnd.vmware.vcloud.metadata+xml").href(URI.create("https://vcloudbeta.bluelock.com/api/catalog/7212e451-76e1-4631-b2de-ba1dfd8080e4/metadata")).link(Link.builder().rel("up").type("application/vnd.vmware.vcloud.catalog+xml").href(URI.create("https://vcloudbeta.bluelock.com/api/catalog/7212e451-76e1-4631-b2de-ba1dfd8080e4")).build()).entries(ImmutableSet.of(metadataEntry())).build();
  assertEquals(client.getCatalogClient().getCatalogMetadata(catalogRef),expected);
}
