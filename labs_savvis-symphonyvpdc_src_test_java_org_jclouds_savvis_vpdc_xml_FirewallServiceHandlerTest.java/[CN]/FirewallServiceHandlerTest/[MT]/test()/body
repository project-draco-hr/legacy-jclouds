{
  InputStream is=getClass().getResourceAsStream("/firewallService.xml");
  Injector injector=Guice.createInjector(new SaxParserModule());
  Factory factory=injector.getInstance(ParseSax.Factory.class);
  FirewallService result=factory.create(injector.getInstance(FirewallServiceHandler.class)).parse(is);
  assertEquals(result.isEnabled(),false);
  assertEquals(result.getFirewallRules(),ImmutableSet.<FirewallRule>of(FirewallRule.builder().firewallType("SERVER_TIER_FIREWALL").isEnabled(true).source("internet").destination("VM Tier01").port("22").protocol("Tcp").policy("allow").description("Server Tier Firewall Rule").isLogged(false).build(),FirewallRule.builder().firewallType("SERVER_TIER_FIREWALL").isEnabled(true).source("VM Tier03").destination("VM Tier03").protocol("Icmp-ping").policy("allow").description("Server Tier Firewall Rule").isLogged(false).build()));
}
