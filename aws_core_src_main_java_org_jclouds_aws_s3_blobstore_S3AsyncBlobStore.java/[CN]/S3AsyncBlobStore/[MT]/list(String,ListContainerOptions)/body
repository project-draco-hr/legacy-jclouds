{
  ListBucketOptions httpOptions=container2BucketListOptions.apply(options);
  ListenableFuture<ListBucketResponse> returnVal=async.listBucket(container,httpOptions);
  ListenableFuture<PageSet<? extends StorageMetadata>> list=Futures.compose(returnVal,bucket2ResourceList,service);
  return (options.isDetailed()) ? Futures.compose(list,fetchBlobMetadataProvider.get().setContainerName(container),service) : list;
}
