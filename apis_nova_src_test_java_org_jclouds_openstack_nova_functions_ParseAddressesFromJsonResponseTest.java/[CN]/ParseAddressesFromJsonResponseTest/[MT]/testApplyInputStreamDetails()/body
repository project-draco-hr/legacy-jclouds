{
  InputStream is=getClass().getResourceAsStream("/test_list_addresses.json");
  UnwrapOnlyJsonValue<Addresses> parser=i.getInstance(Key.get(new TypeLiteral<UnwrapOnlyJsonValue<Addresses>>(){
  }
));
  Addresses response=parser.apply(HttpResponse.builder().statusCode(200).message("ok").payload(is).build());
  List<Address> publicAddresses=ImmutableList.copyOf(Iterables.transform(ImmutableList.of("67.23.10.132","::babe:67.23.10.132","67.23.10.131","::babe:4317:0A83"),Address.newString2AddressFunction()));
  List<Address> privateAddresses=ImmutableList.copyOf(Iterables.transform(ImmutableList.of("10.176.42.16","::babe:10.176.42.16"),Address.newString2AddressFunction()));
  assertTrue(response.getPublicAddresses().equals(Sets.newHashSet(publicAddresses)));
  assertTrue(response.getPrivateAddresses().equals(Sets.newHashSet(privateAddresses)));
}
