{
  final RuntimeMXBean runtime=createMock(RuntimeMXBean.class);
  expect(runtime.getUptime()).andReturn(69876000l);
  replay(runtime);
  Injector injector=Guice.createInjector(new ChefParserModule(),new GsonModule(),new JMXOhaiModule(){
    @Override protected RuntimeMXBean provideRuntimeMXBean(){
      return runtime;
    }
  }
);
  Json json=injector.getInstance(Json.class);
  Ohai ohai=injector.getInstance(Ohai.class);
  assertEquals(json.toJson(ohai.ohai.get().get("uptime_seconds")),"69876");
}
