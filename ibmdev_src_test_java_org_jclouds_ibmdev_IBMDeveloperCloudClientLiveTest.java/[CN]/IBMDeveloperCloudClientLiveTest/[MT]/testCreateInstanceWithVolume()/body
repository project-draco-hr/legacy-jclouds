{
  String name=TAG + "1";
  instance2=connection.createInstanceInLocation(location.getId(),name,IMAGE_ID,SIZE,attachIp(ip.getId()).authorizePublicKey(key.getName()).mountVolume(volume.getId(),"/mnt").configurationData(ImmutableMap.of("insight_admin_password","myPassword1","db2_admin_password","myPassword2","report_user_password","myPassword3")));
  assertBeginState(instance2,name);
  blockUntilRunning(instance2);
  assertRunning(instance2,name);
  volume=connection.getVolume(volume.getId());
  assertEquals(volume.getInstanceId(),instance2.getId());
  refreshIpAndReturnAllAddresses();
  assertEquals(ip.getInstanceId(),instance2.getId());
  assertEquals(ip.getIp(),instance2.getIp());
}
