{
  UriBuilder builder=UriBuilder.fromUri(request.getEndpoint());
  builder.host(host);
  builder.port(port);
  List<HttpRequestFilter> oldFilters=request.getFilters();
  request=new HttpRequest(request.getMethod(),builder.build(),request.getHeaders(),request.getEntity());
  request.getFilters().addAll(oldFilters);
  request.getHeaders().replaceValues(HttpHeaders.HOST,Collections.singletonList(host));
  return request;
}
