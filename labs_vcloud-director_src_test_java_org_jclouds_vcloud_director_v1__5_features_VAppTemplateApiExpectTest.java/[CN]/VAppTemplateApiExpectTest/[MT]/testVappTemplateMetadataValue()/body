{
  final String templateId="/vAppTemplate/vappTemplate-ef4415e6-d413-4cbb-9262-f9bbec5f2ea9";
  URI uri=URI.create(endpoint + templateId);
  VAppTemplateApi api=orderedRequestsSendResponses(loginRequest,sessionResponse,new VcloudHttpRequestPrimer().apiCommand("GET",templateId + "/metadata/12345").acceptMedia(METADATA_ENTRY).httpRequestBuilder().build(),new VcloudHttpResponsePrimer().xmlFilePayload("/vapptemplate/metadataValue.xml",METADATA_ENTRY).httpResponseBuilder().build(),new VcloudHttpRequestPrimer().apiCommand("PUT",templateId + "/metadata/12345").xmlFilePayload("/vapptemplate/metadataValue.xml",METADATA_ENTRY).acceptMedia(TASK).httpRequestBuilder().build(),new VcloudHttpResponsePrimer().xmlFilePayload("/task/task.xml",TASK).httpResponseBuilder().build(),new VcloudHttpRequestPrimer().apiCommand("DELETE",templateId + "/metadata/12345").acceptMedia(TASK).httpRequestBuilder().build(),new VcloudHttpResponsePrimer().xmlFilePayload("/task/task.xml",TASK).httpResponseBuilder().build()).getVAppTemplateApi();
  assertNotNull(api);
  MetadataValue metadata=api.getMetadataApi().getMetadataValue(uri,"12345");
  assertEquals(metadata,exampleMetadataValue());
  Task task=api.getMetadataApi().setMetadata(uri,"12345",exampleMetadataValue());
  assertNotNull(task);
  task=api.getMetadataApi().deleteMetadataEntry(uri,"12345");
  assertNotNull(task);
}
