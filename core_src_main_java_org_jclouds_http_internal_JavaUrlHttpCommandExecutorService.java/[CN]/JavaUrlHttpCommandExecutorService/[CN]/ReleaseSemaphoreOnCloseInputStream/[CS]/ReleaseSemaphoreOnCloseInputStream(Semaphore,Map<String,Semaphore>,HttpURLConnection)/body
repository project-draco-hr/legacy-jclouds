{
  super(aquireAndGetStream(globalMaxConnections,connectionLimiterMap,connection,new Supplier<InputStream>(){
    public InputStream get(){
      try {
        return connection.getInputStream() != null ? connection.getInputStream() : checkNotNull(connection.getErrorStream(),"input and error streams");
      }
 catch (      IOException e) {
        return checkNotNull(connection.getErrorStream(),"error streams");
      }
    }
  }
));
  this.globalMaxConnections=globalMaxConnections;
  this.connectionLimiterMap=connectionLimiterMap;
  this.host=connection.getURL().getHost();
}
