{
  Method method=NetworkAsyncClient.class.getMethod("getNetwork",URI.class);
  HttpRequest request=factory(LocationAsyncClient.class).createRequest(method,new URI("/1"));
  assertResponseParserClassEquals(method,request,ParseXMLWithJAXB.class);
  Function<HttpResponse,NetworkReference> parser=(Function<HttpResponse,NetworkReference>)RestAnnotationProcessor.createResponseParser(parserFactory,injector,method,request);
  InputStream is=getClass().getResourceAsStream("/network.xml");
  NetworkReference network=parser.apply(new HttpResponse(200,"ok",newInputStreamPayload(is)));
  assertNotNull(network.getAddress());
  assertNotNull(network.getNetworkType());
  assertNotNull(network.getBroadcastAddress());
  assertNotNull(network.getGatewayAddress());
  assertRnatAddress(network.getRnatAddress());
  for (  IpAddress address : network.getIpAddresses().getIpAddresses()) {
    assertIpAddress(address);
  }
}
