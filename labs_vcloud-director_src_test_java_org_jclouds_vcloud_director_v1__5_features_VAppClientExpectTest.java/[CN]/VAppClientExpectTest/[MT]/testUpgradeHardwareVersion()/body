{
  VCloudDirectorUserClient client=requestsSendResponses(loginRequest,sessionResponse,new VcloudHttpRequestPrimer().apiCommand("POST",vAppId + "/action/upgradeHardwareVersion").acceptAnyMedia().httpRequestBuilder().build(),new VcloudHttpResponsePrimer().xmlFilePayload("/vApp/upgradeHardwareVersionTask.xml",VCloudDirectorMediaType.TASK).httpResponseBuilder().build());
  Task expected=upgradeHardwareVersionTask();
  assertEquals(client.getVAppClient().upgradeHardwareVersion(vAppURI),expected);
}
