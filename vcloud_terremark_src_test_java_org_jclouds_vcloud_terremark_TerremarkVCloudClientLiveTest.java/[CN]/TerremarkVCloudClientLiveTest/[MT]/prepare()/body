{
  TerremarkVCloudExpressClient vCloudExpressClient=TerremarkVCloudExpressClient.class.cast(tmClient);
  TerremarkOrganization org=vCloudExpressClient.findOrganizationNamed(null);
  try {
    key=vCloudExpressClient.generateKeyPairInOrg(org.getId(),"livetest",false);
  }
 catch (  IllegalStateException e) {
    key=vCloudExpressClient.findKeyPairInOrg(org.getId(),"livetest");
    vCloudExpressClient.deleteKeyPair(key.getId());
    key=vCloudExpressClient.generateKeyPairInOrg(org.getId(),"livetest",false);
  }
  assertNotNull(key);
  System.err.println(key);
  assertEquals(key.getName(),"livetest");
  assertNotNull(key.getPrivateKey());
  assertNotNull(key.getFingerPrint());
  assertEquals(key.isDefault(),false);
  assertEquals(key.getFingerPrint(),vCloudExpressClient.findKeyPairInOrg(org.getId(),key.getName()).getFingerPrint());
}
