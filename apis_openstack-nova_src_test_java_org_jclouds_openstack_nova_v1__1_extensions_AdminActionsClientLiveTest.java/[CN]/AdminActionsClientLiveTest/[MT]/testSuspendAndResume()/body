{
  if (clientOption.isPresent()) {
    AdminActionsClient client=clientOption.get();
    try {
      client.resumeServer(testServerId);
      fail("Resumed an active server!");
    }
 catch (    HttpResponseException e) {
    }
    assertTrue(client.suspendServer(testServerId));
    blockUntilServerInState(testServerId,serverClient,Server.Status.SUSPENDED);
    try {
      client.suspendServer(testServerId);
      fail("Suspended an already suspended server!");
    }
 catch (    HttpResponseException e) {
    }
    assertTrue(client.resumeServer(testServerId));
    blockUntilServerInState(testServerId,serverClient,Server.Status.ACTIVE);
    try {
      client.resumeServer(testServerId);
      fail("Resumed an already resumed server!");
    }
 catch (    HttpResponseException e) {
    }
  }
}
