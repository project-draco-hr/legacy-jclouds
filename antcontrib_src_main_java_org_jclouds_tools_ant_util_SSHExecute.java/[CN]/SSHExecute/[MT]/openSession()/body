{
  JSch jsch=new JSch();
  if (null != userInfo.getKeyfile()) {
    jsch.addIdentity(userInfo.getKeyfile());
  }
  if (!userInfo.getTrust() && knownHosts != null) {
    project.log("Using known hosts: " + knownHosts,Project.MSG_DEBUG);
    jsch.setKnownHosts(knownHosts);
  }
  Session session=jsch.getSession(userInfo.getName(),host,port);
  session.setUserInfo(userInfo);
  project.log("Connecting to " + host + ":"+ port,Project.MSG_VERBOSE);
  session.connect();
  return session;
}
