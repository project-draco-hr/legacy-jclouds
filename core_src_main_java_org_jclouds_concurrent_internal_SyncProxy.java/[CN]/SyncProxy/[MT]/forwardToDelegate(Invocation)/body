{
  Class<?> returnType=Optionals2.unwrapIfOptional(invocation.getInvokable().getReturnType());
  Class<?> asyncClass=sync2Async.get(returnType);
  checkState(asyncClass != null,"please configure corresponding async class for %s in your RestClientModule",returnType);
  ForwardInvocationToInterface cma=ForwardInvocationToInterface.create(invocation,asyncClass);
  Object result=createClientForCaller.apply(cma);
  if (Optionals2.isReturnTypeOptional(invocation.getInvokable())) {
    result=optionalConverter.apply(InvocationSuccess.create(invocation,result));
  }
  return Result.success(result);
}
