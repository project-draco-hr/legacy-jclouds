{
  if (resource == null)   return false;
  logger.trace("%s: looking for resource state %s: currently: %s",resource.getId(),intended,resource.getStatus());
  if (invalids.contains(resource.getStatus()))   throw new IllegalStateException("resource " + resource.getId() + " in location "+ resource.getLocation()+ " is in invalid status "+ resource.getStatus());
  return resource.getStatus() == intended;
}
