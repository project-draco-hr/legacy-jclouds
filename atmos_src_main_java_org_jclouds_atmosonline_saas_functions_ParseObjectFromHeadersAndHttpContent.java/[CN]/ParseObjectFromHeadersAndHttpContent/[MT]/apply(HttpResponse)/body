{
  AtmosObject object=objectProvider.create(systemMetadataParser.apply(from),userMetadataParser.apply(from));
  addAllHeadersTo(from,object);
  object.setPayload(from.getContent());
  String contentLength=from.getFirstHeaderOrNull(HttpHeaders.CONTENT_LENGTH);
  if (contentLength != null) {
    object.getContentMetadata().setContentLength(Long.parseLong(contentLength));
  }
  String contentType=from.getFirstHeaderOrNull(HttpHeaders.CONTENT_TYPE);
  if (contentType != null) {
    object.getContentMetadata().setContentType(contentType);
  }
  return object;
}
