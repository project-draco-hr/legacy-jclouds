{
  Iterable<Module> defaultModules=Iterables.transform(apiMetadata.getDefaultModules(),new Function<Class<? extends Module>,Module>(){
    @Override public Module apply(    Class<? extends Module> arg0){
      try {
        return arg0.newInstance();
      }
 catch (      InstantiationException e) {
        throw Throwables.propagate(e);
      }
catch (      IllegalAccessException e) {
        throw Throwables.propagate(e);
      }
    }
  }
);
  if (restModuleSpecifiedByUser)   defaultModules=Iterables.filter(defaultModules,Predicates.not(configuresRest));
  return defaultModules;
}
