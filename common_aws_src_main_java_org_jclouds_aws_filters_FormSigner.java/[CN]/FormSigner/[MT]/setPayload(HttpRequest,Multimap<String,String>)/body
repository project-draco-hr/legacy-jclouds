{
  request.setPayload(ModifyRequest.makeQueryLine(decodedParams,new Comparator<Map.Entry<String,String>>(){
    public int compare(    Entry<String,String> o1,    Entry<String,String> o2){
      if (o1.getKey().startsWith("Action") || o2.getKey().startsWith("AWSAccessKeyId"))       return -1;
      if (o1.getKey().startsWith("AWSAccessKeyId") || o2.getKey().startsWith("Action"))       return 1;
      return o1.getKey().compareTo(o2.getKey());
    }
  }
));
  request.getPayload().getContentMetadata().setContentType("application/x-www-form-urlencoded");
  return request;
}
