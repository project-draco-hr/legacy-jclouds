{
  checkState(!written || !isRepeatable,"InputStreams can only be writted to an outputstream once");
  written=true;
  InputStream in=getInput();
  try {
    ByteStreams.copy(getInput(),outstream);
  }
  finally {
    Closeables.closeQuietly(in);
  }
}
