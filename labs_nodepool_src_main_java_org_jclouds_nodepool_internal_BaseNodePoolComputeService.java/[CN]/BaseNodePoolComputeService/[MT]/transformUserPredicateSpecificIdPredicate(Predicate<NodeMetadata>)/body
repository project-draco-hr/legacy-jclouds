{
  Iterable<Map.Entry<String,NodeMetadata>> relevantAssginemnts=filterAssignmentsBasedOnUserPredicate(filter);
  final Set<String> ids=Sets.newHashSet();
  for (  Map.Entry<String,NodeMetadata> assignment : relevantAssginemnts) {
    ids.add(assignment.getValue().getId());
  }
  return new Predicate<NodeMetadata>(){
    @Override public boolean apply(    NodeMetadata input){
      return ids.contains(input.getId());
    }
  }
;
}
