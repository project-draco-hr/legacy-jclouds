{
  return FluentIterable.from(filterAssignmentsBasedOnUserPredicate(filter)).transform(new Function<Map.Entry<String,NodeMetadata>,NodeMetadata>(){
    @Override public NodeMetadata apply(    Entry<String,NodeMetadata> input){
      return toFrontendNodemetadata(input.getValue(),input.getKey());
    }
  }
).toImmutableSet();
}
