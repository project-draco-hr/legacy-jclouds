{
  RunningInstance instance=instanceApi.getInstanceByIdAndRegion(instanceId,region);
  instanceApi.stopInstance(instance);
  Volume volume=ebsApi.getRootVolumeForInstance(instance);
  ebsApi.detachVolumeFromStoppedInstance(volume,instance);
  Volume newVolume=ebsApi.cloneVolumeWithNewSize(volume,newSize);
  ebsApi.attachVolumeToStoppedInstance(newVolume,instance);
  instanceApi.startInstance(instance);
  api.getElasticBlockStoreServices().deleteVolumeInRegion(instance.getRegion(),volume.getId());
  runRemoteResizeCommands(instance,instanceCredentials,pathToKeyPair);
}
