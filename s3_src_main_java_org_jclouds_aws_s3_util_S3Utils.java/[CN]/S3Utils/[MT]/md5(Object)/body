{
  checkNotNull(data,"data must be set before calling generateMd5()");
  byte[] md5=null;
  if (data == null || data instanceof byte[]) {
    md5=S3Utils.md5((byte[])data);
  }
 else   if (data instanceof String) {
    md5=S3Utils.md5(((String)data).getBytes());
  }
 else   if (data instanceof File) {
    md5=S3Utils.md5(((File)data));
  }
 else {
    throw new UnsupportedOperationException("Content not supported " + data.getClass());
  }
  return md5;
}
