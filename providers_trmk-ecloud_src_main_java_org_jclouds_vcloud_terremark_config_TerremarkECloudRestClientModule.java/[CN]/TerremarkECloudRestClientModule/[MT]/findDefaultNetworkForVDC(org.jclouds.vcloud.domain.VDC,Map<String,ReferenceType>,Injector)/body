{
  logger.warn("default network for vdc %s not set",vDC.getName());
  try {
    return Iterables.find(networks.values(),new Predicate<ReferenceType>(){
      @Override public boolean apply(      ReferenceType input){
        TerremarkOrgNetwork network=injector.getInstance(TerremarkECloudClient.class).getNetwork(input.getHref());
        TerremarkNetwork terremarkNetwork=injector.getInstance(TerremarkECloudClient.class).getTerremarkNetwork(checkNotNull(checkNotNull(network,"network at: " + input).getNetworkExtension(),"network extension for: " + input).getHref());
        return checkNotNull(terremarkNetwork,"terremark network extension at: " + network.getNetworkExtension()).getNetworkType() == TerremarkNetwork.Type.DMZ;
      }
    }
).getHref();
  }
 catch (  NoSuchElementException e) {
    throw new ResourceNotFoundException("no dmz networks in vdc " + vDC.getName() + ": "+ networks);
  }
}
