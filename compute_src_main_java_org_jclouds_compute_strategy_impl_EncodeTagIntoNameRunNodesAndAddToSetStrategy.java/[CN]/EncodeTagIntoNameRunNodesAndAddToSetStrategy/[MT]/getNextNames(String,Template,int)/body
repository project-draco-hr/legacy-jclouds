{
  Set<String> names=Sets.newHashSet();
  Iterable<? extends ComputeMetadata> currentNodes=listNodesStrategy.listNodes();
  int maxTries=100;
  int currentTries=0;
  while (names.size() < count && currentTries++ < maxTries) {
    final String name=getNextName(tag,template);
    if (!Iterables.any(currentNodes,new Predicate<ComputeMetadata>(){
      @Override public boolean apply(      ComputeMetadata input){
        return name.equals(input.getName());
      }
    }
)) {
      names.add(name);
    }
  }
  return names;
}
