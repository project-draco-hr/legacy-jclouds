{
  InputStream is=getClass().getResourceAsStream("/test_list_container.json");
  Set<ObjectInfo> expects=ImmutableSet.<ObjectInfo>of(ObjectInfoImpl.builder().container("container").name("test_obj_1").uri(URI.create("http://localhost/foo/test_obj_1")).hash(CryptoStreams.hex("4281c348eaf83e70ddce0e07221c3d28")).bytes(14l).contentType("application/octet-stream").lastModified(new SimpleDateFormatDateService().iso8601DateParse("2009-02-03T05:26:32.612Z")).build(),ObjectInfoImpl.builder().container("container").name("test_obj_2").uri(URI.create("http://localhost/foo/test_obj_2")).hash(CryptoStreams.hex("b039efe731ad111bc1b0ef221c3849d0")).bytes(64l).contentType("application/octet-stream").lastModified(new SimpleDateFormatDateService().iso8601DateParse("2009-02-03T05:26:32.612Z")).build());
  GeneratedHttpRequest<?> request=createMock(GeneratedHttpRequest.class);
  ListContainerOptions options=new ListContainerOptions();
  expect(request.getEndpoint()).andReturn(URI.create("http://localhost/foo")).atLeastOnce();
  expect(request.getArgs()).andReturn(ImmutableList.<Object>of("container",new ListContainerOptions[]{options})).atLeastOnce();
  replay(request);
  ParseObjectInfoListFromJsonResponse parser=i.getInstance(ParseObjectInfoListFromJsonResponse.class);
  parser.setContext(request);
  assertEquals(parser.apply(is).toString(),expects.toString());
}
