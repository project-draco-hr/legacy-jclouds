{
  logger.debug(">> listing servers");
  Set<ComputeMetadata> servers=Sets.newHashSet();
  for (  Region region : ImmutableSet.of(Region.US_EAST_1,Region.US_WEST_1,Region.EU_WEST_1)) {
    Iterables.addAll(servers,Iterables.transform(Iterables.concat(ec2Client.getInstanceServices().describeInstancesInRegion(region)),new Function<RunningInstance,ComputeMetadata>(){
      @Override public ComputeMetadata apply(      RunningInstance from){
        return new ComputeMetadataImpl(ComputeType.NODE,from.getId(),from.getKeyName(),from.getRegion().toString(),null,ImmutableMap.<String,String>of());
      }
    }
));
  }
  logger.debug("<< list(%d)",servers.size());
  return servers;
}
