{
  Map<Slice.Status,NodeState> sliceStateToNodeState=SlicehostComputeServiceDependenciesModule.sliceStatusToNodeState;
  Set<org.jclouds.compute.domain.Image> images=ImmutableSet.of(SlicehostImageToImageTest.convertImage());
  Set<org.jclouds.compute.domain.Hardware> hardwares=ImmutableSet.of(FlavorToHardwareTest.convertFlavor());
  Slice slice=SliceHandlerTest.parseSlice();
  SliceToNodeMetadata parser=new SliceToNodeMetadata(sliceStateToNodeState,ImmutableMap.<String,Credentials>of(),Suppliers.<Set<? extends Image>>ofInstance(images),Suppliers.ofInstance(provider),Suppliers.<Set<? extends Hardware>>ofInstance(hardwares));
  NodeMetadata metadata=parser.apply(slice);
  assertEquals(metadata,new NodeMetadataBuilder().state(NodeState.PENDING).publicAddresses(ImmutableSet.of("174.143.212.229")).privateAddresses(ImmutableSet.of("10.176.164.199")).tag("jclouds").imageId("2").hardware(new HardwareBuilder().ids("1").name("256 slice").processors(ImmutableList.of(new Processor(0.25,1.0))).ram(256).volumes(ImmutableList.of(new VolumeBuilder().type(Volume.Type.LOCAL).size(1.0f).durable(true).bootDevice(true).build())).build()).operatingSystem(new OperatingSystemBuilder().family(OsFamily.CENTOS).description("CentOS 5.2").is64Bit(true).build()).id("1").providerId("1").name("jclouds-foo").location(provider).userMetadata(ImmutableMap.of("Server Label","Web Head 1","Image Version","2.1")).build());
}
