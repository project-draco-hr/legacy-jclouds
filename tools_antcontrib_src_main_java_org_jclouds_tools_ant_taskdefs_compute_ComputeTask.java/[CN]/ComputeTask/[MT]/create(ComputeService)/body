{
  log(String.format("create name: %s, profile: %s, image: %s",nodeElement.getName(),nodeElement.getProfile(),nodeElement.getImage()));
  CreateNodeResponse createdNode=computeService.startNodeInLocation(nodeElement.getLocation(),nodeElement.getName(),Profile.valueOf(nodeElement.getProfile().toUpperCase()),Image.valueOf(nodeElement.getImage().toUpperCase()));
  log(String.format("   id=%s, name=%s, connection=%s://%s:%s@%s:%d",createdNode.getId(),createdNode.getName(),createdNode.getLoginType().toString().toLowerCase(),createdNode.getCredentials().account,createdNode.getCredentials().key,createdNode.getPublicAddresses().first().getHostAddress(),createdNode.getLoginPort()));
  if (nodeElement.getIdproperty() != null)   getProject().setProperty(nodeElement.getIdproperty(),createdNode.getId());
  if (nodeElement.getHostproperty() != null)   getProject().setProperty(nodeElement.getHostproperty(),createdNode.getPublicAddresses().first().getHostAddress());
  if (nodeElement.getKeyfile() != null && createdNode.getCredentials().key.startsWith("-----BEGIN RSA PRIVATE KEY-----"))   try {
    Files.write(createdNode.getCredentials().key,new File(nodeElement.getKeyfile()),Charset.defaultCharset());
  }
 catch (  IOException e) {
    throw new BuildException(e);
  }
  if (nodeElement.getPasswordproperty() != null && !createdNode.getCredentials().key.startsWith("-----BEGIN RSA PRIVATE KEY-----"))   getProject().setProperty(nodeElement.getPasswordproperty(),createdNode.getCredentials().key);
  if (nodeElement.getUsernameproperty() != null)   getProject().setProperty(nodeElement.getUsernameproperty(),createdNode.getCredentials().account);
}
