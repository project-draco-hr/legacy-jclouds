{
  long nicSlot=0;
  int count=0;
  String ipAddress="";
  while (nicSlot < 4 && ipAddress.isEmpty()) {
    MachineNameOrIdAndNicSlot machineNameOrIdAndNicSlot=MachineNameOrIdAndNicSlot.fromParts(machineNameOrId,nicSlot);
    while (count < 10 && ipAddress.isEmpty()) {
      Uninterruptibles.sleepUninterruptibly(3,TimeUnit.SECONDS);
      ipAddress=getIpAddressFromNicSlot(machineNameOrIdAndNicSlot);
      if (!isValidIpForHostOnly(ipAddress)) {
        ipAddressesLoadingCache.invalidate(machineNameOrIdAndNicSlot);
        ipAddress="";
      }
      count++;
    }
    nicSlot++;
  }
  return checkNotNull(Strings.emptyToNull(ipAddress),String.format("Cannot find a valid IP address for the %s's HostOnly NIC",machineNameOrId));
}
