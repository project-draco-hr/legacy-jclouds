{
  for (  String regionId : quantumContext.getApi().getConfiguredRegions()) {
    NetworkApi netApi=quantumContext.getApi().getNetworkApiForRegion(regionId);
    Set<? extends Reference> nets=netApi.listReferences();
    for (    Reference net : nets) {
      PortApi portApi=quantumContext.getApi().getPortApiForRegionAndNetwork(regionId,net.getId());
      Set<? extends Reference> portRefs=portApi.listReferences();
      Set<? extends Port> ports=portApi.list();
      assertEquals(portRefs.size(),ports.size());
      for (      Port port : ports) {
        assertTrue(portRefs.contains(Reference.builder().id(port.getId()).build()));
      }
    }
  }
}
