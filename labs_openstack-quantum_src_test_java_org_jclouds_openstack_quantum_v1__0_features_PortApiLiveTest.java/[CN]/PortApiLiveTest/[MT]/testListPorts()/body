{
  for (  String zoneId : quantumContext.getApi().getConfiguredZones()) {
    NetworkApi netApi=quantumContext.getApi().getNetworkApiForZone(zoneId);
    Set<? extends Reference> nets=netApi.listReferences().toImmutableSet();
    for (    Reference net : nets) {
      PortApi portApi=quantumContext.getApi().getPortApiForZoneAndNetwork(zoneId,net.getId());
      Set<? extends Reference> portRefs=portApi.listReferences().toImmutableSet();
      Set<? extends Port> ports=portApi.list().toImmutableSet();
      assertEquals(portRefs.size(),ports.size());
      for (      Port port : ports) {
        assertTrue(portRefs.contains(Reference.builder().id(port.getId()).build()));
      }
    }
  }
}
