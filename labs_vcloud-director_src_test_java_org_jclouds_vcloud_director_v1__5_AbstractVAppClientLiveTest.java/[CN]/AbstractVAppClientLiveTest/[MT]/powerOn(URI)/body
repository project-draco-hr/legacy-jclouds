{
  VApp testVApp=vAppClient.getVApp(testVAppURI);
  Vm vm=Iterables.getOnlyElement(testVApp.getChildren().getVms());
  Status status=Status.fromValue(vm.getStatus());
  if (status != Status.POWERED_ON) {
    Task powerOn=vAppClient.powerOn(vm.getHref());
    assertTaskSucceedsLong(powerOn);
  }
  assertVAppStatus(testVAppURI,Status.POWERED_ON);
  return testVApp;
}
