{
  BucketLogging bucketLogging=new BucketLogging("mylogs","access_log-",ImmutableSet.<Grant>of(new Grant(new EmailAddressGrantee("adrian@jclouds.org"),Permission.FULL_CONTROL)));
  String expected=Utils.toStringAndClose(getClass().getResourceAsStream("/s3/bucket_logging.xml"));
  HttpRequest request=new HttpRequest("GET",URI.create("http://test"));
  BindBucketLoggingToXmlPayload binder=injector.getInstance(BindBucketLoggingToXmlPayload.class);
  binder.bindToRequest(request,bucketLogging);
  assertEquals(request.getPayload().getContentType(),"text/xml");
  assertEquals(request.getPayload().getRawContent(),expected);
}
