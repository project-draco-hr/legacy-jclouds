{
  Map<String,String> extra=newHashMap();
  try {
    extra.put("memory/mb",find(vm.getVirtualHardwareSection().getResourceAllocations(),resourceType(ResourceType.MEMORY)).getVirtualQuantity() + "");
    extra.put("processor/count",find(vm.getVirtualHardwareSection().getResourceAllocations(),resourceType(ResourceType.PROCESSOR)).getVirtualQuantity() + "");
    for (    ResourceAllocation disk : filter(vm.getVirtualHardwareSection().getResourceAllocations(),resourceType(ResourceType.DISK_DRIVE))) {
      if (disk instanceof VCloudHardDisk) {
        VCloudHardDisk vDisk=VCloudHardDisk.class.cast(disk);
        extra.put(String.format("disk_drive/%s/mb",disk.getAddressOnParent()),vDisk.getCapacity() + "");
      }
 else {
        extra.put(String.format("disk_drive/%s/kb",disk.getAddressOnParent()),disk.getVirtualQuantity() + "");
      }
    }
    for (    ResourceAllocation net : filter(vm.getVirtualHardwareSection().getResourceAllocations(),resourceType(ResourceType.ETHERNET_ADAPTER))) {
      if (net instanceof VCloudNetworkAdapter) {
        VCloudNetworkAdapter vNet=VCloudNetworkAdapter.class.cast(net);
        extra.put(String.format("network/%s/ip",net.getAddressOnParent()),vNet.getIpAddress());
      }
    }
  }
 catch (  Exception e) {
    logger.error(e,"error getting extra data for vm: %s",vm);
  }
  return extra;
}
