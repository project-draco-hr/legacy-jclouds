{
  Org org=connection.findOrgNamed(null);
  try {
    key=connection.generateKeyPairInOrg(org.getHref(),"livetest",false);
  }
 catch (  IllegalStateException e) {
    key=connection.findKeyPairInOrg(org.getHref(),"livetest");
    connection.deleteKeyPair(key.getId());
    key=connection.generateKeyPairInOrg(org.getHref(),"livetest",false);
  }
  assertNotNull(key);
  assertEquals(key.getName(),"livetest");
  assertNotNull(key.getPrivateKey());
  assertNotNull(key.getFingerPrint());
  assertEquals(key.isDefault(),false);
  assertEquals(key.getFingerPrint(),connection.findKeyPairInOrg(org.getHref(),key.getName()).getFingerPrint());
}
