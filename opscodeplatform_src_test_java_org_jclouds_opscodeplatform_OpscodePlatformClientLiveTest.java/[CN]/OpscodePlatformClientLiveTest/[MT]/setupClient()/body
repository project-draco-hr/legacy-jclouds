{
  validator=checkNotNull(System.getProperty("jclouds.test.validator"),"jclouds.test.validator");
  orgname=validator.substring(0,validator.lastIndexOf('-'));
  String validatorKeyFile=System.getProperty("jclouds.test.validator.key");
  if (validatorKeyFile == null || validatorKeyFile.equals(""))   validatorKeyFile=System.getProperty("user.home") + "/.chef/" + orgname+ "-validator.pem";
  user=checkNotNull(System.getProperty("jclouds.test.identity"),"jclouds.test.identity");
  String keyfile=System.getProperty("jclouds.test.credential");
  if (keyfile == null || keyfile.equals(""))   keyfile=System.getProperty("user.home") + "/.chef/" + user+ ".pem";
  validatorKey=Files.toString(new File(validatorKeyFile),Charsets.UTF_8);
  adminKey=Files.toString(new File(keyfile),Charsets.UTF_8);
  validatorConnection=createConnection(validator,validatorKey);
  adminConnection=createConnection(user,adminKey);
  json=Guice.createInjector(new GsonModule(),new ChefParserModule()).getInstance(Json.class);
}
