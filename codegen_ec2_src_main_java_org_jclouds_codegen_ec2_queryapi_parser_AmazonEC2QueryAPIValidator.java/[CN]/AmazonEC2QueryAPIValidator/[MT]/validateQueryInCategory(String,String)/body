{
  Category category=getModel().getCategories().get(categoryName);
  checkState(category != null,String.format("category %1$s not present",categoryName));
  Query query=category.getQueries().get(queryName);
  validateTopLevelType(query);
  checkState(category != null,String.format("query %1$s not present in category %2$s",queryName,categoryName));
  checkState(query.getResponseType().equals(query.getType() + "Response"),String.format("Invalid responseType for %1$s [%2$s] should be %1$sResponse",queryName,query.getResponseType()));
  checkNotNull(query.getDescription(),String.format("%1$s: getDescription()",query.getType()));
  validateTopLevelType(query);
  DataType response=getModel().getDataTypes().get(query.getResponseType());
  checkNotNull(response,String.format("response %1$s not present in domain for %2$s",query.getResponseType(),query.getType()));
  checkState(query.getResponseType().equals(query.getType() + "Response"));
  checkState(response.getType().equals(query.getType() + "Response"));
  validateTopLevelType(response);
  return validateDataType(query);
}
