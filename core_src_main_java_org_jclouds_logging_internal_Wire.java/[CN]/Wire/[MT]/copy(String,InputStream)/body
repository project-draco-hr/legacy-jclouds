{
  try {
    byte[] data=ByteStreams.toByteArray(instream);
    wire(header,new ByteArrayInputStream(data));
    return new ByteArrayInputStream(data);
  }
 catch (  IOException e) {
    throw new RuntimeException("Error tapping line",e);
  }
 finally {
    Closeables.closeQuietly(instream);
  }
}
