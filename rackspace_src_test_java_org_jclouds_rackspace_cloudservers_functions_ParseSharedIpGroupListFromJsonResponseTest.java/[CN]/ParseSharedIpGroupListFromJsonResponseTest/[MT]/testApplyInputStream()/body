{
  InputStream is=getClass().getResourceAsStream("/cloudservers/test_list_sharedipgroups.json");
  List<SharedIpGroup> expects=ImmutableList.of(new SharedIpGroup(1234,"Shared IP Group 1"),new SharedIpGroup(5678,"Shared IP Group 2"));
  UnwrapOnlyJsonValue<List<SharedIpGroup>> parser=i.getInstance(Key.get(new TypeLiteral<UnwrapOnlyJsonValue<List<SharedIpGroup>>>(){
  }
));
  List<SharedIpGroup> response=parser.apply(new HttpResponse(200,"ok",Payloads.newInputStreamPayload(is)));
  assertEquals(response,expects);
}
