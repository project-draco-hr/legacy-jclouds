{
  InputStream is=getClass().getResourceAsStream("/ec2/describe_instances.xml");
  SortedSet<Reservation> contents=Sets.newTreeSet();
  contents.add(new Reservation(ImmutableSortedSet.of("default"),ImmutableSortedSet.of(new RunningInstance("23","ec2-72-44-33-4.compute-1.amazonaws.com","ami-6ea54007","i-28a64341",InstanceState.RUNNING,InstanceType.M1_LARGE,(InetAddress)null,"aki-ba3adfd3","example-key-name",dateService.iso8601DateParse("2007-08-07T11:54:42.000Z"),false,"us-east-1b",null,"10-251-50-132.ec2.internal",null,ImmutableSet.of("774F4FF8"),"ari-badbad00",null,null,null),new RunningInstance("23","ec2-72-44-33-6.compute-1.amazonaws.com","ami-6ea54007","i-28a64435",InstanceState.RUNNING,InstanceType.M1_LARGE,(InetAddress)null,"aki-ba3adfd3","example-key-name",dateService.iso8601DateParse("2007-08-07T11:54:42.000Z"),false,"us-east-1b",null,"10-251-50-134.ec2.internal",null,ImmutableSet.of("774F4FF8"),"ari-badbad00",null,null,null)),"UYY3TLBUXIEON5NQVUUX6OMPWBZIQNFM",null,"r-44a5402d"));
  SortedSet<Reservation> result=factory.create(injector.getInstance(DescribeInstancesResponseHandler.class)).parse(is);
  assertEquals(result,contents);
}
