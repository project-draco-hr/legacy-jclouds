{
  String provider=injector.getInstance(Key.get(String.class,Provider.class));
  if ("ec2".equals(provider) || "ec2".equals(provider))   return template.osFamily(AMZN_LINUX).os64Bit(true);
 else   if ("nova".equals(provider))   return super.provideTemplate(injector,template);
 else   return template.osFamily(CENTOS);
}
