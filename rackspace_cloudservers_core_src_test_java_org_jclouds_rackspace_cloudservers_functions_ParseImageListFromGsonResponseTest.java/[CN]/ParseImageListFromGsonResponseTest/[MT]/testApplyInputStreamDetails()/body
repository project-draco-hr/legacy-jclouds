{
  InputStream is=getClass().getResourceAsStream("/test_list_images_detail.json");
  ParseImageListFromGsonResponse parser=new ParseImageListFromGsonResponse(i.getInstance(Gson.class));
  List<Image> response=parser.apply(is);
  assertEquals(response.get(0).getId(),2);
  assertEquals(response.get(0).getName(),"CentOS 5.2");
  assertEquals(null,response.get(0).getCreated());
  assertEquals(response.get(0).getProgress(),null);
  assertEquals(response.get(0).getServerId(),null);
  assertEquals(response.get(0).getStatus(),ImageStatus.ACTIVE);
  assertEquals(response.get(0).getUpdated(),dateService.iso8601DateParse("2010-10-10T12:00:00Z"));
  assertEquals(response.get(1).getId(),743);
  assertEquals(response.get(1).getName(),"My Server Backup");
  assertEquals(response.get(1).getCreated(),dateService.iso8601DateParse("2010-08-10T12:00:00Z"));
  assertEquals(response.get(1).getProgress(),new Integer(80));
  assertEquals(response.get(1).getServerId(),new Integer(12));
  assertEquals(response.get(1).getStatus(),ImageStatus.SAVING);
  assertEquals(response.get(1).getUpdated(),dateService.iso8601DateParse("2010-10-10T12:00:00Z"));
}
