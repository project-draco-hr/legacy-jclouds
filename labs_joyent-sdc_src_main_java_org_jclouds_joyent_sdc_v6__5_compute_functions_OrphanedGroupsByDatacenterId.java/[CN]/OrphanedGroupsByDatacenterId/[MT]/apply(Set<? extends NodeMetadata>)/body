{
  Iterable<? extends NodeMetadata> nodesWithGroup=filter(deadNodes,NodePredicates.hasGroup());
  Set<DatacenterAndName> datacenterAndGroupNames=ImmutableSet.copyOf(filter(transform(nodesWithGroup,new Function<NodeMetadata,DatacenterAndName>(){
    @Override public DatacenterAndName apply(    NodeMetadata input){
      String datacenterId=input.getLocation().getId();
      return DatacenterAndName.fromDatacenterAndName(datacenterId,input.getGroup());
    }
  }
),allNodesInGroupTerminated));
  Multimap<String,String> datacenterToDatacenterAndGroupNames=Multimaps.transformValues(Multimaps.index(datacenterAndGroupNames,DatacenterAndName.DATACENTER_FUNCTION),DatacenterAndName.NAME_FUNCTION);
  return datacenterToDatacenterAndGroupNames;
}
