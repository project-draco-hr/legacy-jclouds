{
  File file=new File(srcFile);
  String filePath=("".equals(path) ? file.getName() : path + "/" + file.getName());
  if (file.isDirectory()) {
    for (    String fileName : file.list()) {
      addToZip(filePath,srcFile + "/" + fileName,zipOut);
    }
  }
 else {
    zipOut.putNextEntry(new ZipEntry(filePath));
    FileInputStream in=new FileInputStream(srcFile);
    try {
      byte[] buffer=new byte[DEFAULT_BUFFER_SIZE];
      int len;
      while ((len=in.read(buffer)) != -1) {
        zipOut.write(buffer,0,len);
      }
    }
  finally {
      in.close();
    }
  }
}
