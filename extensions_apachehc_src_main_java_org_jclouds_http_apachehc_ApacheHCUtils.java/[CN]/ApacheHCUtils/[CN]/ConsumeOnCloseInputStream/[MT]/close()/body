{
  try {
    if (!closed) {
      int result=0;
      while (result != -1) {
        result=read();
      }
    }
  }
 catch (  IOException e) {
    logger.warn(e,"error reading stream");
  }
 finally {
    closed=true;
    super.close();
  }
}
