{
  Set<ListenableFuture<Void>> deletes=Sets.newHashSet();
  for (  ResourceMetadata md : getAllBlobMetadata.execute(containerName,options)) {
    if (md.getType() == ResourceType.BLOB)     deletes.add(connection.removeBlob(containerName,md.getName()));
  }
  for (  ListenableFuture<Void> isdeleted : deletes) {
    try {
      isdeleted.get(requestTimeoutMilliseconds,TimeUnit.MILLISECONDS);
    }
 catch (    Exception e) {
      Throwables.propagateIfPossible(e,BlobRuntimeException.class);
      throw new BlobRuntimeException("Error deleting blob in container: " + containerName,e);
    }
  }
}
