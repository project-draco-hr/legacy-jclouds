{
  return lockSessionOnMachineAndApply(manager,type,machineId,new Function<ISession,T>(){
    @Override public T apply(    ISession arg0){
      return function.apply(arg0.getMachine());
    }
    @Override public String toString(){
      return function.toString();
    }
  }
);
}
