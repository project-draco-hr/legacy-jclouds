{
  if (content instanceof InputStream) {
    InputStream inputStream=(InputStream)content;
    if (length == -1)     throw new IllegalArgumentException("you must specify size when content is an InputStream");
    InputStreamEntity entity=new InputStreamEntity(inputStream,length);
    entity.setContentType(contentType);
    apacheRequest.setEntity(entity);
  }
 else   if (content instanceof String) {
    NStringEntity nStringEntity=null;
    try {
      nStringEntity=new NStringEntity((String)content);
    }
 catch (    UnsupportedEncodingException e) {
      throw new UnsupportedOperationException("Encoding not supported",e);
    }
    nStringEntity.setContentType(contentType);
    apacheRequest.setEntity(nStringEntity);
  }
 else   if (content instanceof File) {
    apacheRequest.setEntity(new NFileEntity((File)content,contentType,true));
  }
 else   if (content instanceof byte[]) {
    NByteArrayEntity entity=new NByteArrayEntity((byte[])content);
    entity.setContentType(contentType);
    apacheRequest.setEntity(entity);
  }
 else {
    throw new UnsupportedOperationException("Content class not supported: " + content.getClass().getName());
  }
}
