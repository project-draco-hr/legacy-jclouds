{
  poolId=api(zoneName).createPoolForDNameAndType("pool",dname,IPV4);
  getAnonymousLogger().info("created tc pool: " + poolId);
  try {
    api(zoneName).createPoolForDNameAndType("pool",dname,IPV4);
    fail();
  }
 catch (  ResourceAlreadyExistsException e) {
  }
  try {
    api(zoneName).createPoolForDNameAndType("pool1",dname,IPV4);
    fail();
  }
 catch (  ResourceAlreadyExistsException e) {
  }
  Optional<TrafficControllerPool> pool=getPoolByZoneAndId(zoneName,poolId);
  assertTrue(pool.isPresent());
  assertEquals(pool.get().getId(),poolId);
  assertEquals(pool.get().getName(),"pool");
  assertEquals(pool.get().getDName(),dname);
  checkTCPool(pool.get());
}
