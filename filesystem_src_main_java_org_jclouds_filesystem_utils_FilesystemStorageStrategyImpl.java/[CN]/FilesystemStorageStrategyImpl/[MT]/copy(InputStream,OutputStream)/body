{
  byte[] buffer=new byte[COPY_BUFFER_SIZE];
  long count=0;
  while (true) {
    int read=input.read(buffer);
    if (read < 0) {
      break;
    }
    count+=read;
    output.write(buffer,0,read);
  }
  output.flush();
  return count;
}
