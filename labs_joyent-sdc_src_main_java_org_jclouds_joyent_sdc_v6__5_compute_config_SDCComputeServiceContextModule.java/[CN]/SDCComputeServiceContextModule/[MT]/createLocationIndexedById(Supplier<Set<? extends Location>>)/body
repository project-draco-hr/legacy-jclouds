{
  return Suppliers2.compose(new Function<Set<? extends Location>,Map<String,Location>>(){
    @Override public Map<String,Location> apply(    Set<? extends Location> arg0){
      return Maps.uniqueIndex(Iterables2.concreteCopy(arg0),new Function<Location,String>(){
        @Override public String apply(        Location arg0){
          return arg0.getId();
        }
      }
);
    }
  }
,locations);
}
