{
  method=util.getDelegateOrNull(method);
  logger.trace("Converting %s.%s",declaring.getSimpleName(),method.getName());
  Function<Exception,?> exceptionParser=util.createExceptionParserOrThrowResourceNotFoundOn404IfNoAnnotation(method);
  if (exceptionParser instanceof InvocationContext) {
    ((InvocationContext)exceptionParser).setContext(null);
  }
  GeneratedHttpRequest<T> request;
  try {
    request=util.createRequest(method,args);
    if (exceptionParser instanceof InvocationContext) {
      ((InvocationContext)exceptionParser).setContext(request);
    }
  }
 catch (  RuntimeException e) {
    if (exceptionParser != null) {
      try {
        return Futures.immediateFuture(exceptionParser.apply(e));
      }
 catch (      Exception ex) {
        return Futures.immediateFailedFuture(ex);
      }
    }
    return Futures.immediateFailedFuture(e);
  }
  logger.trace("Converted %s.%s to %s",declaring.getSimpleName(),method.getName(),request.getRequestLine());
  Function<HttpResponse,?> transformer=util.createResponseParser(method,request);
  logger.trace("Response from %s.%s is parsed by %s",declaring.getSimpleName(),method.getName(),transformer.getClass().getSimpleName());
  logger.debug("Invoking %s.%s",declaring.getSimpleName(),method.getName());
  ListenableFuture<?> result=commandFactory.create(request,transformer).execute();
  if (exceptionParser != null) {
    logger.trace("Exceptions from %s.%s are parsed by %s",declaring.getSimpleName(),method.getName(),exceptionParser.getClass().getSimpleName());
    result=new FutureExceptionParser(result,exceptionParser);
  }
  return result;
}
