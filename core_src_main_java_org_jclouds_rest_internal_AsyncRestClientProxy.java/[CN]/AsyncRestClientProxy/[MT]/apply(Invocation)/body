{
  if (invocation.getInvokable().isAnnotationPresent(Provides.class)) {
    return Result.success(lookupValueFromGuice(invocation.getInvokable()));
  }
 else   if (invocation.getInvokable().isAnnotationPresent(Delegate.class)) {
    return Result.success(propagateContextToDelegate(invocation));
  }
 else   if (isAsyncOrDelegate(invocation)) {
    return Result.success(createListenableFutureForHttpRequestMappedToMethodAndArgs(invocation));
  }
 else {
    return Result.fail(new IllegalStateException(String.format("Method is not annotated as either http or provider invoked: %s",invocation.getInvokable())));
  }
}
