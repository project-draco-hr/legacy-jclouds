{
  InputStream is=getClass().getResourceAsStream("/ec2/availabilityZones.xml");
  Set<AvailabilityZoneInfo> expected=ImmutableSet.<AvailabilityZoneInfo>of(new AvailabilityZoneInfo(AvailabilityZone.US_EAST_1A,"available",Region.US_EAST_1,ImmutableSet.<String>of()),new AvailabilityZoneInfo(AvailabilityZone.US_EAST_1B,"available",Region.US_EAST_1,ImmutableSet.<String>of()),new AvailabilityZoneInfo(AvailabilityZone.US_EAST_1C,"available",Region.US_EAST_1,ImmutableSet.<String>of("our service is awesome")),new AvailabilityZoneInfo(AvailabilityZone.US_EAST_1D,"downlikeaclown",Region.US_EAST_1,ImmutableSet.<String>of()));
  Set<AvailabilityZoneInfo> result=factory.create(injector.getInstance(DescribeAvailabilityZonesResponseHandler.class)).parse(is);
  assertEquals(result,expected);
}
