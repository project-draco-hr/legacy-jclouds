{
  URI uri=HttpUtils.createUri(filename);
  filename=uri.toASCIIString();
  Credentials creds=Credentials.parse(uri);
  StringBuffer name=new StringBuffer();
  Authority auth=extractToPath(filename,name);
  UriParser.canonicalizePath(name,0,name.length(),this);
  UriParser.fixSeparators(name);
  String container=UriParser.extractFirstElement(name);
  if (container == null || container.length() == 0) {
    throw new FileSystemException("vfs.provider.blobstore/missing-container-name.error",filename);
  }
  FileType fileType=UriParser.normalisePath(name);
  String path=name.toString();
  return new BlobStoreFileName(auth.hostName,creds.account,creds.key,path,fileType,container);
}
