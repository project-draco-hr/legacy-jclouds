{
  Invokable<?,?> method=Invokable.from(TestTransformers.class.getMethod("put",Payload.class));
  Payload payload=newStringPayload("whoops");
  payload.getContentMetadata().setContentEncoding("gzip");
  HttpRequest request=factory(TestQuery.class).createRequest(method,ImmutableList.<Object>of(payload));
  assertRequestLineEquals(request,"PUT http://localhost:9999?x-ms-version=2009-07-17 HTTP/1.1");
  assertNonPayloadHeadersEqual(request,"");
  assertPayloadEquals(request,"whoops","application/unknown",null,"gzip",null,false);
}
