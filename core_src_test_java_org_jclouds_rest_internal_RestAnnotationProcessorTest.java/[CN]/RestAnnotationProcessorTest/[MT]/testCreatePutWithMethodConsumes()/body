{
  Method method=TestPut.class.getMethod("putWithMethodBinderConsumes",String.class);
  HttpRequest request=factory(TestPut.class).createRequest(method,"data");
  assertRequestLineEquals(request,"PUT http://localhost:9999/data HTTP/1.1");
  assertNonPayloadHeadersEqual(request,"Accept: application/json\n");
  assertPayloadEquals(request,"{\"fooble\":\"data\"}","application/json",false);
  assertResponseParserClassEquals(method,request,ParseJson.class);
  Function<HttpResponse,View> parser=(Function<HttpResponse,View>)RestAnnotationProcessor.createResponseParser(parserFactory,injector,method,request);
  assertEquals(parser.apply(new HttpResponse(200,"ok",newStringPayload("{ foo:\"bar\"}"))).foo,"bar");
}
