{
  Method method=TestPayloadParamVarargs.class.getMethod("varargsWithReq",String.class,Array.newInstance(HttpRequestOptions.class,0).getClass());
  HttpRequest request=factory(TestPayloadParamVarargs.class).createRequest(method,"required param",new Object[]{new TestHttpRequestOptions().payload("fooya"),new TestHttpRequestOptions().headerParams(ImmutableMultimap.of("X-header-1","fooya")),new TestHttpRequestOptions().queryParams(ImmutableMultimap.of("key","value"))});
  assertRequestLineEquals(request,"POST http://localhost:9999?key=value HTTP/1.1");
  assertNonPayloadHeadersEqual(request,"X-header-1: fooya\n");
  assertPayloadEquals(request,"fooya","application/unknown",false);
}
