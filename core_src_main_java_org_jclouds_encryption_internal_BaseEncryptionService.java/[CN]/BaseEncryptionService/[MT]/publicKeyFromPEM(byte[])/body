{
  PEMReader reader;
  try {
    reader=new PEMReader(pem);
    byte[] bytes=reader.getDerBytes();
    KeySpec keySpec;
    if (PEMReader.PUBLIC_X509_MARKER.equals(reader.getBeginMarker())) {
      keySpec=new X509EncodedKeySpec(bytes);
    }
 else {
      throw new IOException("Invalid PEM file: Unknown marker for public key " + reader.getBeginMarker());
    }
    return rsaKeyFactory.generatePublic(keySpec);
  }
 catch (  Exception e) {
    Throwables.propagate(e);
    return null;
  }
}
