{
  checkNotNull(data,"data must be set before calling generateETag()");
  byte[] md5=null;
  if (data == null) {
  }
 else   if (data instanceof byte[]) {
    md5=md5((byte[])data);
  }
 else   if (data instanceof String) {
    md5=md5(((String)data).getBytes());
  }
 else   if (data instanceof File) {
    try {
      md5=md5(new FileInputStream((File)data));
    }
 catch (    FileNotFoundException e) {
      Throwables.propagate(e);
    }
  }
 else   if (data instanceof InputStream) {
    md5=md5(((InputStream)data));
  }
 else {
    throw new UnsupportedOperationException("Content not supported " + data.getClass());
  }
  return md5;
}
