{
  NodeMetadataBuilder builder=new NodeMetadataBuilder();
  try {
    builder.id(from.getConfig().getInstanceUuid());
    builder.providerId(from.getConfig().getLocationId() + "");
    builder.name(from.getName());
    builder.location(findLocationForVirtualMachine.apply(from));
    builder.tag(parseTagFromName(from.getName()));
    builder.operatingSystem(new OperatingSystemBuilder().name(from.getConfig().getGuestFullName()).description(from.getConfig().getGuestFullName()).is64Bit(from.getConfig().getGuestId().contains("64")).build());
    builder.hardware(findHardwareForVirtualMachine.apply(from));
    builder.state(domainStateToNodeState.get(from.getRuntime().getPowerState()));
    builder.credentials(credentialStore.get("node#" + from.getName()));
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  return builder.build();
}
