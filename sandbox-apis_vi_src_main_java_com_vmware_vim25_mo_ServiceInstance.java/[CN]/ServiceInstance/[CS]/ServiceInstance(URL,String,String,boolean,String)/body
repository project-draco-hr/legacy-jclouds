{
  if (url == null || username == null) {
    throw new NullPointerException("None of url, username can be null.");
  }
  setMOR(SERVICE_INSTANCE_MOR);
  VimPortType vimService=new VimPortType(url.toString(),ignoreCert);
  vimService.getWsc().setVimNameSpace(namespace);
  serviceContent=vimService.retrieveServiceContent(SERVICE_INSTANCE_MOR);
  vimService.getWsc().setSoapActionOnApiVersion(serviceContent.getAbout().getApiVersion());
  setServerConnection(new ServerConnection(url,vimService,this));
  password=password.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;").replace("\"","&quot;").replace("'","&apos;");
  UserSession userSession=getSessionManager().login(username,password,null);
  getServerConnection().setUserSession(userSession);
}
