{
  NodeMetadataBuilder builder=new NodeMetadataBuilder();
  builder.ids(from.getHref().toASCIIString());
  builder.name(from.getName());
  builder.location(parseLocation(from));
  builder.group(nodeNamingConvention.groupInUniqueNameOrNull(from.getName()));
  builder.imageId(from.getImage().toASCIIString());
  builder.operatingSystem(parseOperatingSystem(from));
  builder.hardware(parseHardware(from));
  builder.state(instanceToNodeState.get(from.getState()));
  builder.publicAddresses(from.getPublicAddresses());
  builder.privateAddresses(from.getPrivateAddresses());
  return builder.build();
}
