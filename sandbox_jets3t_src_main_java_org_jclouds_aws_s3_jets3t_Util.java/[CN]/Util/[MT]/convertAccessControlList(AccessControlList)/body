{
  org.jclouds.aws.s3.domain.AccessControlList jcACL=new org.jclouds.aws.s3.domain.AccessControlList();
  if (jsACL.getOwner() != null) {
    jcACL.setOwner(new org.jclouds.aws.s3.domain.CanonicalUser(jsACL.getOwner().getId()));
  }
  Iterator jsGrantAndPermissionIter=jsACL.getGrants().iterator();
  while (jsGrantAndPermissionIter.hasNext()) {
    GrantAndPermission jsGrantAndPermission=(GrantAndPermission)jsGrantAndPermissionIter.next();
    org.jclouds.aws.s3.domain.AccessControlList.Permission jcPermission=null;
    Permission jsPerm=jsGrantAndPermission.getPermission();
    if (Permission.PERMISSION_FULL_CONTROL == jsPerm) {
      jcPermission=org.jclouds.aws.s3.domain.AccessControlList.Permission.FULL_CONTROL;
    }
 else     if (Permission.PERMISSION_READ == jsPerm) {
      jcPermission=org.jclouds.aws.s3.domain.AccessControlList.Permission.READ;
    }
 else     if (Permission.PERMISSION_READ_ACP == jsPerm) {
      jcPermission=org.jclouds.aws.s3.domain.AccessControlList.Permission.READ_ACP;
    }
 else     if (Permission.PERMISSION_WRITE == jsPerm) {
      jcPermission=org.jclouds.aws.s3.domain.AccessControlList.Permission.WRITE;
    }
 else     if (Permission.PERMISSION_WRITE_ACP == jsPerm) {
      jcPermission=org.jclouds.aws.s3.domain.AccessControlList.Permission.WRITE_ACP;
    }
    org.jclouds.aws.s3.domain.AccessControlList.Grantee jcGrantee=null;
    GranteeInterface jsGrantee=jsGrantAndPermission.getGrantee();
    if (jsGrantee instanceof EmailAddressGrantee) {
      jcGrantee=new org.jclouds.aws.s3.domain.AccessControlList.EmailAddressGrantee(jsGrantee.getIdentifier());
    }
 else     if (jsGrantee instanceof CanonicalGrantee) {
      jcGrantee=new org.jclouds.aws.s3.domain.AccessControlList.CanonicalUserGrantee(jsGrantee.getIdentifier());
    }
 else     if (jsGrantee instanceof GroupGrantee) {
      jcGrantee=new org.jclouds.aws.s3.domain.AccessControlList.GroupGrantee(org.jclouds.aws.s3.domain.AccessControlList.GroupGranteeURI.fromURI(jsGrantee.getIdentifier()));
    }
    jcACL.addPermission(jcGrantee,jcPermission);
  }
  return jcACL;
}
