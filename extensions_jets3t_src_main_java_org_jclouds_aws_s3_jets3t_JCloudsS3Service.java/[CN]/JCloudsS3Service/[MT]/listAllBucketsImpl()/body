{
  try {
    List<org.jclouds.aws.s3.domain.S3Bucket.Metadata> jcBucketList=connection.getOwnedBuckets().get(requestTimeoutMilliseconds,TimeUnit.MILLISECONDS);
    ArrayList<org.jets3t.service.model.S3Bucket> jsBucketList=new ArrayList<org.jets3t.service.model.S3Bucket>();
    for (    org.jclouds.aws.s3.domain.S3Bucket.Metadata jcBucket : jcBucketList) {
      org.jets3t.service.model.S3Bucket jsBucket=new org.jets3t.service.model.S3Bucket(jcBucket.getName());
      jsBucket.setOwner(new org.jets3t.service.model.S3Owner(jcBucket.getCanonicalUser().getId(),jcBucket.getCanonicalUser().getDisplayName()));
      jsBucketList.add(jsBucket);
    }
    return (org.jets3t.service.model.S3Bucket[])jsBucketList.toArray(new org.jets3t.service.model.S3Bucket[jsBucketList.size()]);
  }
 catch (  Exception e) {
    Utils.<S3ServiceException>rethrowIfRuntimeOrSameType(e);
    throw new S3ServiceException("error listing buckets",e);
  }
}
