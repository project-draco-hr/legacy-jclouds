{
  ElasticBlockStoreClient client=requestsSendResponses(describeAvailabilityZonesRequest,describeAvailabilityZonesResponse,HttpRequest.builder().method("POST").endpoint("http://localhost:8773/services/Cloud/").addHeader("Host","localhost:8773").payload(payloadFromStringWithContentType("Action=DescribeVolumes&Signature=AvRznSzGExM%2Buaj2JJj66wq4v4f%2BakicyLooRDtC0t0%3D&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2012-04-16T15%3A54%3A08.897Z&Version=2009-04-04&AWSAccessKeyId=identity","application/x-www-form-urlencoded")).build(),HttpResponse.builder().statusCode(200).payload(payloadFromResource("/nova_ec2_describe_volumes.xml")).build()).getElasticBlockStoreServices();
  Set<Volume> expected=ImmutableSet.of(Volume.builder().status(Volume.Status.AVAILABLE).availabilityZone("nova").region("nova").id("vol-00000007").size(1).attachments(Attachment.builder().region("nova").build()).createTime(dateService.iso8601SecondsDateParse("2012-04-10T10:39:52Z")).build());
  assertEquals(client.describeVolumesInRegion("nova"),expected);
}
