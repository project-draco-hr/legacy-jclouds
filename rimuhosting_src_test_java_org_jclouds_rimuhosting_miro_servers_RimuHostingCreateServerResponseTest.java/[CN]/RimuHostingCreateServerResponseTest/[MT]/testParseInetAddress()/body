{
  Server rhServer=createMock(Server.class);
  IpAddresses addresses=createMock(IpAddresses.class);
  expect(rhServer.getIpAddresses()).andReturn(addresses).atLeastOnce();
  expect(addresses.getPrimaryIp()).andReturn("127.0.0.1");
  expect(addresses.getSecondaryIps()).andReturn(ImmutableSortedSet.of("www.yahoo.com"));
  replay(rhServer);
  replay(addresses);
  assertEquals(Sets.newLinkedHashSet(RimuHostingCreateServerResponse.getPublicAddresses(rhServer)),ImmutableSet.of(InetAddress.getByName("127.0.0.1"),InetAddress.getByName("www.yahoo.com")));
}
