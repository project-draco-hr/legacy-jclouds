{
  int c;
  if (source instanceof byte[]) {
    c=((byte[])source)[pos] & 0xFF;
  }
 else   if (source instanceof String) {
    c=((String)source).charAt(pos) & 0xFF;
  }
 else {
    throw new IllegalArgumentException();
  }
  return nextByte(c,state,last,ignoreErrors);
}
