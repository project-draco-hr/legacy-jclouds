{
  HttpCommandRendezvous<?> rendezvous=(HttpCommandRendezvous<?>)context.removeAttribute("command");
  if (rendezvous != null) {
    HttpRequest request=rendezvous.getCommand().getRequest();
    for (    HttpRequestFilter filter : request.getFilters()) {
      filter.filter(request);
    }
    logger.debug("Sending request %s: %s",request.hashCode(),request.getRequestLine());
    if (request.getEntity() != null && wire.enabled())     request.setEntity(wire.output(request.getEntity()));
    HttpEntityEnclosingRequest nativeRequest=NioHttpUtils.convertToApacheRequest(request);
    HttpUtils.logRequest(headerLog,request,">>");
    return nativeRequest;
  }
  return null;
}
