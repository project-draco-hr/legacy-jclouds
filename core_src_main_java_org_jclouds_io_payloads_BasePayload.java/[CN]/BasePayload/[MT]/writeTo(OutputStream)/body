{
  checkState(!written || isRepeatable(),"can only be writted to an outputstream once");
  written=true;
  InputStream in=getInput();
  try {
    copy(in,outstream);
    outstream.flush();
  }
  finally {
    closeQuietly(in);
  }
}
