{
  ISession session=manager.getSessionObject();
  IMachine adminNode=manager.getVBox().findMachine(vmName);
  adminNode.lockMachine(session,LockType.Write);
  if (adminNode.getCurrentSnapshot() == null || !adminNode.getCurrentSnapshot().getDescription().equals(snapshotDescription)) {
    manager.getSessionObject().getConsole().takeSnapshot(adminNode.getId(),snapshotDescription);
  }
  session.unlockMachine();
}
