{
  if (hasNatAdapter(nic)) {
    return machineUtils.writeLockMachineAndApply(vmName,new AttachNATAdapterToMachineIfNotAlreadyExists(nic));
  }
 else   if (hasBridgedAdapter(nic)) {
    return machineUtils.writeLockMachineAndApply(vmName,new AttachBridgedAdapterToMachine(nic));
  }
 else   if (hasHostOnlyAdapter(nic)) {
    return machineUtils.writeLockMachineAndApply(vmName,new AttachHostOnlyAdapter(nic));
  }
 else   return null;
}
