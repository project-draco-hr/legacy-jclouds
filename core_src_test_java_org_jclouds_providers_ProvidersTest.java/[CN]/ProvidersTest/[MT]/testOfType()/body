{
  Iterable<ProviderMetadata> providersMetadata=Providers.ofType(ProviderMetadata.BLOBSTORE_TYPE);
  for (  ProviderMetadata providerMetadata : providersMetadata) {
    assertEquals("Test Blobstore Provider",providerMetadata.getName());
    assertEquals("test-blobstore-provider",providerMetadata.getId());
    assertEquals(ProviderMetadata.BLOBSTORE_TYPE,providerMetadata.getType());
    assertEquals("http://jclouds.org",providerMetadata.getHomepage().toString());
    assertEquals("http://jclouds.org/console",providerMetadata.getConsole().toString());
  }
  providersMetadata=Providers.ofType(ProviderMetadata.COMPUTE_TYPE);
  for (  ProviderMetadata providerMetadata : providersMetadata) {
    assertEquals("Test Compute Provider",providerMetadata.getName());
    assertEquals("test-compute-provider",providerMetadata.getId());
    assertEquals(ProviderMetadata.COMPUTE_TYPE,providerMetadata.getType());
    assertEquals("http://jclouds.org",providerMetadata.getHomepage().toString());
    assertEquals("http://jclouds.org/console",providerMetadata.getConsole().toString());
  }
  providersMetadata=Providers.ofType("fake-type");
  assertEquals(false,providersMetadata.iterator().hasNext());
}
