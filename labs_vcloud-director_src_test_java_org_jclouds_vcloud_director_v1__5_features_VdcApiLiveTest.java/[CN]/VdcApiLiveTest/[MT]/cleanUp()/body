{
  if (clonedVAppTemplate != null) {
    cleanUpVAppTemplate(clonedVAppTemplate);
  }
  if (capturedVAppTemplate != null) {
    cleanUpVAppTemplate(capturedVAppTemplate);
  }
  if (uploadedVAppTemplate != null) {
    cleanUpVAppTemplate(uploadedVAppTemplate);
  }
  if (instantiatedVApp != null) {
    cleanUpVApp(instantiatedVApp);
  }
  if (clonedVApp != null) {
    cleanUpVApp(clonedVApp);
  }
  if (composedVApp != null) {
    cleanUpVApp(composedVApp);
  }
  if (metadataSet) {
    try {
      Task delete=adminContext.getApi().getVdcApi().getMetadataApi().deleteEntry(lazyGetVdc().getHref(),"key");
      taskDoneEventually(delete);
    }
 catch (    Exception e) {
      logger.warn(e,"Error deleting metadata entry");
    }
  }
}
