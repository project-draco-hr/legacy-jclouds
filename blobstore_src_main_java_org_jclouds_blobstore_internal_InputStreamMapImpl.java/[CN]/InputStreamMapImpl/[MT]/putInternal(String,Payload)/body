{
  Blob object=connection.newBlob(prefixer.apply(name));
  try {
    InputStream returnVal=containsKey(name) ? get(name) : null;
    object.setPayload(payload);
    object.generateMD5();
    connection.putBlob(containerName,object).get(requestTimeoutMilliseconds,TimeUnit.MILLISECONDS);
    return returnVal;
  }
 catch (  Exception e) {
    Throwables.propagateIfPossible(e,BlobRuntimeException.class);
    throw new BlobRuntimeException(String.format("Error adding blob %s:%s",containerName,object),e);
  }
}
