{
  Reservation reservation=createKeyPairAndSecurityGroupsAsNeededThenRunInstances(tag,count,template);
  Iterable<NodeMetadata> runningNodes=blockUntilInstancesAreRunningAndConvertToNodes(reservation);
  return utils.runOptionsOnNodesAndAddToGoodSetOrPutExceptionIntoBadMap(template.getOptions(),runningNodes,goodNodes,badNodes);
}
