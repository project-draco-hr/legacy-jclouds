{
  String region=getRegionFromLocationOrNull(template.getLocation());
  String zone=getZoneFromLocationOrNull(template.getLocation());
  RunInstancesOptions instanceOptions=createKeyPairAndSecurityGroupsAsNeededAndReturnRunOptions.execute(region,tag,template);
  if (logger.isDebugEnabled())   logger.debug(">> running %d instance region(%s) zone(%s) ami(%s) params(%s)",count,region,zone,template.getImage().getId(),instanceOptions.buildFormParameters());
  return instanceClient.runInstancesInRegion(region,zone,template.getImage().getId(),1,count,instanceOptions);
}
