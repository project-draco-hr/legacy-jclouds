{
  String region=getRegionFromLocationOrNull(template.getLocation());
  String zone=getZoneFromLocationOrNull(template.getLocation());
  RunInstancesOptions instanceOptions=createKeyPairAndSecurityGroupsAsNeededAndReturnRunOptions.execute(region,tag,template);
  if (EC2TemplateOptions.class.cast(template.getOptions()).isMonitoringEnabled())   instanceOptions.enableMonitoring();
  if (logger.isDebugEnabled())   logger.debug(">> running %d instance region(%s) zone(%s) ami(%s) params(%s)",count,region,zone,template.getImage().getProviderId(),instanceOptions.buildFormParameters());
  return client.getInstanceServices().runInstancesInRegion(region,zone,template.getImage().getProviderId(),1,count,instanceOptions);
}
