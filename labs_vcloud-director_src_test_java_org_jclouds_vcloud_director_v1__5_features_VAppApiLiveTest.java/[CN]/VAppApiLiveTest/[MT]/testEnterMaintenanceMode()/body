{
  VApp temp=instantiateVApp();
  DeployVAppParams params=DeployVAppParams.builder().deploymentLeaseSeconds((int)TimeUnit.SECONDS.convert(1L,TimeUnit.HOURS)).notForceCustomization().notPowerOn().build();
  Task deployVApp=vAppApi.deploy(temp.getHref(),params);
  assertTaskSucceedsLong(deployVApp);
  try {
    vAppApi.enterMaintenanceMode(temp.getHref());
    temp=vAppApi.getVApp(temp.getHref());
    assertTrue(temp.isInMaintenanceMode(),String.format(CONDITION_FMT,"InMaintenanceMode","TRUE",temp.isInMaintenanceMode()));
    vAppApi.exitMaintenanceMode(temp.getHref());
  }
  finally {
    cleanUpVApp(temp);
  }
}
