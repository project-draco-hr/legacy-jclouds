{
  ConcurrentMap<String,Blob> container=getContainerToBlobs().putIfAbsent(name,new ConcurrentHashMap<String,Blob>());
  if (container == null) {
    getContainerToLocation().put(name,location != null ? location : defaultLocation);
    return immediateFuture((Void)null);
  }
 else {
    return Futures.immediateFailedFuture(new IllegalStateException("container " + name + " already exists"));
  }
}
