{
  Map<String,String> attributes=SaxUtils.cleanseAttributes(attrs);
  if (qName.equals("public_addresses")) {
    inPublicAddresses=true;
  }
 else   if (qName.equals("private_addresses")) {
    inPrivateAddresses=true;
  }
 else   if (qName.equals("instance")) {
    String href=attributes.get("href");
    if (href != null) {
      this.href=URI.create(href);
    }
    this.id=attributes.get("id");
  }
 else   if (qName.equals("link")) {
    try {
      Instance.Action action=Instance.Action.fromValue(attributes.get("rel"));
      if (action != Instance.Action.UNRECOGNIZED) {
        HttpRequest request=new HttpRequest(attributes.get("method").toUpperCase(),URI.create(attributes.get("href")));
        actions.put(action,request);
      }
    }
 catch (    RuntimeException e) {
      if (logger.isDebugEnabled())       logger.warn(e,"error parsing into action: %s, %s",qName,attributes);
    }
  }
 else   if (attributes.containsKey("href")) {
    URI href=URI.create(attributes.get("href"));
    if (qName.equals("image"))     this.image=href;
 else     if (qName.equals("hardware_profile"))     this.hardwareProfile=href;
 else     if (qName.equals("realm"))     this.realm=href;
  }
}
