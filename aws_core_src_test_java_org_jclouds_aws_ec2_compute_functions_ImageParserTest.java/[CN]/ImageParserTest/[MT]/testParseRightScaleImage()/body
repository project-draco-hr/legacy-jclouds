{
  Set<org.jclouds.compute.domain.Image> result=convertImages("/ec2/rightscale_images.xml");
  assertEquals(Iterables.get(result,0),new ImageBuilder().operatingSystem(new OperatingSystemBuilder().family(OsFamily.CENTOS).arch("paravirtual").version("5.4").description("rightscale-us-east/CentOS_5.4_x64_v4.4.10.manifest.xml").is64Bit(true).build()).description("rightscale-us-east/CentOS_5.4_x64_v4.4.10.manifest.xml").defaultCredentials(new Credentials("root",null)).id("us-east-1/ami-ccb35ea5").providerId("ami-ccb35ea5").location(defaultLocation).version("4.4.10").userMetadata(ImmutableMap.of("owner","admin","rootDeviceType","instance-store")).build());
  assertEquals(new Gson().toJson(Iterables.get(result,1)),"{\"operatingSystem\":{\"family\":\"UBUNTU\",\"arch\":\"paravirtual\",\"version\":\"9.10\",\"description\":\"411009282317/RightImage_Ubuntu_9.10_x64_v4.5.3_EBS_Alpha\",\"is64Bit\":true},\"version\":\"4.5.3_EBS_Alpha\",\"description\":\"RightImage_Ubuntu_9.10_x64_v4.5.3_EBS_Alpha\",\"defaultCredentials\":{\"identity\":\"root\"},\"id\":\"us-east-1/ami-c19db6b5\",\"type\":\"IMAGE\",\"providerId\":\"ami-c19db6b5\",\"location\":{\"scope\":\"REGION\",\"id\":\"us-east-1\",\"description\":\"us-east-1\"},\"userMetadata\":{\"owner\":\"411009282317\",\"rootDeviceType\":\"ebs\"}}");
}
