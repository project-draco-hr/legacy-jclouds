{
  Map<K2,Supplier<V>> regionToEndpoint=regionToEndpointSupplier.get();
  Builder<K2,Supplier<V>> builder=ImmutableMap.builder();
  for (  Entry<K,Supplier<Set<K2>>> entry : regionToZones.entrySet()) {
    for (    K2 zone : entry.getValue().get()) {
      builder.put(zone,regionToEndpoint.get(entry.getKey()));
    }
  }
  return builder.build();
}
