{
  final Set<Image> images=Sets.newHashSet();
  logger.debug(">> providing images");
  Set<ServerImage> allImages=sync.getImageServices().getImageList();
  for (  ServerImage from : allImages) {
    OsFamily osFamily=null;
    String osName=from.getOs().getName();
    String osArch=from.getArchitecture().getDescription();
    String osVersion=null;
    String osDescription=from.getOs().getDescription();
    boolean is64Bit=(from.getOs().getName().indexOf("64") != -1 || from.getDescription().indexOf("64") != -1);
    String description=from.getDescription();
    String version="";
    String matchedOs=GoGridUtils.parseStringByPatternAndGetNthMatchGroup(osName,GOGRID_OS_NAME_PATTERN,1);
    try {
      osFamily=OsFamily.fromValue(matchedOs.toLowerCase());
    }
 catch (    IllegalArgumentException e) {
      logger.debug("<< didn't match os(%s)",matchedOs);
    }
    Credentials defaultCredentials=authenticator.execute(from);
    OperatingSystem os=new OperatingSystem(osFamily,osName,osVersion,osArch,osDescription,is64Bit);
    images.add(new ImageImpl(from.getId() + "",from.getFriendlyName(),from.getId() + "",null,null,ImmutableMap.<String,String>of(),os,description,version,defaultCredentials));
  }
  logger.debug("<< images(%d)",images.size());
  return images;
}
