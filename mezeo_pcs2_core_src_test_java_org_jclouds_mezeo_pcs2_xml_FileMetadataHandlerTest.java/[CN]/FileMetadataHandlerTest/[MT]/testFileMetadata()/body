{
  InputStream is=getClass().getResourceAsStream("/test_file_metadata.xml");
  FileMetadata expects=new FileMetadata("testfile.txt",URI.create("https://pcsbeta.mezeo.net/v2/files/9E4C5AFA-A98B-11DE-8B4C-C3884B4A2DA3"),dateService.fromSeconds(1254000180),dateService.fromSeconds(1254000181),dateService.fromSeconds(1254000182),"adrian@jclouds.org",false,true,3,5,MediaType.TEXT_PLAIN,false);
  expects.getUserMetadata().put("foo","bar");
  FileMetadata result=(FileMetadata)factory.create(injector.getInstance(FileMetadataHandler.class)).parse(is);
  assertEquals(result,expects);
}
