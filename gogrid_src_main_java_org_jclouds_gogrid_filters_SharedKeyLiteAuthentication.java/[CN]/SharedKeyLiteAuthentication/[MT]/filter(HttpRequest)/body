{
  checkArgument(checkNotNull(request,"input") instanceof GeneratedHttpRequest<?>,"this decorator is only valid for GeneratedHttpRequests!");
  GeneratedHttpRequest<?> generatedRequest=(GeneratedHttpRequest<?>)request;
  String toSign=createStringToSign();
  String signatureMd5=getMd5For(toSign);
  generatedRequest.addQueryParam("sig",signatureMd5);
  generatedRequest.addQueryParam("api_key",apiKey);
  HttpUtils.logRequest(signatureLog,request,"<<");
}
