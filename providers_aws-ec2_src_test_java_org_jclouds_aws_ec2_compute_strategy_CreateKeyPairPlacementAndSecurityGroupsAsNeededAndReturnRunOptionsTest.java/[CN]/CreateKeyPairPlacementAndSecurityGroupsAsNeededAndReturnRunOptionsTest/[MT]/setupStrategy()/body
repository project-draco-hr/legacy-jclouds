{
  Function<RegionAndName,KeyPair> makeKeyPair=createMock(Function.class);
  ConcurrentMap<RegionAndName,KeyPair> credentialsMap=createMock(ConcurrentMap.class);
  LoadingCache<RegionAndName,String> securityGroupMap=createMock(LoadingCache.class);
  LoadingCache<RegionAndName,String> placementGroupMap=createMock(LoadingCache.class);
  Function<RegionNameAndPublicKeyMaterial,KeyPair> importExistingKeyPair=createMock(Function.class);
  CreatePlacementGroupIfNeeded createPlacementGroupIfNeeded=createMock(CreatePlacementGroupIfNeeded.class);
  return new CreateKeyPairPlacementAndSecurityGroupsAsNeededAndReturnRunOptions(makeKeyPair,credentialsMap,securityGroupMap,OPTIONS_PROVIDER,placementGroupMap,createPlacementGroupIfNeeded,importExistingKeyPair);
}
