{
  Map<RegionAndName,KeyPair> credentialsMap=createMock(Map.class);
  Map<RegionAndName,String> securityGroupMap=createMock(Map.class);
  Map<RegionAndName,String> placementGroupMap=createMock(Map.class);
  Function<RegionAndName,KeyPair> createOrGetKeyPair=createMock(Function.class);
  Function<RegionNameAndIngressRules,String> createSecurityGroupIfNeeded=createMock(Function.class);
  Function<RegionNameAndPublicKeyMaterial,KeyPair> importExistingKeyPair=createMock(Function.class);
  CreatePlacementGroupIfNeeded createPlacementGroupIfNeeded=createMock(CreatePlacementGroupIfNeeded.class);
  return new CreateKeyPairPlacementAndSecurityGroupsAsNeededAndReturnRunOptions(credentialsMap,securityGroupMap,placementGroupMap,createOrGetKeyPair,createSecurityGroupIfNeeded,OPTIONS_PROVIDER,createPlacementGroupIfNeeded,importExistingKeyPair);
}
