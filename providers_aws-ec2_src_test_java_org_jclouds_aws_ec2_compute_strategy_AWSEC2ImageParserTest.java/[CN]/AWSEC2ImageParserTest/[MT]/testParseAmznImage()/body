{
  Set<org.jclouds.compute.domain.Image> result=convertImages("/amzn_images.xml");
  assertEquals(Iterables.get(result,0),new ImageBuilder().name("amzn-ami-0.9.7-beta.i386-ebs").operatingSystem(new OperatingSystem.Builder().family(OsFamily.AMZN_LINUX).arch("paravirtual").version("0.9.7-beta").description("137112412989/amzn-ami-0.9.7-beta.i386-ebs").is64Bit(false).build()).description("Amazon").defaultCredentials(LoginCredentials.builder().user("ec2-user").build()).id("us-east-1/ami-82e4b5c7").providerId("ami-82e4b5c7").location(defaultLocation).version("0.9.7-beta").userMetadata(ImmutableMap.of("owner","137112412989","rootDeviceType","ebs","virtualizationType","paravirtual","hypervisor","xen")).status(org.jclouds.compute.domain.Image.Status.AVAILABLE).build());
  assertEquals(Iterables.get(result,0).getStatus(),org.jclouds.compute.domain.Image.Status.AVAILABLE);
  assertEquals(Iterables.get(result,3),new ImageBuilder().name("amzn-ami-0.9.7-beta.x86_64-S3").operatingSystem(new OperatingSystem.Builder().family(OsFamily.AMZN_LINUX).arch("paravirtual").version("0.9.7-beta").description("amzn-ami-us-west-1/amzn-ami-0.9.7-beta.x86_64.manifest.xml").is64Bit(true).build()).description("Amazon Linux AMI x86_64 S3").defaultCredentials(LoginCredentials.builder().user("ec2-user").build()).id("us-east-1/ami-f2e4b5b7").providerId("ami-f2e4b5b7").location(defaultLocation).version("0.9.7-beta").userMetadata(ImmutableMap.of("owner","137112412989","rootDeviceType","ebs","virtualizationType","paravirtual","hypervisor","xen")).status(org.jclouds.compute.domain.Image.Status.AVAILABLE).build());
  assertEquals(Iterables.get(result,3).getStatus(),org.jclouds.compute.domain.Image.Status.AVAILABLE);
}
