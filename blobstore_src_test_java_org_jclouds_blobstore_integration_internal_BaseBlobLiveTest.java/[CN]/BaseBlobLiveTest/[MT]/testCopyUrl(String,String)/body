{
  httpStreamUrl=checkNotNull(httpStreamUrl != null ? httpStreamUrl : sysHttpStreamUrl,"httpStreamUrl");
  httpStreamETag=checkNotNull(httpStreamETag != null ? httpStreamETag : sysHttpStreamETag,"httpStreamMd5");
  String key="hello";
  URL url=new URL(httpStreamUrl);
  byte[] md5=new JCEEncryptionService().fromHexString(httpStreamETag);
  URLConnection connection=url.openConnection();
  int length=connection.getContentLength();
  InputStream input=connection.getInputStream();
  Blob object=newBlob(key);
  object.setData(input);
  object.setContentLength(length);
  object.getMetadata().setContentMD5(md5);
  object.getMetadata().setSize(new Long(length));
  String bucketName=getContainerName();
  try {
    context.getBlobStore().putBlob(bucketName,object);
    assertEquals(context.getBlobStore().blobMetadata(bucketName,key).getContentMD5(),md5);
  }
  finally {
    returnContainer(bucketName);
  }
}
