{
  assertTrue(new RetryablePredicate<Iterable<Tag>>(new Predicate<Iterable<Tag>>(){
    @Override public boolean apply(    Iterable<Tag> input){
      return api().list().filter(new Predicate<Tag>(){
        @Override public boolean apply(        Tag in){
          return in.getResourceId().equals(resource.id);
        }
      }
).toSet().equals(input);
    }
  }
,600,200,200,TimeUnit.MILLISECONDS).apply(ImmutableSet.of(tag,tag2)));
}
