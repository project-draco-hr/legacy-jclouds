{
  AsyncJob job=AsyncJob.builder().id(100L).status(Status.FAILED).resultCode(ResultCode.FAIL).error(new AsyncJobError(ErrorCode.INTERNAL_ERROR,"Dummy test error")).build();
  expect(asyncJobClient.getAsyncJob(job.getId())).andReturn(job);
  replay(client,asyncJobClient);
  try {
    new JobComplete(client).apply(job.getId());
    fail("No exception thrown");
  }
 catch (  AsyncJobException e) {
    assertTrue(e.toString().contains("Dummy test error"));
  }
  verify(client,asyncJobClient);
}
