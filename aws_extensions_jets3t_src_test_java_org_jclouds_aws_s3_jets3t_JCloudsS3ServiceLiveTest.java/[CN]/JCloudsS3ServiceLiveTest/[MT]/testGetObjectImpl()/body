{
  String bucketName=getContainerName();
  try {
    String objectKey="key-testGetObjectImpl".toLowerCase();
    String objectValue="test";
    String metadataName="metadata-name-2";
    String metadataValue="metadata-value-2";
    Blob blob=context.getAsyncBlobStore().newBlob(objectKey);
    blob.setPayload(objectValue);
    blob.getMetadata().getUserMetadata().put(metadataName,metadataValue);
    addBlobToContainer(bucketName,blob);
    S3Object object=service.getObject(new S3Bucket(bucketName),objectKey);
    assertNotNull(object.getDataInputStream());
    assertEquals(Utils.toStringAndClose(object.getDataInputStream()),objectValue);
    assertEquals(object.getContentLength(),objectValue.length());
    assertEquals(object.getMetadata(metadataName),metadataValue);
  }
  finally {
    returnContainer(bucketName);
  }
}
