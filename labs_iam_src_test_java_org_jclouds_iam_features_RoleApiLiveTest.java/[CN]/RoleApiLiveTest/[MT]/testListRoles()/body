{
  ImmutableList<Role> roles=api().list().concat().toList();
  getAnonymousLogger().info("roles: " + roles.size());
  for (  Role role : roles) {
    checkRole(role);
    assertEquals(api().get(role.getName()),role);
    ImmutableSet<Role> rolesAtPath=api().listPathPrefix(role.getPath()).concat().toSet();
    assertTrue(rolesAtPath.contains(role),role + " not in " + rolesAtPath);
  }
}
