{
  accessKeyId=accessKeyId.replace("+","%2B");
  signature=signature.replace("+","%2B");
  Multimap<String,String> decodedParams=queryParser().apply(request.getEndpoint().getRawQuery());
  Builder<?> builder=request.toBuilder().endpoint(request.getEndpoint()).method(request.getMethod());
  if (!decodedParams.containsKey("Version")) {
    builder.addQueryParam(RequestParameters.VERSION,apiVersion);
  }
  builder.addQueryParam(RequestParameters.LOCALE,lang).addQueryParam(RequestParameters.ACCESS_KEY_ID,accessKeyId).addQueryParam(RequestParameters.SIGNATURE,signature);
  return builder.build();
}
