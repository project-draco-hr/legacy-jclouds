{
  try {
    PropertiesBuilder builder=contextSpec.propertiesBuilderClass.getConstructor(Properties.class).newInstance(overrides);
    builder.provider(contextSpec.provider);
    if (contextSpec.apiVersion != null)     builder.apiVersion(contextSpec.apiVersion);
    if (contextSpec.iso3166Codes != null)     builder.iso3166Codes(Splitter.on('.').split(contextSpec.iso3166Codes));
    if (contextSpec.identity != null)     builder.credentials(contextSpec.identity,contextSpec.credential);
    if (contextSpec.endpoint != null)     builder.endpoint(contextSpec.endpoint);
    RestContextBuilder<S,A> contextBuilder=Providers.initContextBuilder(contextSpec.contextBuilderClass,contextSpec.sync,contextSpec.async,builder.build());
    contextBuilder.withModules(concat(modules,contextSpec.modules));
    return contextBuilder;
  }
 catch (  Exception e) {
    return propagateAuthorizationOrOriginalException(e);
  }
}
