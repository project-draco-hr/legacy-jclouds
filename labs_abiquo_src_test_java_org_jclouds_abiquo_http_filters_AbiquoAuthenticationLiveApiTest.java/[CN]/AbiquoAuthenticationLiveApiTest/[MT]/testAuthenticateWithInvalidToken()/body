{
  String token=getAuthtenticationToken() + "INVALID";
  Properties props=new Properties();
  props.setProperty(AbiquoConstants.CREDENTIAL_IS_TOKEN,"true");
  AbiquoContext tokenContext=ContextBuilder.newBuilder(new AbiquoApiMetadata()).endpoint(endpoint).credentials("token",token).modules(ImmutableSet.<Module>of(new SLF4JLoggingModule())).overrides(props).build(AbiquoContext.class);
  try {
    tokenContext.getApiContext().getApi().getAdminApi().getCurrentUser();
  }
 catch (  AuthorizationException ex) {
    return;
  }
 finally {
    if (tokenContext != null) {
      tokenContext.close();
    }
  }
  fail("Token authentication should have failed");
}
