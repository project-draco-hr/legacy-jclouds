{
  return Suppliers.compose(new Function<Set<? extends Location>,Map<String,? extends Location>>(){
    @Override public Map<String,? extends Location> apply(    Set<? extends Location> from){
      return Maps.uniqueIndex(from,new Function<Location,String>(){
        @Override public String apply(        Location from){
          return from.getId();
        }
      }
);
    }
  }
,locations);
}
