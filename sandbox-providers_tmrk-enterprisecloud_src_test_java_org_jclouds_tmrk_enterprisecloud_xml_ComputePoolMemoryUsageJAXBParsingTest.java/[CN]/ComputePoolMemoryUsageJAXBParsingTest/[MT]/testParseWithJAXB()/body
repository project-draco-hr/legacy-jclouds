{
  Method method=ResourceAsyncClient.class.getMethod("getComputePoolMemoryUsage",URI.class);
  HttpRequest request=factory(ResourceAsyncClient.class).createRequest(method,new URI("/1"));
  assertResponseParserClassEquals(method,request,ParseXMLWithJAXB.class);
  Function<HttpResponse,ComputePoolMemoryUsage> parser=(Function<HttpResponse,ComputePoolMemoryUsage>)RestAnnotationProcessor.createResponseParser(parserFactory,injector,method,request);
  InputStream is=getClass().getResourceAsStream("/computePoolMemoryUsage.xml");
  ComputePoolMemoryUsage memoryUsage=parser.apply(new HttpResponse(200,"ok",newInputStreamPayload(is)));
  assertLinks(memoryUsage.getLinks());
  assertEquals(memoryUsage.getStartTime(),dateService.iso8601DateParse("2011-12-05T15:55:00.0Z"));
  assertEquals(memoryUsage.getEndTime(),dateService.iso8601DateParse("2011-12-06T15:55:00.0Z"));
  assertDetails(memoryUsage.getDetails());
  Set<ComputePoolMemoryUsageDetailSummaryEntry> entries=memoryUsage.getDetails().getEntries();
  ComputePoolMemoryUsageDetailSummaryEntry first=Iterables.getFirst(entries,null);
  assertEquals(memoryUsage.getStartTime(),first.getTime());
  ComputePoolMemoryUsageDetailSummaryEntry last=Iterables.getLast(entries,null);
  assertEquals(memoryUsage.getEndTime(),last.getTime());
}
