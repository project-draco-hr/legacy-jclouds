{
  Builder builder=AdminAccess.builder(configuration.cryptFunction());
  builder.adminUsername(this.adminUsername != null ? this.adminUsername : configuration.defaultAdminUsername().get());
  builder.adminPassword(this.adminPassword != null ? this.adminPassword : configuration.passwordGenerator().get());
  Map<String,String> adminSshKeys=(adminPublicKey != null && adminPrivateKey != null) ? ImmutableMap.of("public",adminPublicKey,"private",adminPrivateKey) : configuration.defaultAdminSshKeys().get();
  builder.adminPublicKey(adminSshKeys.get("public"));
  builder.adminPrivateKey(adminSshKeys.get("private"));
  builder.loginPassword(this.loginPassword != null ? this.loginPassword : configuration.passwordGenerator().get());
  builder.grantSudoToAdminUser(this.grantSudoToAdminUser);
  builder.authorizeAdminPublicKey(this.authorizeAdminPublicKey);
  builder.installAdminPrivateKey(this.installAdminPrivateKey);
  builder.lockSsh(this.lockSsh);
  builder.resetLoginPassword(this.resetLoginPassword);
  return builder.build();
}
