{
  HttpRequest listWithOptions=HttpRequest.builder().method("POST").endpoint(URI.create("https://elasticloadbalancing.us-east-1.amazonaws.com/")).headers(ImmutableMultimap.<String,String>builder().put("Host","elasticloadbalancing.us-east-1.amazonaws.com").build()).payload(payloadFromStringWithContentType("Action=DescribeLoadBalancerPolicyTypes" + "&PolicyTypeNames.member.1=moo" + "&Signature=cX8twwn2E6%2B7V3CGZ4ac69NhyolJLsV1nzpQl3wQXW8%3D"+ "&SignatureMethod=HmacSHA256"+ "&SignatureVersion=2"+ "&Timestamp=2009-11-08T15%3A54%3A08.897Z"+ "&Version=2012-06-01"+ "&AWSAccessKeyId=identity","application/x-www-form-urlencoded")).build();
  HttpResponse listWithOptionsResponse=HttpResponse.builder().statusCode(200).payload(payloadFromResourceWithContentType("/describe_policy_types.xml","text/xml")).build();
  ELBApi apiWhenWithOptionsExist=requestSendsResponse(listWithOptions,listWithOptionsResponse);
  assertEquals(apiWhenWithOptionsExist.getPolicyApi().listTypes(ImmutableSet.of("moo")).toString(),new DescribeLoadBalancerPolicyTypesResponseTest().expected().toString());
}
