{
  List<IMedium> mediaToBeDeleted=null;
  IMachine machine=null;
  try {
    machine=manager.getVBox().findMachine(vmName);
    mediaToBeDeleted=machine.unregister(mode);
  }
 catch (  VBoxException e) {
    ErrorCode errorCode=ErrorCode.valueOf(e);
switch (errorCode) {
case VBOX_E_OBJECT_NOT_FOUND:
      logger.debug("Machine %s does not exists, cannot unregister",vmName);
    break;
default :
  throw e;
}
}
try {
IProgress deletion=machine.delete(mediaToBeDeleted);
deletion.waitForCompletion(-1);
}
 catch (Exception e) {
logger.error(e,"Problem in deleting the media attached to %s",machine.getName());
propagate(e);
}
return null;
}
