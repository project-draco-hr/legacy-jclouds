{
  checkArgument(checkNotNull(input,"input") instanceof Multimap<?,?>,"this binder is only valid for Multimap<?,?>: " + input.getClass());
  Multimap<Object,Object> map=(Multimap<Object,Object>)input;
  Builder<String,String> builder=ImmutableMultimap.<String,String>builder();
  int i=1;
  for (  Object k : map.keySet()) {
    builder.put(prefix + "." + i+ "."+ keySuffix,checkNotNull(k.toString(),keySuffix.toLowerCase() + "s[" + i+ "]"));
    if (!map.get(k).isEmpty()) {
      int j=1;
      for (      Object v : map.get(k)) {
        builder.put(prefix + "." + i+ "."+ valueSuffix+ "."+ j,v.toString());
        j++;
      }
    }
    i++;
  }
  ImmutableMultimap<String,String> forms=builder.build();
  return forms.size() == 0 ? request : ModifyRequest.putFormParams(request,forms);
}
