{
  if (input.identity.indexOf(':') == -1) {
    throw new AuthorizationException(String.format("Identity %s does not match format tenantId:username",input.identity),null);
  }
  String tenantId=input.identity.substring(0,input.identity.indexOf(':'));
  String usernameOrAccessKey=input.identity.substring(input.identity.indexOf(':') + 1);
  String passwordOrSecretKey=input.credential;
  PasswordCredentials passwordCredentials=PasswordCredentials.createWithUsernameAndPassword(usernameOrAccessKey,passwordOrSecretKey);
  return client.authenticateTenantWithCredentials(tenantId,passwordCredentials);
}
