{
  SshClient.Factory factory=createMock(SshClient.Factory.class);
  SshClient client=createMock(SshClient.class);
  IPSocket expectedSshSockectFor2ndCreatedNode=new IPSocket("144.175.1.2",22);
  Credentials expectedCredentialsFor2ndCreatedNode=new Credentials("root","password2");
  expect(factory.create(expectedSshSockectFor2ndCreatedNode,expectedCredentialsFor2ndCreatedNode)).andReturn(client).times(2);
  expect(client.getUsername()).andReturn(expectedCredentialsFor2ndCreatedNode.identity).times(2);
  expect(client.getHostAddress()).andReturn(expectedSshSockectFor2ndCreatedNode.getAddress()).times(2);
  client.disconnect();
  client.connect();
  expect(client.exec("VBoxManage setproperty websrvauthlibrary null\n")).andReturn(new ExecResponse("","",0));
  client.disconnect();
  client.connect();
  expect(client.exec("vboxwebsrv -t 10000 -v -b\n")).andReturn(new ExecResponse("","",0));
  replay(factory);
  replay(client);
  bind(SshClient.Factory.class).toInstance(factory);
}
