{
  HttpRequest update=HttpRequest.builder().method("PUT").endpoint("https://www.googleapis.com/compute/v1beta13/projects/myproject/firewalls/myfw").addHeader("Accept","application/json").addHeader("Authorization","Bearer " + TOKEN).payload(firewallPayloadFirewallOfName("myfw","default",ImmutableSet.<String>of("10.0.1.0/32"),ImmutableSet.<String>of("tag1"),ImmutableSet.<String>of("tag2"),ImmutableSet.<String>of("22","23-24"))).build();
  HttpResponse updateFirewallResponse=HttpResponse.builder().statusCode(200).payload(payloadFromResource("/operation.json")).build();
  FirewallApi api=requestsSendResponses(requestForScopes(COMPUTE_SCOPE),TOKEN_RESPONSE,update,updateFirewallResponse).getFirewallApiForProject("myproject");
  assertEquals(api.update("myfw",new FirewallOptions().name("myfw").network(URI.create("https://www.googleapis" + ".com/compute/v1beta13/projects/myproject/networks/default")).addAllowedRule(Firewall.Rule.builder().IPProtocol(IPProtocol.TCP).addPort(22).addPortRange(23,24).build()).addSourceTag("tag1").addSourceRange("10.0.1.0/32").addTargetTag("tag2")),new ParseOperationTest().expected());
}
