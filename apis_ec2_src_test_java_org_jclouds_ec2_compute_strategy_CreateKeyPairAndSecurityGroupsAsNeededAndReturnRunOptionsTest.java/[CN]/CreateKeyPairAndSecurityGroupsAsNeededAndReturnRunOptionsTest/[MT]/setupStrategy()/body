{
  Map<RegionAndName,KeyPair> credentialsMap=createMock(Map.class);
  Map<RegionAndName,String> securityGroupMap=createMock(Map.class);
  CreateUniqueKeyPair createUniqueKeyPair=createMock(CreateUniqueKeyPair.class);
  Function<RegionNameAndIngressRules,String> createSecurityGroupIfNeeded=createMock(CreateSecurityGroupIfNeeded.class);
  return new CreateKeyPairAndSecurityGroupsAsNeededAndReturnRunOptions(credentialsMap,securityGroupMap,createUniqueKeyPair,createSecurityGroupIfNeeded,OPTIONS_PROVIDER);
}
