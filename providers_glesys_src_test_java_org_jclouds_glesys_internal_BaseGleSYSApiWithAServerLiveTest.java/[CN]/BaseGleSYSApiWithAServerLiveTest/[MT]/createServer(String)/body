{
  ServerApi api=gleContext.getApi().getServerApi();
  ServerDetails testServer=api.createWithHostnameAndRootPassword(ServerSpec.builder().datacenter("Falkenberg").platform("OpenVZ").templateName("Ubuntu 10.04 LTS 32-bit").diskSizeGB(5).memorySizeMB(512).cpuCores(1).transferGB(50).build(),hostName,UUID.randomUUID().toString().replace("-",""));
  assertNotNull(testServer.getId());
  assertEquals(testServer.getHostname(),hostName);
  assertFalse(testServer.getIps().isEmpty());
  ServerStatusChecker runningServerCounter=new ServerStatusChecker(api,testServer.getId(),300,10,TimeUnit.SECONDS);
  assertTrue(runningServerCounter.apply(Server.State.RUNNING));
  return runningServerCounter;
}
