{
  VCloudDirectorApi api=requestsSendResponses(loginRequest,sessionResponse,new VcloudHttpRequestPrimer().apiCommand("PUT",vmId).xmlFilePayload("/vm/editVm.xml",VCloudDirectorMediaType.VM).acceptAnyMedia().httpRequestBuilder().build(),new VcloudHttpResponsePrimer().xmlFilePayload("/vm/modifiedVm.xml",VCloudDirectorMediaType.VM).httpResponseBuilder().build());
  Vm modified=getVm();
  modified.setName("new-name");
  modified.setDescription("New Description");
  Task expected=editVmTask();
  assertEquals(api.getVmApi().edit(vmURI,modified),expected);
}
