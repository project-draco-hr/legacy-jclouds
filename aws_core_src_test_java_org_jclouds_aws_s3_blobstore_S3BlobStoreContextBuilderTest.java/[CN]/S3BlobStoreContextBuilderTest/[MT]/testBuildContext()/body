{
  BlobStoreContext<S3AsyncClient,S3Client> context=new S3BlobStoreContextBuilder(new S3PropertiesBuilder("id","secret").build()).withModules(new S3StubClientModule()).buildContext();
  assertEquals(context.getClass(),BlobStoreContextImpl.class);
  assertEquals(context.getAsyncApi().getClass(),StubS3AsyncClient.class);
  assertEquals(context.getAsyncBlobStore().getClass(),S3AsyncBlobStore.class);
  assertEquals(context.getAsyncApi().newS3Object().getClass(),S3ObjectImpl.class);
  assertEquals(context.getAsyncBlobStore().newBlob(null).getClass(),BlobImpl.class);
  assertEquals(context.getAccount(),"id");
  assertEquals(context.getEndPoint(),URI.create("https://localhost/s3stub"));
}
