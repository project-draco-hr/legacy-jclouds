{
  ImmutableSet.Builder<VServerMetadata> servers=ImmutableSet.<VServerMetadata>builder();
  Set<VSystem> systems=api.getVirtualDCApi().listVirtualSystems();
  List<ListenableFuture<VSystemWithDetails>> futures=Lists.newArrayList();
  for (  VSystem system : systems) {
    futures.add(asyncApi.getVirtualSystemApi().getDetails(system.getId()));
  }
  try {
    for (    VSystemWithDetails system : Futures.successfulAsList(futures).get()) {
      if (system != null) {
        for (        VServerWithVNICs server : system.getServers()) {
          if (!server.getId().endsWith("-S-0001") && server.getVnics().iterator().next().getNicNo() == 0) {
            servers.add(getNode(server.getId()));
          }
        }
      }
    }
  }
 catch (  InterruptedException e) {
    throw Throwables.propagate(e);
  }
catch (  ExecutionException e) {
    throw Throwables.propagate(e);
  }
  return servers.build();
}
