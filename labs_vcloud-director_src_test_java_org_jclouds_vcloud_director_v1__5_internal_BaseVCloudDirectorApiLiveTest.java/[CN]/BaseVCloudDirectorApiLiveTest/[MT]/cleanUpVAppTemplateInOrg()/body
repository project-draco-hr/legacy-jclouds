{
  FluentIterable<VAppTemplate> vAppTemplates=FluentIterable.from(vdc.getResourceEntities()).filter(ReferencePredicates.<Reference>typeEquals(VAPP_TEMPLATE)).transform(new Function<Reference,VAppTemplate>(){
    @Override public VAppTemplate apply(    Reference in){
      return context.getApi().getVAppTemplateApi().get(in.getHref());
    }
  }
).filter(Predicates.notNull());
  Iterables.removeIf(vAppTemplates,new Predicate<VAppTemplate>(){
    @Override public boolean apply(    VAppTemplate input){
      if (input.getName().startsWith("captured-") || input.getName().startsWith("uploaded-") || input.getName().startsWith("vappTemplateClone-"))       context.getApi().getVAppTemplateApi().remove(input.getHref());
      return false;
    }
  }
);
}
