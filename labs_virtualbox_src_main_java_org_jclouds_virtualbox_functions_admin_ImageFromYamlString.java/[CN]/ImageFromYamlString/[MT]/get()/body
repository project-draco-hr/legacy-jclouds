{
  Constructor constructor=new Constructor(Config.class);
  TypeDescription imageDesc=new TypeDescription(YamlImage.class);
  imageDesc.putListPropertyType("images",String.class);
  constructor.addTypeDescription(imageDesc);
  Yaml yaml=new Yaml(constructor);
  Config config=(Config)yaml.load(yamlDescriptor);
  checkState(config != null,"missing config: class");
  checkState(config.images != null,"missing images: collection");
  Map<Image,YamlImage> backingMap=Maps.newLinkedHashMap();
  for (  YamlImage yamlImage : config.images) {
    backingMap.put(YamlImage.toImage.apply(yamlImage),yamlImage);
  }
  return backingMap;
}
