{
  ServerRequest server=new ServerRequest(checkNotNull(postParams.get("name"),"name parameter not present"),checkNotNull(postParams.get("imageRef"),"imageRef parameter not present"),checkNotNull(postParams.get("flavorRef"),"flavorRef parameter not present"));
  if (metadata.size() > 0)   server.metadata=metadata;
  if (files.size() > 0)   server.personality=files;
  if (keyName != null)   server.key_name=keyName;
  return bindToRequest(request,ImmutableMap.of("server",server));
}
