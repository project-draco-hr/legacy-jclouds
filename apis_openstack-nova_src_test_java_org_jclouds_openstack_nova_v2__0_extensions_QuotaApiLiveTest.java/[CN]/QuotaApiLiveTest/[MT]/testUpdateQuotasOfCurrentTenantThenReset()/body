{
  if (apiOption.isPresent()) {
    QuotaApi api=apiOption.get();
    Quotas before=api.getQuotasForTenant(tenant);
    assertQuotasIsValid(before);
    Quotas modified=before.toBuilder().cores(before.getCores() - 1).instances(before.getInstances() - 1).metadataItems(before.getMetadataItems() - 1).ram(before.getRam() - 1).volumes(before.getVolumes() - 1).build();
    assertTrue(api.updateQuotasForTenant(tenant,modified));
    assertEquals(api.getQuotasForTenant(tenant),modified);
    assertTrue(api.updateQuotasForTenant(tenant,before));
    assertEquals(api.getQuotasForTenant(tenant),before);
  }
}
