{
  if (emptyToNull(provider) == null)   throw new NullPointerException("provider must not be null or empty:" + provider);
  if (emptyToNull(identity) == null)   throw new NullPointerException("identity must not be null or empty:" + provider);
  Properties overrides=new Properties();
  overrides.setProperty(Constants.PROPERTY_TRUST_ALL_CERTS,"true");
  overrides.setProperty(Constants.PROPERTY_RELAX_HOSTNAME,"true");
  overrides.setProperty(provider + ".identity",identity);
  if (credential != null)   overrides.setProperty(provider + ".credential",credential);
  if (endpoint != null)   overrides.setProperty(provider + ".endpoint",endpoint);
  if (apiversion != null)   overrides.setProperty(provider + ".apiversion",apiversion);
  if (imageId != null)   overrides.setProperty(provider + ".image-id",imageId);
  if (loginUser != null)   overrides.setProperty(provider + ".image.login-user",loginUser);
  if (authenticateSudo != null)   overrides.setProperty(provider + ".image.authenticate-sudo",authenticateSudo);
  return overrides;
}
