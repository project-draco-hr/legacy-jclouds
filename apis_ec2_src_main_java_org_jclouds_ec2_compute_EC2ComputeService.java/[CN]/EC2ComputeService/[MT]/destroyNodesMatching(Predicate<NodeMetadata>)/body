{
  Set<? extends NodeMetadata> deadOnes=super.destroyNodesMatching(filter);
  Builder<String,String> regionGroups=ImmutableMap.<String,String>builder();
  for (  NodeMetadata nodeMetadata : deadOnes) {
    if (nodeMetadata.getGroup() != null)     regionGroups.put(AWSUtils.parseHandle(nodeMetadata.getId())[0],nodeMetadata.getGroup());
  }
  for (  Entry<String,String> regionGroup : regionGroups.build().entrySet()) {
    cleanUpIncidentalResources(regionGroup);
  }
  return deadOnes;
}
