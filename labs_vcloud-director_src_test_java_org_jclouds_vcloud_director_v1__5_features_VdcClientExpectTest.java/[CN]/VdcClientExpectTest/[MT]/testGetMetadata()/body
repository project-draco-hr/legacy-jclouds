{
  URI vdcUri=URI.create(endpoint + "/vdc/e9cd3387-ac57-4d27-a481-9bee75e0690f");
  VCloudDirectorClient client=requestsSendResponses(loginRequest,sessionResponse,getStandardRequest("GET","/vdc/e9cd3387-ac57-4d27-a481-9bee75e0690f/metadata"),getStandardPayloadResponse("/vdc/metadata.xml",VCloudDirectorMediaType.METADATA));
  Metadata expected=Metadata.builder().type("application/vnd.vmware.vcloud.metadata+xml").href(URI.create("https://vcloudbeta.bluelock.com/api/vdc/e9cd3387-ac57-4d27-a481-9bee75e0690f/metadata")).link(Link.builder().rel("up").type("application/vnd.vmware.vcloud.vdc+xml").href(URI.create("https://vcloudbeta.bluelock.com/api/vdc/e9cd3387-ac57-4d27-a481-9bee75e0690f")).build()).entries(ImmutableSet.of(MetadataEntry.builder().entry("key","value").build())).build();
  Reference vdcRef=Reference.builder().href(vdcUri).build();
  assertEquals(client.getVdcClient().getMetadata(vdcRef),expected);
}
