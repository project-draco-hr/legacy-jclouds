{
  VCloudDirectorClient client=requestsSendResponses(loginRequest,sessionResponse,new VcloudHttpRequestPrimer().apiCommand("GET","/vdc/aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee").acceptAnyMedia().httpRequestBuilder().build(),new VcloudHttpResponsePrimer().xmlFilePayload("/vdc/error403-fake.xml",VCloudDirectorMediaType.ERROR).httpResponseBuilder().statusCode(403).build());
  String message="No access to entity \"com.vmware.vcloud.entity.vdc:aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee\".";
  try {
    client.getVdcClient().getVdc(URI.create(endpoint + "/vdc/aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee"));
    fail("Should give HTTP 403 error");
  }
 catch (  ResourceNotFoundException rnfe) {
    assertEquals(rnfe.getMessage(),message);
  }
catch (  Exception e) {
    fail("Should have thrown a ResourceNotFoundException");
  }
}
