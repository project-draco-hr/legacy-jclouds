{
  VCloudDirectorClient client=requestsSendResponses(loginRequest,sessionResponse,new VcloudHttpRequestPrimer().apiCommand("POST","/vdc/e9cd3387-ac57-4d27-a481-9bee75e0690f/action/uploadVAppTemplate").xmlFilePayload("/vdc/params/uploadVAppTemplate.xml",VCloudDirectorMediaType.UPLOAD_VAPP_TEMPLATE_PARAMS).acceptAnyMedia().httpRequestBuilder().build(),new VcloudHttpResponsePrimer().xmlFilePayload("/vdc/uploadVAppTemplate.xml",VCloudDirectorMediaType.V_APP_TEMPLATE).httpResponseBuilder().build());
  VAppTemplate expected=uploadVAppTemplate();
  UploadVAppTemplateParams params=UploadVAppTemplateParams.builder().build();
  assertEquals(client.getVdcClient().uploadVAppTemplate(vdcRef,params),expected);
}
