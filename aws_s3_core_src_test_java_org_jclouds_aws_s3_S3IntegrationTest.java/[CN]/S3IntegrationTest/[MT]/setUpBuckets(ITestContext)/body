{
synchronized (bucketNames) {
    if (bucketNames.peek() == null) {
      try {
        deleteEverything();
      }
 catch (      AssertionError e) {
        deleteEverything();
      }
      for (; bucketIndex < bucketCount; bucketIndex++) {
        String bucketName=bucketPrefix + bucketIndex;
        try {
          createBucketAndEnsureEmpty(bucketName);
          bucketNames.put(bucketName);
        }
 catch (        AssertionError e) {
          deleteBucket(bucketName);
          bucketCount++;
        }
      }
    }
  }
}
