{
  ServerClient client=requestSendsResponse(HttpRequest.builder().method("POST").endpoint(URI.create("https://api.glesys.com/server/clone/format/json")).headers(ImmutableMultimap.<String,String>builder().put("Accept","application/json").put("Authorization","Basic aWRlbnRpdHk6Y3JlZGVudGlhbA==").build()).payload(newUrlEncodedFormPayload(ImmutableMultimap.<String,String>builder().put("serverid","server111").put("hostname","hostname1").put("description","Description-of-server").put("disksize","1").put("memorysize","512").put("cpucores","1").build())).build(),HttpResponse.builder().statusCode(200).payload(payloadFromResource("/server_created.json")).build()).getServerClient();
  ServerCloneOptions options=(ServerCloneOptions)ServerCloneOptions.Builder.description("Description-of-server").disksize(1).memorysize(512).cpucores(1);
  ServerCreated expected=ServerCreated.builder().hostname("jclouds-test").id("xm3630641").ips(Ip.builder().ip("109.74.10.27").build()).build();
  assertEquals(client.cloneServer("server111","hostname1",options),expected);
}
