{
  S3Object s3Object=(S3Object)payload;
  checkNotNull(s3Object.getContentLength(),"contentLength");
  checkArgument(s3Object.getContentLength() <= 5l * 1024 * 1024* 1024,"maximum size for put object is 5GB");
  blobBinder.bindToRequest(request,object2Blob.apply(s3Object));
  if (s3Object.getMetadata().getCacheControl() != null) {
    request.getHeaders().put(HttpHeaders.CACHE_CONTROL,s3Object.getMetadata().getCacheControl());
  }
  if (s3Object.getMetadata().getContentDisposition() != null) {
    request.getHeaders().put("Content-Disposition",s3Object.getMetadata().getContentDisposition());
  }
  if (s3Object.getMetadata().getContentEncoding() != null) {
    request.getHeaders().put(HttpHeaders.CONTENT_ENCODING,s3Object.getMetadata().getContentEncoding());
  }
}
