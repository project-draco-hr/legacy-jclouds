{
  try {
    List<S3Bucket.Metadata> myBucketMetadata=context.getConnection().listOwnedBuckets().get(25,TimeUnit.SECONDS);
    List<S3Bucket> myBuckets=new ArrayList<S3Bucket>();
    for (    S3Bucket.Metadata metadata : myBucketMetadata) {
      S3Bucket bucket=context.getConnection().listBucket(metadata.getName()).get(10,TimeUnit.SECONDS);
      myBuckets.add(bucket);
    }
    request.setAttribute("buckets",myBuckets);
    request.setAttribute("className",className);
    String nextJSP="/WEB-INF/jsp/buckets.jsp";
    RequestDispatcher dispatcher=getServletContext().getRequestDispatcher(nextJSP);
    dispatcher.forward(request,response);
  }
 catch (  Exception e) {
    throw new ServletException(e);
  }
}
