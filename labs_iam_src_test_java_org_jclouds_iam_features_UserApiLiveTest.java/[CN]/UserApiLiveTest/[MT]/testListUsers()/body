{
  ImmutableList<User> users=api().list().concat().toList();
  getAnonymousLogger().info("users: " + users.size());
  for (  User user : users) {
    checkUser(user);
    assertEquals(api().get(user.getId()),user);
    if (user.getPath().isPresent()) {
      ImmutableSet<User> usersAtPath=api().listPathPrefix(user.getPath().get()).concat().toSet();
      assertTrue(usersAtPath.contains(user),user + " not in " + usersAtPath);
    }
  }
}
