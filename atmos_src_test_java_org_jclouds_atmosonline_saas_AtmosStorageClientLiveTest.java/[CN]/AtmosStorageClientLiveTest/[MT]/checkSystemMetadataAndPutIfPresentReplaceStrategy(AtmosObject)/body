{
  long time=System.currentTimeMillis();
  boolean update=true;
  try {
    connection.getSystemMetadata(privateDirectory + "/object");
  }
 catch (  KeyNotFoundException ex) {
    update=false;
  }
  try {
    if (update)     connection.updateFile(privateDirectory,object).get(30,TimeUnit.SECONDS);
 else     connection.createFile(privateDirectory,object).get(30,TimeUnit.SECONDS);
    System.err.printf("%s %s; %dms%n",update ? "updated" : "created",object.getData() instanceof InputStream ? "stream" : "string",System.currentTimeMillis() - time);
  }
 catch (  Exception e) {
    String message=(e.getCause().getCause() != null) ? e.getCause().getCause().getMessage() : e.getCause().getMessage();
    System.err.printf("failure %s %s; %dms: [%s]%n",update ? "updating" : "creating",object.getData() instanceof InputStream ? "stream" : "string",System.currentTimeMillis() - time,message);
    throw e;
  }
}
