{
  Catalog response=connection.getCatalog();
  for (  NamedResource resource : response.values()) {
    if (resource.getType().equals(VCloudMediaType.CATALOGITEM_XML)) {
      CatalogItem item=connection.getCatalogItem(resource.getId());
      if (item.getEntity().getType().equals(VCloudMediaType.VAPPTEMPLATE_XML)) {
        assertNotNull(connection.getVAppTemplate(item.getEntity().getId()));
      }
    }
  }
}
