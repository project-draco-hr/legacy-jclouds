{
  try {
    ISession session=manager.getSessionObject();
    IMachine immutableMachine=manager.getVBox().findMachine(machineId);
    immutableMachine.lockMachine(session,type);
    return immutableMachine;
  }
 catch (  VBoxException e) {
    throw new RuntimeException(String.format("error locking %s with %s lock: %s",machineId,type,e.getMessage()),e);
  }
}
