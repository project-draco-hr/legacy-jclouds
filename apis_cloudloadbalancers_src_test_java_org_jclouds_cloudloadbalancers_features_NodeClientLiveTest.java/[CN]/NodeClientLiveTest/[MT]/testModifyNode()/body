{
  for (  Entry<LoadBalancer,Set<Node>> entry : nodes.entrySet()) {
    for (    Node n : entry.getValue()) {
      String region=entry.getKey().getRegion();
      client.getNodeClient(region).modifyNode(entry.getKey().getId(),n.getId(),NodeAttributes.Builder.weight(23));
      assertEquals(client.getNodeClient(region).getNode(entry.getKey().getId(),n.getId()).getStatus(),Node.Status.ONLINE);
      Node newNode=client.getNodeClient(region).getNode(entry.getKey().getId(),n.getId());
      assertEquals(newNode.getStatus(),Node.Status.ONLINE);
      assertEquals(newNode.getWeight(),(Integer)23);
    }
  }
}
