{
  return makeListenable(service.submit(new Callable<Void>(){
    public Void call() throws Exception {
      clearContainerStrategy.execute(container,recursive());
      sync.deletePath(container);
      if (!Utils.enventuallyTrue(new Supplier<Boolean>(){
        public Boolean get(){
          return !sync.pathExists(container);
        }
      }
,300)) {
        throw new IllegalStateException(container + " still exists after deleting!");
      }
      return null;
    }
  }
),service);
}
